!function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=67)}([function(module,exports,__webpack_require__){"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},User=__webpack_require__(2),Language=__webpack_require__(1),_doWhenStack=[],_doWhenLocked=!1,_doWhenInterval=!1,_doWhenretryCount=0,_startDoWhenInterval=function(){_doWhenInterval||(_doWhenInterval=window.setInterval(Utils._doWhenCheck,50))},Cookie={setCookie:function(e,t,n,r){var a,i=new Date;i.setDate(i.getDate()+n),a=encodeURIComponent(t),n&&(a+="; expires="+i.toUTCString()),r&&(a+="; path="+r),document.cookie=e+"="+a},getCookie:function(e){var t,n,r,a=document.cookie.split(";");for(t=0;t<a.length;t++)if(n=a[t].substr(0,a[t].indexOf("=")),r=a[t].substr(a[t].indexOf("=")+1),(n=n.replace(/^\s+|\s+$/g,""))===e)return decodeURIComponent(r)}},Utils={capitalize:function(e){return e?e.charAt(0).toUpperCase()+(e.length>1?e.substr(1):""):""},capitalizeHyphenated:function(e){return this._classify(e,"-")},classify:function(e){return this._classify(e,"_")},_classify:function(e,t){var n=this,r="";if(t=t||"_",e&&-1!==e.lastIndexOf(t)){var a=e.split(t);_.each(a,function(e){r+=n.capitalize(e)})}else r=n.capitalize(e);return r},extendClass:function(e,t,n,r,a){if(!_.isObject(r))return e[n]=t;if(_.isObject(r.extendsFrom))return e[n]=r.extendsFrom.extend(r);if(!r.extendsFrom)return e[n]=t.extend(r);var i=e[a+"Custom"+r.extendsFrom]||e[a+r.extendsFrom]||e["Custom"+r.extendsFrom]||e[r.extendsFrom];return i||(DOTB.App.logger.warn('The "'+r.extendsFrom+'" component was not found to be used as the "'+n+"\"'s parent. Please update your code to point to an existing class."),i=t),e[n]=i.extend(r)},formatNumber:function(e,t,n,r,a){t=t||n;var i=e;return _.isNaN(e)||!_.isFinite(e)?i:_.isString(e)&&(e=parseFloat(e,10),_.isNaN(e))?i:_.isNumber(e)?(_.isString(n)&&(n=parseInt(n)),e=Big(e).toFixed(n),_.isString(r)&&_.isString(a)?this.addNumberSeparators(e,r,a):e):(_.isNull(e)||_.isUndefined(e)||DOTB.App.logger.warn("formatNumber: invalid variable type ("+(void 0===i?"undefined":_typeof(i))+")"),i)},formatNumberLocale:function(e){return this.formatNumber(e,User.getPreference("decimal_precision")||2,User.getPreference("decimal_precision")||2,User.getPreference("number_grouping_separator")||",",User.getPreference("decimal_separator")||".")},formatName:function(e,t){return t.replace(/(f)|(l)|(s)/g,function(t,n,r,a){return n?e.first_name||"":r?e.last_name||"":a&&(e.last_name||e.first_name)&&e.salutation||""}).replace(/^( )?,/g,"").replace(/, $/g,"").replace(/  /g," ").trim()},formatNameModel:function(e,t,n){n=n||User.getPreference("default_locale_name_format"),t=t||{};var r=DOTB.App.metadata.getModule(e)||{fields:{}},a=r.nameFormat||{};return _.reduce(n.split(""),function(e,n){if(n<"a"||n>"z")return e+n;if(!a[n])return e;var i;r.fields[a[n]]&&"enum"===r.fields[a[n]].type&&!_.isEmpty(r.fields[a[n]].options)&&(i=Language.getAppListStrings(r.fields[a[n]].options)[t[a[n]]]||t[a[n]]||"");return e+(i||t[a[n]]||"")},"").replace(/^( )?,/g,"").replace(/, +$/g,"").replace(/  /g," ").trim()},formatNameLocale:function(e){return this.formatName(e,User.getPreference("default_locale_name_format"))},addNumberSeparators:function(e,t,n){for(var r=e.split("."),a=/(\d+)(\d{3})/;""!==t&&a.test(r[0]);)r[0]=r[0].toString().replace(a,"$1"+t+"$2");return r[0]+(r.length>1&&""!==r[1]?n+r[1]:"")},unformatNumberString:function(e,t,n,r){if(r=r||!1,void 0===t||void 0===n)return e;if(_.isString(e)||(e=_.isFinite(e)?e.toString():""),""!==t){var a=new RegExp("\\"+t,"g");e=e.replace(a,"")}if((e=e.replace(n,".")).length>0&&r){var i=parseFloat(e);if(i==e)return i}return e},unformatNumberStringLocale:function(e,t){return this.unformatNumberString(e,User.getPreference("number_grouping_separator")||",",User.getPreference("decimal_separator")||".",t)},formatString:function(e,t){for(var n in t)e=e.replace("{"+n+"}",t[n]);return e},regexEscape:function e(t){if(void 0===e.specialRegExp){e.specialRegExp=new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\","-",",","^","$","#"].join("|\\")+")","g")}return t.replace(e.specialRegExp,"\\$1")},generateUUID:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})},cookie:Cookie,isValidEmailAddress:function(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@\S+$/.test(e)},doWhen:function(e,t,n,r){_doWhenStack.push({check:e,fn:t,obj:n,overrideContext:r}),_doWhenretryCount=50,_startDoWhenInterval()},_doWhenCheck:function _doWhenCheck(){if(0===_doWhenStack.length)return _doWhenretryCount=0,void(_doWhenInterval&&(clearInterval(_doWhenInterval),_doWhenInterval=null));if(!_doWhenLocked){_doWhenLocked=!0;var tryAgain=$.isReady;tryAgain||(tryAgain=_doWhenretryCount>0&&_doWhenStack.length>0);var notAvail=[],executeItem=function(e,t){t.overrideContext&&(e=!0===t.overrideContext?t.obj:t.overrideContext),t.fn&&t.fn.call(e,t.obj)},i,len,item,test;for(i=0,len=_doWhenStack.length;i<len;i+=1)item=_doWhenStack[i],item&&(test=item.check,"string"==typeof test&&eval(test)||"function"==typeof test&&test()?(executeItem(this,item),_doWhenStack[i]=null):notAvail.push(item));if(_doWhenretryCount--,tryAgain){for(i=_doWhenStack.length-1;i>-1;i--)item=_doWhenStack[i],item&&item.check||_doWhenStack.splice(i,1);_startDoWhenInterval()}else _doWhenInterval&&(clearInterval(_doWhenInterval),_doWhenInterval=null);_doWhenLocked=!1}},versionCompare:function(e,t,n){return version_compare(e,t,n)},extendFrom:function(e,t,n){e.prototype=new t,_.extend(e.prototype,n)},deepCopy:function(e){return _.isObject(e)?JSON.parse(JSON.stringify(e)):e},compareBeans:function(e,t){if(e.module!==t.module)throw Error("Only beans of the same module can be compared.");return _.reduce(e.attributes,function(n,r,a){return"id"!==a&&0!==a.indexOf("_")&&!this.areBeanValuesEqual(r,t.get(a))&&this.hasDefaultValueChanged(a,e)&&n.push(a),n},[],this)},areBeanValuesEqual:function(e,t){var n=function(e){return _.isObject(e)&&_.isEmpty(e)?"":_.isObject(e)||!_.isUndefined(e)&&!_.isNull(e)?e:""};return e=n(e),t=n(t),_.isObject(e)&&_.isEqual(e,t)||!_.isObject(e)&&e===t},hasDefaultValueChanged:function(e,t){var n=t._defaults?t._defaults[e]:"";return!this.areBeanValuesEqual(n,t.get(e))},isConnectivityError:function(e){return 0===e.status||"timeout"===e.textStatus},getTimestamp:function(e,t){t=t||{};var n=(e?new Date(e):new Date).toISOString();return t.msecPrecision||(n=n.replace(/\.\d{3}/,"")),n.replace(/Z/,"+00:00")},buildUrl:function(e){return 0===e.indexOf("http")||_.isEmpty(DOTB.App.config.siteUrl)||(e=DOTB.App.config.siteUrl.replace(/\/+$/,"")+"/"+e),e},getChangedProps:function(e,t,n){function r(e){return _.isObject(e)?_.isArray(e)?"array":"object":"other"}var a={};return _.each(e,function(i,o){(function e(t,a){if(n)return _.isEqual(t,a);var i=r(t);if(i===r(a)&&_.contains(["object","array"],i)){if("array"===i&&t.length!==a.length)return!1;var o=_.keys(t),s=_.keys(a);return!(o.length!==s.length||!_.isEqual(o.sort(),s.sort())||_.any(t,function(n,r){return!e(t[r],a[r])}))}return n?t===a:t==a})(e[o],t[o])||(a[o]=i)}),a},getParentLayout:function(e){return e.view&&e.view.layout?e.view.layout:e.layout},isSortable:function(e,t){var n=DOTB.App.metadata.getModule(e).fields[t.name],r=!0;return n&&!_.isUndefined(n.sortable)&&(r=n.sortable),t&&!_.isUndefined(t.sortable)&&(r=t.sortable),r},stripHttpPrefix:function(e){return e.replace(/^https?:\/\//,"")},hardRefresh:function(){window.location.reload(!0)},isDirectionRTL:function(e){return new RegExp("^[^A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿Ⰰ-﬜﷾-﹯﻽-￿]*[֑-߿יִ-﷽ﹰ-ﻼ]").test(e)}};module.exports=Utils},function(e,t,n){"use strict";var r=n(4),a=n(2);function i(e,t,n,a){var i,s=DOTB.App.metadata.getStrings(e);if((s=n?s[n]:s)&&_.isString(s[t])){if(i=o(s[t]),!_.isUndefined(a)&&i.indexOf("{{")>-1){t="lang."+(n?t+"."+n:t);var c=Handlebars.templates[t];i=c?c(a):r.compile(t,i)(a)}return i}}function o(e){return":"===e.slice(-1)?e.slice(0,-1):e}var s=void 0,c=void 0;e.exports={direction:"ltr",get:function(e,t,n){return this.getModString(e,t,n)||this.getAppString(e,n)||e},getModString:function(e,t,n){var r;return _.isArray(t)?_.find(t,function(t){return r=i("mod_strings",e,t,n),!_.isEmpty(r)},this):r=i("mod_strings",e,t,n),r},getAppString:function(e,t){return i("app_strings",e,null,t)},getAppListStrings:function(e){var t=DOTB.App.metadata.getStrings("app_list_strings")[e]||{};if(_.isArray(t)){var n={};_.each(t,function(e){_.isString(e)?n[e]=e:_.isArray(e)&&2===e.length&&(n[e[0]]=e[1])}),t=n}return t},getModuleName:function(e,t){var n=!(t=t||{}).plural&&this.getModString("LBL_MODULE_NAME_SINGULAR",e)||this.getModString("LBL_MODULE_NAME",e);return n||_.isUndefined(t.defaultValue)||(n=this.get(t.defaultValue)),n||e},getAppListKeys:function(e){var t=[],n=DOTB.App.metadata.getStrings("app_list_strings")[e]||{};return _.isArray(n)?_.each(n,function(e){2===e.length&&t.push(e[0])}):_.isObject(n)&&(t=_.keys(n)),t},getLanguage:function(){return c},setLanguage:function(e,t,n){var r=this;n=n||{},_.each(Handlebars.templates,function(e,t){0===t.indexOf("lang.")&&delete Handlebars.templates[t]}),!0!==n.noSync?DOTB.App.sync({callback:function(a){var i=!1;a||(r.updateLanguage(e),i=!DOTB.App.api.isAuthenticated()&&!n.noUserUpdate,DOTB.App.cache.set("langHasChanged",i)),t&&t(a)},getPublic:!DOTB.App.api.isAuthenticated(),noUserUpdate:n.noUserUpdate||!1,language:e,forceRefresh:!0,metadataTypes:["labels"]}):this.updateLanguage(e)},updateLanguage:function(e){DOTB.App.cache.set("lang",e),a.setPreference("language",e),this.setCurrentLanguage(e),DOTB.App.trigger("app:locale:change",e)},setDefaultLanguage:function(e){s=e},getDefaultLanguage:function(){return s},setCurrentLanguage:function(e){c=e,this.setDirection(e)},setDirection:function(e){var t=_.contains(["he_IL","ar_SA"],e),n=this.direction;this.direction=t?"rtl":"ltr",this.direction!==n&&DOTB.App.trigger("lang:direction:change")},_get:function(e,t,n,r){if(DOTB.App.config.lumiaCompatMode)return DOTB.App.logger.warn("Core.Language#_get is a private method that you should not access to. You will NOT be allowed to access it in the next release. Please update your code to rely on the public API only."),i(e,t,n,r);DOTB.App.logger.error("Core.Language#_get is a private method that you are not allowed to access. Please use only the public API.")},_sanitize:function(e){if(DOTB.App.config.lumiaCompatMode)return DOTB.App.logger.warn("Core.Language#_sanitize is a private method that you should not access. You will NOT be allowed to access it in the next release. Please update your code to rely on the public API only."),o(e);DOTB.App.logger.error("Core.Language#_sanitize is a private method that you are not allowed to access. Please use only the public API.")}}},function(e,t,n){"use strict";var r=n(5);var a=new(Backbone.Model.extend({load:function(e){DOTB.App.api.me("read",null,null,{success:_.bind(function(t){if(t&&t.current_user){t.current_user._hash&&DOTB.App.cache.set("userpref:hash",t.current_user._hash),this.set(t.current_user);var n=this.getPreference("language");DOTB.App.lang.getLanguage()!==n&&DOTB.App.lang.setLanguage(n,null,{noUserUpdate:!0,noSync:DOTB.App.isSynced||DOTB.App.metadata.isSyncing()})}e&&e()},this),error:function(t){DOTB.App.error.handleHttpError(t),e&&e(t)}})},loadLocale:function(e){DOTB.App.api.call("read",DOTB.App.api.buildURL("locale"),null,{success:function(t){e&&e(t)},error:function(t){DOTB.App.error.handleHttpError(t),e&&e(t)}})},getLanguage:function(){return this.getPreference("language")||DOTB.App.cache.get("lang")},updateLanguage:function(e,t){this.update("update",{preferred_language:e},function(n){n||DOTB.App.lang.updateLanguage(e),t&&t(n)})},updateProfile:function(e,t){this.update("update",e,function(e){t&&t(e)})},updatePreferences:function(e,t){var n=this;DOTB.App.api.isAuthenticated()?DOTB.App.api.call("update",DOTB.App.api.buildURL("me/preferences"),e,{success:function(r){r._hash&&(DOTB.App.cache.set("userpref:hash",r._hash),n.set({_hash:r._hash})),_.each(e,function(e,t){r[t]&&n.setPreference(t,r[t])}),t&&t()},error:function(e){DOTB.App.error.handleHttpError(e),t&&t(e)}}):t&&t()},update:function(e,t,n){DOTB.App.api.isAuthenticated()?DOTB.App.api.me(e,t,null,{success:_.bind(function(e){e.current_user&&(e.current_user._hash&&DOTB.App.cache.set("userpref:hash",e.current_user._hash),this.set(e.current_user)),n&&n()},this),error:function(e){DOTB.App.error.handleHttpError(e),n&&n(e)}}):n()},getAcls:function(){return this.get("acl")||{}},getPreference:function(e){return(this.get("preferences")||{})[e]},setPreference:function(e,t){var n=this.get("preferences")||{};return n[e]=t,this.set("preferences",n)},getCurrency:function(){var e=this.get("preferences"),t={};return e&&(e.currency_create_in_preferred=e.currency_create_in_preferred||!1,t=_.pick(e,"currency_id","currency_iso","currency_name","currency_rate","currency_show_preferred","currency_create_in_preferred","currency_symbol")),t},lastState:function(){var e={},t=[],n=function(e){var t=e.split(":"),n=[DOTB.App.user.id,"last-state"];return(n=n.concat(t)).join(":")},r=function(e){var t;return e.meta&&e.meta.last_state&&(t=e.meta.last_state.id),t};return{get:function(e){var t,r;return _.isUndefined(e)||(r=n(e),t=void 0===(t=DOTB.App.cache.get(r))?this.defaults(e):t),t},set:function(e,t){if(!_.isUndefined(e)&&!_.isUndefined(t)){var r=n(e);DOTB.App.cache.set(r,t)}},preserve:function(e){_.isUndefined(e)||t.push(e)},key:function(e,t){var n=r(t);return this.buildKey(e,n,t.module)},buildKey:function(e,t,n){var r,a=[];return t&&(n&&a.push(n),a.push(t,e),r=a.join(":")),r},defaults:function(t){return e[t]},register:function(t){r(t)&&_.each(t.meta.last_state.defaults,function(n,r){e[this.key(r,t)]=n},this)},remove:function(e){var t;_.isUndefined(e)||(t=n(e),DOTB.App.cache.cut(t))},_getPreservedKeys:function(){var e=[];return _.each(t,function(t){e.push(n(t))}),e}}}()}));r.on("app:logout",function(e){DOTB.App.cache.cut("userpref:hash"),!0===e&&a.clear({silent:!0})}),r.on("cache:clean",function(e){e(a.lastState._getPreservedKeys())}),e.exports=a},function(e,t){e.exports=function(e){"undefined"!=typeof execScript?execScript(e):eval.call(null,e)}},function(module,exports,__webpack_require__){"use strict";var _header="(function() {\n  var template = Handlebars.template, templates = Handlebars.templates = Handlebars.templates || {};\n",_footer="})();",_templates={},_sources={},TemplateManager={init:function init(){_templates=DOTB.App.config.cacheMeta&&DOTB.App.cache.get("templates")||{};var src="";_.each(_templates,function(e){src+=e});try{eval(_header+src+_footer)}catch(e){DOTB.App.logger.error("Failed to eval templates retrieved from local storage:\n"+e)}},_add:function(e,t,n){var r=e[0],a=this.get(r,!1);a&&!n||(a&&n&&_sources[r]!=t&&(_templates[r]=Handlebars.templates[r]=null),_sources[r]=t)},_compile:function(e,t,n){return Handlebars.templates=Handlebars.templates||{},_templates[e[0]]=Handlebars.templates[e[0]]=n||!e[1]?this.compile(e[0],t):e[1],_templates[e[0]]},compile:function compile(key,src){try{_templates[key]="templates['"+key+"'] = template("+Handlebars.precompile(src)+");\n",eval(_header+_templates[key]+_footer)}catch(e){DOTB.App.logger.error("Failed to compile or eval template "+key+".\n"+e)}return this.get(key,!1)||this.empty},get:function(e,t){return(t=_.isUndefined(t)||t)&&!Handlebars.templates[e]&&_sources[e]&&this._compile([e],_sources[e]),Handlebars.templates?Handlebars.templates[e]:null},_getView:function(e,t,n){var r=e+(t?"."+t:"");return[r,this.get(r,n)]},getView:function(e,t){return this._getView(e,t,!0)[1]},_getField:function(e,t,n,r,a,i){var o,s="f."+e+".",c=s+(n?n+".":"")+t;return n+=".",(o=this.get(s+n+t,i)||this.get(s+t,i))||a||(o=this.get(s+n+r,i)||this.get(s+r,i))||(o=this.get("f.base."+t,i)||this.get("f.base."+r,i)),[c,o]},getField:function(e,t,n,r){return this._getField(e,t,n,r,!1,!0)[1]},_getLayout:function(e,t,n){var r="l."+(t?t+".":"")+e;return[r,this.get(r,n)]},getLayout:function(e,t){return this._getLayout(e,t,!0)[1]},setView:function(e,t,n,r){return this._add(this._getView(e,t,!1),n,r)},setField:function(e,t,n,r,a){return this._add(this._getField(e,t,n,null,!0,!1),r,a)},setLayout:function(e,t,n,r){return this._add(this._getLayout(e,t,!1),n,r)},set:function(e,t){e.views&&_.each(e.views,function(e,n){"_hash"!=n&&_.each(e.templates,function(e,r){r=n==r?r:n+"."+r,this.setView(r,null,e,t)},this)},this),e.fields&&_.each(e.fields,function(e,n){"_hash"!=n&&_.each(e.templates,function(e,r){this.setField(n,r,null,e,t)},this)},this),e.layouts&&_.each(e.layouts,function(e,n){"_hash"!=n&&_.each(e.templates,function(e,r){r=n==r?r:n+"."+r,this.setLayout(r,null,e,t)},this)},this)},empty:function(){return""}};module.exports=TemplateManager},function(e,t,n){"use strict";var r={},a=_.extend({},Backbone.Events,{register:function(e,t,n){n&&n.deprecated&&(r[e]=_.pick(n,"message")),t.on(e,function(){var t=[].slice.call(arguments,0);t.unshift(e),this.trigger.apply(this,t)},this)},unregister:function(e,t){e.off(t)},registerAjaxEvents:function(){var e=this;$(document).off("ajaxStop"),$(document).off("ajaxStart"),$(document).on("ajaxStart",function(t){e.trigger("ajaxStart",t)}),$(document).on("ajaxStop",function(t){e.trigger("ajaxStop",t)})},on:_.wrap(Backbone.Events.on,function(e,t,n,a){var i;_.has(r,t)&&(i=r[t].message?r[t].message:"The global event `"+t+"` is deprecated.",a&&(i+="\n"+a+" should not listen to it anymore."),DOTB.App.logger.warn(i));return e.call(this,t,n,a)})});e.exports=a},function(e,t,n){"use strict";var r=n(0),a=0,i={reset:function(){_.each(this.layouts,function(e,t){delete this.layouts[t]},this),_.each(this.views,function(e,t){delete this.views[t]},this),_.each(this.fields,function(e,t){delete this.fields[t]},this)},getFieldId:function(){return a},views:{},layouts:{},fields:{},_createComponent:function(e,t,n){var r=new(this.declareComponent(e,n.type||t,n.loadModule||n.module,n.controller,!1,this._getPlatform(n)))(n);return r.trigger("init"),r.bindDataChange(),r},createView:function(e){e.context=e.context||DOTB.App.controller.context,e.module=e.module||e.context.get("module"),e.name=e.name||e.type,e.meta=e.meta||DOTB.App.metadata.getView(e.module,e.name,e.loadModule),e.def&&e.def.xmeta&&(e.meta=_.extend({},e.meta,e.def.xmeta));var t=e.meta||{};return e.type=e.type||t.type||e.name,this._createComponent("view",e.type,e)},createLayout:function(e){e.context=e.context||DOTB.App.controller.context,e.module=e.module||e.context.get("module"),e.name=e.name||e.type,e.meta=e.meta||DOTB.App.metadata.getLayout(e.module,e.name,e.loadModule),e.def&&e.def.xmeta&&(e.meta=_.extend({},e.meta,e.def.xmeta));var t=e.meta||{};return e.type=e.type||t.type||e.name,this._createComponent("layout",e.type,e)},createField:function(e){var t=e.viewDefs?e.viewDefs.type:e.def.type;e.context=e.context||e.view.context||DOTB.App.controller.context,e.model=e.model||e.context.get("model"),e.module=e.module||(e.model&&e.model.module?e.model.module:e.context.get("module"))||"",e.sfId=++a;var n=this._createComponent("field",t,e);return e.nested?e.view.nestedFields[n.sfId]=n:e.view.fields[n.sfId]=n,n},_getPlatform:function(e){return e.platform||(DOTB.App.config&&DOTB.App.config.platform?DOTB.App.config.platform:"base")},_getController:function(e){var t=this._getBaseComponent(e.type,e.name,e.module,e.platform);return t.cache[t.moduleBasedClassName]?t.cache[t.moduleBasedClassName]:t.baseClass},componentHasPlugin:function(e){var t;return e.type&&e.name&&e.plugin?(t=this._getController(e))&&t.prototype&&_.contains(t.prototype.plugins,e.plugin):(DOTB.App.logger.error("componentHasPlugin requires type, name, and plugin parameters"),null)},declareComponent:function(e,t,n,a,i,o){i=!(!a||!i);var s=this._getBaseComponent(e,t,n,o,i);return i&&s.cache[s.moduleBasedClassName]&&delete s.cache[s.moduleBasedClassName],s.cache[s.moduleBasedClassName]||r.extendClass(s.cache,s.baseClass,s.moduleBasedClassName,a,s.platformNamespace)||s.baseClass},_getBaseComponent:function(e,t,n,a,i){a=this._getPlatform({platform:a});var o=r.capitalize(e),s=r.capitalize(a),c=r.capitalizeHyphenated(t)+o,l=s+(n||"")+c,u=s+(n||"")+"Custom"+c,d=this[e+"s"],h=r.capitalize(DOTB.App.config.appId)+o,f=d[s+"Custom"+c]||d[s+c]||d["BaseCustom"+c]||d["Base"+c]||d[c]||d["BaseBase"+o]||this["Custom"+h]||this[h]||this[o];return d[u]&&!i&&(l=u),{cache:d,platformNamespace:s,moduleBasedClassName:l,baseClass:f}}};e.exports=i},function(e,t,n){"use strict";var r=n(2),a={view:"read",readonly:"read",edit:"write",detail:"read",list:"read",disabled:"read"};function i(e,t){return"no"!==("no"===t.access?"no":t[e])}function o(e,t,n){var r=void 0;return e=a[e]||e,t.fields[n]&&t.fields[n][e]&&(r=t.fields[n][e]),"no"!==r}var s={hasAccess:function(e,t,n){var a=void 0,s=void 0;_.isObject(n)?(a=n.field,s=n.acls):(a=arguments[3],s=arguments[4]);var c=r.getAcls()[t];if(!c&&!s)return!0;if(c=c||{},s){var l=_.extend({},c.fields,s.fields);(c=_.extend({},c,s)).fields=l}var u=i(e,c);if(u&&a&&c.fields){u=o(e,c,a);var d=DOTB.App.metadata.getModule(t),h=d&&d.fields?d.fields[a]:null;u&&h&&h.group&&(u=o(e,c,h.group))}return u},hasAccessToModel:function(e,t,n){var r=void 0,a=void 0,i=void 0;return t&&(r=t.id,a=t.module,i=t.get("_acl")||{fields:{}}),"edit"!==e||r||(e="create"),this.hasAccess(e,a,{field:n,acls:i})},hasAccessToAny:function(e){return _.some(r.getAcls(),function(t,n){return this.hasAccess(e,n)},this)},_hasAccess:function(e,t){if(DOTB.App.config.lumiaCompatMode)return DOTB.App.logger.warn("Core.Acl#_hasAccess is a private method that you should not access. You will NOT be allowed to access it in the next release. Please update your code to rely on the public API only."),i(e,t);DOTB.App.logger.error("Core.Acl#_hasAccess is a private method that you are not allowed to access. Please use only the public API.")},_hasAccessToField:function(e,t,n){if(DOTB.App.config.lumiaCompatMode)return DOTB.App.logger.warn("Core.Acl#_hasAccessToField is a private method that you should not access. You will NOT be allowed to access it in the next release. Please update your code to rely on the public API only."),o(e,t,n);DOTB.App.logger.error("Core.Acl#_hasAccessToField is a private method that you are not allowed to access. Please use only the public API.")},clearCache:function(){DOTB.App.logger.warn("`Core.Acl#clearCache` is deprecated since 7.10 and will be removed in a future release. This method has no effect. Please do not use it anymore"),this._accessToAny={}}};Object.defineProperty(s,"action2permission",{configurable:!0,get:function(){return DOTB.App.logger.warn("`Core.Acl.action2permission` has been made private since 7.10 and you will not be able to access it in the next release. Please do not use it anymore"),a},set:function(e){DOTB.App.logger.warn("`Core.Acl.action2permission` has been made private since 7.10 and you will not be able to access it in the next release. Please do not use it anymore"),a=e}});var c={};Object.defineProperty(s,"_accessToAny",{configurable:!0,get:function(){return DOTB.App.logger.warn("`Core.Acl#_accessToAny` is deprecated since 7.10 and will be removed in a future release. Please do not use it anymore"),c},set:function(e){DOTB.App.logger.warn("`Core.Acl#_accessToAny` is deprecated since 7.10 and will be removed in a future release. Please do not use it anymore"),c=e}}),e.exports=s},function(e,t,n){"use strict";function r(e,t){if(i.plugins[t]&&i.plugins[t][e])return i.plugins[t][e]}function a(e,t){return!!_.find(e.disabledPlugins,function(e){return e===t})}var i={plugins:{view:{},field:{},layout:{},model:{},collection:{}},attach:function(e,t){_.each(e.plugins,function(n){var i=null;if(_.isObject(n)){var o=_.keys(n)[0];i=n[o],n=o}var s=r(n,t);if(s&&!a(e,n)){var c=_.extend({},_.isFunction(e.events)?e.events():e.events,s.events);_.extend(e,s),i&&(_.extend(e,i),i.events&&_.extend(c,i.events)),e.events=c,_.isFunction(s.onAttach)&&s.onAttach.call(e,e,s)}},this)},detach:function(e,t){_.each(e.plugins,function(n){var a=r(n,t);a&&_.isFunction(a.onDetach)&&a.onDetach.call(e,e,a)},this)},register:function(e,t,n){_.isArray(t)||(t=[t]),_.each(t,function(t){this.plugins[t]=this.plugins[t]||{},this.plugins[t][e]=n},this)},_isPluginDisabled:function(e,t){if(DOTB.App.config.lumiaCompatMode)return DOTB.App.logger.warn("Core.pluginManager#_isPluginDisabled is a private method that you should not access. You will NOT be allowed to access it in the next release. Please update your code to rely on the public API only."),a(e,t);DOTB.App.logger.error("Core.pluginManager#_isPluginDisabled is a private method that you are not allowed to access. Please use only the public API.")},_get:function(e,t){if(DOTB.App.config.lumiaCompatMode)return DOTB.App.logger.warn("Core.pluginManager#_get is a private method that you should not access. You will NOT be allowed to access it in the next release. Please update your code to rely on the public API only."),r(e,t);DOTB.App.logger.error("Core.pluginManager#_get is a private method that you are not allowed to access. Please use only the public API.")}};e.exports=i},function(e,t,n){"use strict";var r=n(15),a=n(2),i=Backbone.View.extend({_isInitialized:!1,constructor:function(e){return this.options=e||{},this._wrapInitialize(e),Backbone.View.apply(this,arguments)},_wrapInitialize:function(e){this.initialize=_.wrap(this.initialize,_.bind(function(t){t.call(this,e),this.initialize=t,this._isInitialized=!0,this.delegateEvents()},this))},initialize:function(e){this.context=e.context||DOTB.App.controller&&DOTB.App.controller.context||new Backbone.Model,this.meta=e.meta,this.module=e.module||this.context.get("module"),this.model=e.model||this.context.get("model"),this.collection=e.collection||this.context.get("collection"),this.meta&&this.meta.css_class&&this.$el.addClass(this.meta.css_class),this.updateVisibleState(!0),a.lastState.register(this)},_render:function(){return this},render:function(){return!0===this.disposed?(DOTB.App.logger.error("Unable to render component because it's disposed "+this+"\n"),!1):!!this.triggerBefore("render")&&(this._render(),this.trigger("render"),this)},delegateEvents:function(){return this._isInitialized?Backbone.View.prototype.delegateEvents.apply(this,arguments):this},setTemplateOption:function(e,t){this.options.templateOptions=this.options.templateOptions||{},this.options.templateOptions[e]=_.extend({},this.options.templateOptions[e],t)},bindDataChange:function(){},unbindData:function(){this.model&&this.model.off(null,null,this),this.collection&&this.collection.off(null,null,this)},unbind:function(){this.off(),this.offBefore(),this.undelegateEvents(),DOTB.App.events.off(null,null,this),DOTB.App.events.unregister(this),this.context&&this.context.off(null,null,this),this.layout&&this.layout.off(null,null,this)},loadData:_.noop,_dispose:function(){this.unbindData(),this.unbind(),this.remove(),this.model=null,this.collection=null,this.context=null,this.$el=null,this.el=null},dispose:function(){!0!==this.disposed&&(this._dispose(),this.disposed=!0)},toString:function(){return this.cid+"-"+(this.$el&&this.$el.id?this.$el.id:"<no-id>")+"/"+this.module+"/"+this.model+"/"+this.collection},closestComponent:_.noop,show:function(){if(!this.isVisible()){if(!this.triggerBefore("show"))return!1;this._show(),this.trigger("show")}},hide:function(){if(this.isVisible()){if(!this.triggerBefore("hide"))return!1;this._hide(),this.trigger("hide")}},isVisible:function(){return this._isVisible},updateVisibleState:function(e){this._isVisible=!!e},_show:function(){this.$el.removeClass("hide").show(),this.updateVisibleState(!0)},_hide:function(){this.$el.addClass("hide").hide(),this.updateVisibleState(!1)},_super:function(e,t){if(!e||!_.isString(e))return DOTB.App.logger.error("tried to call _super without specifying a parent method in "+this.name);var n,r=Object.getPrototypeOf(this);if(t=t||[],this._superStack=this._superStack||{},this._superStack[e]=this._superStack[e]||[],this._superStack[e].length>0){if(n=Object.getPrototypeOf(_.last(this._superStack[e])),_.contains(this._superStack[e],n))return DOTB.App.logger.error("Loop detected calling "+e+" from "+this.name)}else n=Object.getPrototypeOf(r);if(!r[e])return DOTB.App.logger.error("Unable to find method "+e+" on class "+this.name);for(;!n.hasOwnProperty(e)&&n!==i.prototype;)n=Object.getPrototypeOf(n);for(;r[e]===n[e]&&n!==i.prototype;)r=n,n=Object.getPrototypeOf(n);if(this._superStack[e].push(n),!n)return DOTB.App.logger.error("Unable to find parent of component "+this.name);if(!n[e])return DOTB.App.logger.error("Unable to find method "+e+" on parent class of "+this.name);var a=n[e].apply(this,t);return this._superStack[e].pop(),_.isEmpty(this._superStack[e])&&(this._superStack[e]=null),a},getPlaceholder:function(){return new Handlebars.SafeString('<span cid="'+this.cid+'"></span>')}});_.extend(i.prototype,r),e.exports=i},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=n(8),i=n(0),o=n(24);function s(e,t,n,r){_.isUndefined(t)||(_.isUndefined(e[n])&&(e[n]={}),e[n][r]=t)}Backbone.Model.prototype.doValidate=function(e,t){t(this.isValid())};var c=Backbone.Model.extend({constructor:function(e,t){a.attach(this,"model"),Backbone.Model.prototype.constructor.call(this,e,t)},initialize:function(e){Backbone.Model.prototype.initialize.call(this,e),this.setSyncedAttributes(this.attributes),this._bindEvents(),this._relatedCollections=this._relatedCollections||null,this._activeFetchRequest=null,this.isNew()&&this._defaults&&_.each(this._defaults,function(e,t){this.has(t)||this.set(t,e,{silent:!0})},this),this.fields&&(this.fields=i.deepCopy(this.fields)),this.addValidationTask("lumia",_.bind(this._doValidate,this))},fetch:function(e){return e=_.extend({},this.getOption(),e),this.abortFetchRequest(),this._activeFetchRequest=Backbone.Model.prototype.fetch.call(this,e),this._activeFetchRequest},getFetchRequest:function(){return this._activeFetchRequest},abortFetchRequest:function(){var e=this.getFetchRequest();e&&DOTB.App.api.abortRequest(e.uid)},set:function(e,t,n){if(_.isUndefined(e)||_.isNull(e))return this;var a;"object"===(void 0===e?"undefined":r(e))?(a=e,n=t):(a={})[e]=t,n=n||{};var i=this.getCollectionFields(a);return a=_.omit(a,_.keys(i)),Backbone.Model.prototype.set.call(this,a,n),this._setCollectionFieldValues(i,n),this},get:function(e){var t=Backbone.Model.prototype.get.call(this,e);return!this.fields||!this.fields[e]||"collection"!==this.fields[e].type||t instanceof DOTB.App.MixedBeanCollection?t:(t=this._createMixedBeanCollectionField(e),Backbone.Model.prototype.set.call(this,_.object([e],[t]),{silent:!0}),t)},_setCollectionFieldValues:function(e,t){_.each(e,function(e,n){if(e instanceof DOTB.App.MixedBeanCollection)this.get(n)!==e&&(this.stopListening(this.get(n)),Backbone.Model.prototype.set.call(this,_.object([n],[e]),t),this.listenTo(e,"update reset",function(e,t){this.trigger("change:"+n,this,e,t)}),this.off("sync",e.resetDelta,e),this.on("sync",e.resetDelta,e));else{var r={},a=this.get(n);_.isObject(e)&&e.records&&(r=_.extend(r,_.omit(e,"records")),e=e.records),_.each(r,function(e,t){a[t]=e}),a.offset=a.next_offset,a.reset(e,t)}},this)},_createMixedBeanCollectionField:function(e,t){var n=this.fields[e];if(n&&n.links){var r=n.links;_.isString(r)&&(r=[r]);var a={};_.each(r,function(e){_.isObject(e)&&_.has(e,"name")&&(e=e.name),_.isString(e)&&(a[e]=this.getRelatedCollection(e))},this);var i=DOTB.App.data.createMixedBeanCollection(t||[],{links:a,parentBean:this,collectionField:e});return this.listenTo(i,"update reset",function(t,n){this.trigger("change:"+e,this,t,n)}),this.off("sync",i.resetDelta,i),this.on("sync",i.resetDelta,i),i}},_bindEvents:function(){this.on("sync",function(){this._checkAcl(),this.setSyncedAttributes(this.attributes)},this)},_checkAcl:function(){var e=this._checkFieldAcls();!_.size(e)&&_.isEqual(_.omit(this.get("_acl"),"fields"),_.omit(this.getSynced("_acl"),"fields"))||this.trigger("acl:change",e)},_checkFieldAcls:function(){var e={},t=_.property("fields"),n=t(this.getSynced("_acl"))||{},r=t(this.get("_acl"))||{},a=_.extend({},n,r);return _.each(a,function(t,a){_.isEqual(n[a],r[a])||(this.trigger("acl:change:"+a),e[a]=!0)},this),e},dispose:function(){a.detach(this,"model")},_setRelatedCollection:function(e,t){this._relatedCollections||(this._relatedCollections={}),this._relatedCollections[e]=t},getRelatedCollection:function(e){return this._relatedCollections&&this._relatedCollections[e]?this._relatedCollections[e]:DOTB.App.data.createRelatedCollection(this,e)},isValidAsync:function(e,t){e=e||this.fields,async.waterfall(_.flatten([function(t){t(null,e,{})},_.sortBy(this._validationTasks)]),function(e,n,r){if(!e){var a=_.isEmpty(r);_.isFunction(t)&&t(a,r)}})},doValidate:function(e,t){var n=this;this.trigger("validation:start"),this.isValidAsync(e,function(e,r){e&&n.trigger("validation:success"),n.trigger("validation:complete",n._processValidationErrors(r)),_.isFunction(t)&&t(e)})},_doValidate:function(e,t,n){var r;_.each(e,function(e,n){_.isString(e)&&(n=e,e=this.fields[n]),r=this.get(n),e&&(s(t,o.requiredValidator(e,e.name,this,r),n,"required"),(r||0===r)&&_.each(o.validators,function(a,i){"url"!==i&&s(t,a(e,r,this),n,i)},this))},this),n(null,e,t)},addValidationTask:function(e,t){this._validationTasks=this._validationTasks||{},this._validationTasks[e]=t},removeValidationTask:function(e){this._validationTasks&&(this._validationTasks=_.omit(this._validationTasks,e))},_processValidationErrors:function(e){var t=!0;return _.isEmpty(e)||(DOTB.App.error.handleValidationError(this,e),_.each(e,function(e,t){this.trigger("error:validation:"+t,e)},this),this.trigger("error:validation",e),t=!1),t},save:function(e,t){var n=this;if(!t||!t.fieldsToValidate)return Backbone.Model.prototype.save.call(this,e,t);this.doValidate(t.fieldsToValidate,function(r){if(r)return Backbone.Model.prototype.save.call(n,e,t)})},canHaveAttachments:function(){return _.has(this.fields,"attachment_list")},getFiles:function(e,t){return(t=t||{}).passOAuthToken=!1,DOTB.App.api.file("read",{module:this.module,id:this.id},null,e,t)},copy:function(e,t,n){var r={},a=DOTB.App.metadata.getModule(this.module).fields;t=t||_.pluck(a,"name"),_.each(t,function(t){var n=a[t];if(n&&"no"!==n.duplicate_on_record_copy&&("always"===n.duplicate_on_record_copy||"id"!==t&&"link"!==n.type&&!n.auto_increment)&&e.has(t)){var o=e.get(t);_.isObject(o)&&(o=i.deepCopy(o)),r[t]=o}}),this.set(r,n),this.isCopied=!0},isCopy:function(){return!0===this.isCopied},uploadFile:function(e,t,n,r){return n=n||{},r=r||{},DOTB.App.api.file("create",{id:!0!==r.temp?this.id:"temp",module:this.module,field:e},t,n,r)},favorite:function(e,t){return(t=t||{}).favorite=!0,this.save({my_favorite:!!e},t)},follow:function(e,t){return e=e||!1,(t=t||{}).following=!0,this.save({following:e},t)},isFavorite:function(){var e=this.get("my_favorite");return"1"===e||!0===e},getChangeDiff:function(e,t){var n={};return e=e||{},t=t||[],_.each(this.attributes,function(r,a){if(!_.contains(t,a)){var i=e[a];_.isEqual(i,r)||(n[a]=i)}}),n},hasChanged:function(e){return this.get(e)instanceof DOTB.App.MixedBeanCollection?this.get(e).hasDelta():Backbone.Model.prototype.hasChanged.call(this,e)},toJSON:function(e){var t=e&&e.fields?e.fields:_.keys(this.attributes),n={};return _.each(t,function(t){var r=this.get(t);r instanceof DOTB.App.MixedBeanCollection?_.each(r.getDelta(),function(e,t){n[t]=e}):(_.isObject(r)&&_.isFunction(r.toJSON)&&(DOTB.App.logger.warn("Calling `toJSON` on object attributes is deprecated in 7.9 and will be removed in 7.10"),r=r.toJSON(e)),n[t]=r)},this),n},toString:function(){return"bean:"+this.module+"/"+(this.id?this.id:"<no-id>")},revertAttributes:function(e){(e=e||{}).revert=!0;var t=this.changedAttributes(this.getSynced());this.set(i.deepCopy(t)||{},e),e.silent||this.trigger("attributes:revert")},changedAttributes:function(e){var t=this,n=this.getCollectionFields(e);_.isUndefined(e)||(e=_.omit(e,_.keys(n)));var r=Backbone.Model.prototype.changedAttributes.call(this,e);return _.each(n,function(e,n){t.get(n).hasDelta()&&((r=r||{})[n]=e)},this),r},setSyncedAttributes:function(e){this._syncedAttributes=e?i.deepCopy(e):{}},getSynced:function(e){return e?this._syncedAttributes[e]:this._syncedAttributes},getDefault:function(e){var t=_.clone(this._defaults)||{};return _.isUndefined(e)?t:t[e]},setDefault:function(e,t){var n;return _.isObject(e)?n=e:(n={})[e]=t,this._defaults=_.extend({},this._defaults,n),this.attributes=_.defaults(this.attributes,n),this},setOption:function(e,t){var n;return _.isObject(e)?n=e:(n={})[e]=t,this._persistentOptions=_.extend({},this._persistentOptions,n),this},unsetOption:function(e){return e?this.setOption(e,void 0):this._persistentOptions={},this},getOption:function(e){return e?this._persistentOptions[e]:this._persistentOptions},fieldsOfType:function(e){return _.where(this.fields,{type:e})},getCollectionFields:function(e){return _.pick(e,_.pluck(this.fieldsOfType("collection"),"name"))},merge:function(e,t,n){return _.extend(e,t)}});e.exports=c},function(e,t,n){"use strict";var r=n(10),a=n(8),i=Backbone.Collection.extend({_activeFetchRequest:null,model:r,constructor:function(e,t){a.attach(this,"collection"),t&&t.link&&(this.link=t.link,delete t.link),Backbone.Collection.prototype.constructor.call(this,e,t)},initialize:function(e,t){this._persistentOptions={},this._create=[],this._delete=[],this._add=[],this.setOption(t),this._bindCollectionEvents(),Backbone.Collection.prototype.initialize.call(this,e,t),this.total=null},_bindCollectionEvents:function(){this.on("data:sync:complete",function(){this.getFetchRequest()&&(this._activeFetchRequest=null)},this),this.on("remove",this._decrementTotal,this),this.link&&this.on("sync",this.resetDelta,this)},_decrementTotal:function(){this.total&&this.total--},add:function(e,t){var n=this;return e=Backbone.Collection.prototype.add.call(this,e,t),_.isUndefined(e)||!this.link||t&&t.method?e:(e=_.isArray(e)?e:[e],_.each(e,function(e){if(e)if(e.isNew())n._create.push(e);else{var t=_.find(n._delete,e);t?n._delete=_.without(n._delete,t):n._add.push(e)}},this),1===e.length?e[0]:e)},remove:function(e,t){var n=this;return e=Backbone.Collection.prototype.remove.call(this,e,t),_.isUndefined(e)||!this.link?e:(e=_.isArray(e)?e:[e],_.each(e,function(e){e&&(e.isNew()?n._create=_.without(n._create,e):_.contains(n._add,e)?n._add=_.without(n._add,e):n._delete.push(e))},this),1===e.length?e[0]:e)},reset:function(e,t){return this.resetDelta(),Backbone.Collection.prototype.reset.call(this,e,t)},getDelta:function(){var e={};e.create=_.invoke(this._create,"toJSON");var t=DOTB.App.data.getOppositeLink(this.link.bean.module,this.link.name),n=DOTB.App.data.getRelationFields(this.module,t);return e.add=_.map(this._add,function(e){var t={id:e.id};return _.each(n,function(n){e.get(n)&&(t[n]=e.get(n))}),t}),e.delete=_.pluck(this._delete,"id"),e},hasDelta:function(){return!_.all([this._add,this._delete,this._create],_.isEmpty)},resetDelta:function(){this._create=[],this._add=[],this._delete=[]},dispose:function(){a.detach(this,"collection")},_prepareModel:function(e,t){var n=e._search;return delete e._search,(e=Backbone.Collection.prototype._prepareModel.call(this,e,t))&&!e.link&&(e.link=this.link),n&&(e.searchInfo=n),e},fetch:function(e){return e=_.extend({},this.getOption(),e),this.abortFetchRequest(),e.fields=this.fields=e.fields||this.fields||null,e.myItems=_.isUndefined(e.myItems)?this.myItems:e.myItems,e.favorites=_.isUndefined(e.favorites)?this.favorites:e.favorites,e.query=_.isUndefined(e.query)?this.query:e.query,e.reset=!!_.isUndefined(e.reset)||e.reset,this._activeFetchRequest=Backbone.Collection.prototype.fetch.call(this,e),this.getFetchRequest()},getFetchRequest:function(){return _.isFunction(this._activeFetchRequest)?this._activeFetchRequest():this._activeFetchRequest},abortFetchRequest:function(){var e=this.getFetchRequest();e&&(DOTB.App.api.abortRequest(e.uid),this._activeFetchRequest=null)},resetPagination:function(){this.offset=this.getOption("offset")||0,this.next_offset=0,this.page=this.getOption("page")||1},paginate:function(e){var t=(e=e||{}).limit||DOTB.App.config.maxQueryResult;e.page=e.page||1,e.reset=!_.isUndefined(e.reset)&&e.reset,e.page--,t&&_.isNumber(this.offset)&&(e.offset=this.offset+e.page*t),e.add&&(e=_.extend({update:!0,remove:!1},e)),this.fetch(e)},fetchTotal:function(e){if(e=e||{},_.isNull(this.total)||!_.isFunction(e.success)){e.success=_.wrap(e.success,_.bind(function(e,t){this.total=parseInt(t.record_count,10),e&&_.isFunction(e)&&e(this.total)},this));var t=this.module,n=null;e.filter=e.filterDef||this.filterDef,this.link&&(n={id:this.link.bean.id,link:this.link.name},t=this.link.bean.module);var r=_.pick(e,"success","complete","error");return e=_.omit(e,"success","complete","error"),DOTB.App.api.count(t,n,r,e)}e.success.call(this,this.total)},hasAtLeast:function(e,t){(t=t||{}).fields=["id"],delete t.view,t.silent=!0,t.success=_.wrap(t.success,_.bind(function(t,n){var r=n.records.length,a=r>=e,i={length:r,hasMore:-1!==n.next_offset};_.isFunction(t)&&t(a,i),this.reset(null,{silent:!0})},this));var n=this.module,r=null,a="records";t.filter=t.filterDef||this.filterDef,t.limit=t.limit||e,this.link&&(r={id:this.link.bean.id,link:this.link.name},n=this.link.bean.module,a="relationships");var i=_.pick(t,"success","complete","error");return t=_.omit(t,"success","complete","error"),t=DOTB.App.data.parseOptionsForSync("read",this,t),DOTB.App.api[a]("read",n,r,t.params,i,t.apiOptions)},getPageNumber:function(e){var t=1,n=DOTB.App.config.maxQueryResult;return e&&(n=e.limit||n),this.offset&&n&&(t=Math.ceil(this.offset/n)),t},toString:function(){return"coll:"+(this.link?this.link.bean.module+"/"+this.link.bean.id+"/":"")+this.module+"-"+this.length},getNext:function(e,t){var n=this,r=-1,a=function(){t.apply(n,[n.at(r+1),"next"])};this.hasNextModel(e)&&((r=this.getModelIndex(e))+1>=this.length?this.paginate({add:!0,success:a}):a())},getPrev:function(e,t){var n=-1,r=null;this.hasPreviousModel(e)&&(n=this.getModelIndex(e),r=this.at(n-1)),t.apply(this,[r,"prev"])},hasNextModel:function(e){var t=this.getModelIndex(e),n=_.isUndefined(this.next_offset)?-1:parseInt(this.next_offset,10);return t>=0&&(this.length>t+1||-1!==n)},hasPreviousModel:function(e){return this.getModelIndex(e)>0},getModelIndex:function(e){return this.indexOf(this.get(e.id))},setOption:function(e,t){var n;return _.isObject(e)?n=e:(n={})[e]=t,_.extend(this._persistentOptions,n),this},unsetOption:function(e){return e?this.setOption(e,void 0):this._persistentOptions={},this},getOption:function(e){return e?this._persistentOptions[e]:this._persistentOptions},clone:function(){var e=Backbone.Collection.prototype.clone.call(this);return e.link=_.clone(this.link),e.setOption(_.clone(this.getOption())),e}});e.exports=i},function(e,t,n){"use strict";var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=n(2),i=n(1),o=moment;_.extend(o,{InvalidException:function(e,t){this.name="InvalidException",this.message=e,this.date=t},_cachedFormats:{},_serverDateFormat:"YYYY-MM-DD",_serverLocale:"en",convertFormat:function(e){if(o._cachedFormats[e])return o._cachedFormats[e];var t=e;return _.each([["d","DD"],["m","MM"],["Y","YYYY"],["H","HH"],["h","hh"],["G","H"],["g","h"],["i","mm"]],function(e){var n=r(e,2),a=n[0],i=n[1];t=t.replace(a,i)}),o._cachedFormats[e]=t,t},compare:function(e,t){var n=moment(e),r=moment(t);if(!n.isValid())throw new o.InvalidException("Invalid date passed for comparison.",e);if(!r.isValid())throw new o.InvalidException("Invalid date passed for comparison.",t);return n.isBefore(r)?-1:n.isAfter(r)?1:0},getUserDateFormat:function(e){return e=e||a,this.convertFormat(e.getPreference("datepref"))},getUserTimeFormat:function(e){return e=e||a,this.convertFormat(e.getPreference("timepref"))}});var s={};_.extend(o,{parse:function(e,t){DOTB.App.logger.warn("The function `Utils.Date.parse()` is deprecated and will be removed in a future release. Please do not use it");var n,r,a,i,o,s,c=new Date("Jan 1, 1970 00:00:00"),l="";if(e instanceof Date)return e;if(t||(t=this.guessFormat(e)),!1===t)return!!/^\d+$/.test(e)&&new Date(e);for(n=$.trim(e),t=$.trim(t)+" ",r=0;r<t.length;r++)if(":"===(a=t.charAt(r))||"/"===a||"-"===a||"."===a||" "===a||"a"===a||"A"===a){switch(-1===(i=n.indexOf(a))&&(i=n.length),o=n.substring(0,i),n=n.substring(i+1),l){case"m":if(!(o>0&&o<13))return!1;c.setMonth(o-1);break;case"d":if(!(o>0&&o<32))return!1;c.setDate(o);break;case"Y":if(o>0==!1)return!1;c.setYear(o);break;case"h":s=t.substring(t.length-4),o=parseInt(o,10);var u=$.trim(s.toLowerCase());if("i a"===u||u===a+"ia"){var d=n.substring(n.length-2).toLowerCase();"pm"===d?o<12&&(o+=12):"am"===d&&12===o&&(o=0)}c.setHours(o);break;case"H":c.setHours(o);break;case"i":o=o.substring(0,2),c.setMinutes(o);break;case"s":c.setSeconds(o)}l=""}else l=a;return c},guessFormat:function(e){if(DOTB.App.logger.warn("The function `Utils.Date.guessFormat()` is deprecated and will be removed in a future release. Please do not use it"),"string"!=typeof e)return!1;var t,n,r,a,i,o,s,c,l="";if(-1!==e.indexOf(" ")&&(l=e.substring(e.indexOf(" ")+1,e.length),e=e.substring(0,e.indexOf(" "))),t="/",-1!==e.indexOf("/"));else if(-1!==e.indexOf("-"))t="-";else{if(-1===e.indexOf("."))return!1;t="."}if(r="",4===(n=e.split(t))[0].length)r="Y"+t+"m"+t+"d";else{if(4!==n[2].length)return!1;r="m"+t+"d"+t+"Y"}return a="",i=[],""!==l&&(i.push("i"),o=":",2===l.indexOf(".")&&(o="."),3===l.split(o).length&&i.push("s"),s="","am"===(c=l.substring(l.length-2,l.length)).toLowerCase()||"pm"===c.toLowerCase()?(i.unshift("h"),s=c.toLowerCase()===c?"lower":"upper"):i.unshift("H"),a=i.join(o),-1!==l.indexOf(" ")&&(a+=" "),s&&"upper"===s?a+="A":s&&"lower"===s&&(a+="a"),r=r+" "+a),r},parseFormat:function(e){if(DOTB.App.logger.warn("The function `Utils.Date.parseFormat()` is deprecated and will be removed in a future release. Please do not use it"),!(e in s)){var t,n,r={};for(t=0;t<e.length;t++)switch(n=e.charAt(t)){case"m":case"n":r.month=n;break;case"d":case"j":r.day=n;break;case"Y":r.year=n;break;case"H":case"h":case"g":r.hours=n;break;case"i":r.minutes=n;break;case"s":r.seconds=n;break;case"A":case"a":r.amPm=n}s[e]=r}return s[e]},format:function(e,t){if(DOTB.App.logger.warn("The function `Utils.Date.format()` is deprecated and will be removed in a future release. Please do not use it"),!_.isDate(e))return"";var n,r,a,i,o,s,c="";for(n=0;n<t.length;n++)switch(r=t.charAt(n)){case"\\":c+=t.charAt(n+1),n++;break;case"m":case"n":c+=(o=e.getMonth()+1)<10&&"m"===r?"0"+o:o;break;case"d":case"j":c+=(a=e.getDate())<10&&"d"===r?"0"+a:a;break;case"Y":c+=e.getFullYear();break;case"H":case"h":case"g":i=e.getHours(),"h"!==r&&"g"!==r||(i=0===(i=i>12?i-12:i)?12:i),c+=i<10&&"g"!==r?"0"+i:i;break;case"i":c+=(o=e.getMinutes())<10?"0"+o:o;break;case"s":c+=(s=e.getSeconds())<10?"0"+s:s;break;case"a":case"A":e.getHours()<12?c+="a"===r?"am":"AM":c+="a"===r?"pm":"PM";break;default:c+=r}return c},roundTime:function(e){if(DOTB.App.logger.warn("The function `Utils.Date.roundTime()` is deprecated and will be removed in a future release. Please do not use it"),!e.getMinutes)return 0;var t=e.getMinutes();return t<1?t=0:t<16?t=15:t<31?t=30:t<46?t=45:(t=0,e.setHours(e.getHours()+1)),e.setMinutes(t),e},UTCtoLocalTime:function(e){return DOTB.App.logger.warn("The function `Utils.Date.UTCtoLocalTime()` is deprecated and will be removed in a future release. Please do not use it"),e instanceof Date?new Date(this.toUTC(e)):e},UTCtoTimezone:function(e,t){return DOTB.App.logger.warn("The function `Utils.Date.UTCtoTimezone()` is deprecated and will be removed in a future release. Please do not use it"),e instanceof Date&&null!=t?(t=60*parseFloat(t)*60*1e3,t-=60*e.getTimezoneOffset()*1e3*-1,new Date(this.toUTC(e)+t)):e},toUTC:function(e){if(DOTB.App.logger.warn("The function `Utils.Date.toUTC()` is deprecated and will be removed in a future release. Please do not use it"),!(e instanceof Date))return e;var t=e.getFullYear(),n=e.getMonth(),r=e.getDate(),a=e.getHours(),i=e.getMinutes(),o=e.getSeconds(),s=e.getMilliseconds();return Date.UTC(t,n,r,a,i,o,s)},getRelativeTimeLabel:function(e){DOTB.App.logger.warn("The function `Utils.Date.getRelativeTimeLabel()` is deprecated and will be removed in a future release. Please do not use it");var t=new Date,n=t.getTime()<e.getTime(),r=n?e-t:t-e,a={str:"",value:void 0};return isNaN(r)||r<0?a:r<2e3?(a.str="LBL_TIME_AGO_NOW",a):r<6e4?(a.str=n?"LBL_TIME_UNTIL_SECONDS":"LBL_TIME_AGO_SECONDS",a.value=Math.floor(r/1e3),a):r<12e4?(a.str=n?"LBL_TIME_UNTIL_MINUTE":"LBL_TIME_AGO_MINUTE",a):r<36e5?(a.str=n?"LBL_TIME_UNTIL_MINUTES":"LBL_TIME_AGO_MINUTES",a.value=Math.floor(r/6e4),a):r<72e5?(a.str=n?"LBL_TIME_UNTIL_HOUR":"LBL_TIME_AGO_HOUR",a):r<864e5?(a.str=n?"LBL_TIME_UNTIL_HOURS":"LBL_TIME_AGO_HOURS",a.value=Math.floor(r/36e5),a):r>864e5&&r<1728e5?(a.str=n?"LBL_TIME_UNTIL_DAY":"LBL_TIME_AGO_DAY",a):r<31536e6?(a.str=n?"LBL_TIME_UNTIL_DAYS":"LBL_TIME_AGO_DAYS",a.value=Math.floor(r/864e5),a):(a.str=n?"LBL_TIME_UNTIL_YEAR":"LBL_TIME_AGO_YEAR",a)},parseDisplayDefault:function(e,t){var n,r,a,i,o,s,c;DOTB.App.logger.warn("The function `Utils.Date.parseDisplayDefault()` is deprecated and will be removed in a future release. Please do not use it");var l,u,d,h=t||new Date;if(!e)return e;if(s=function(e,t){var n=e.getDate();return e.setMonth(e.getMonth()+t),e.getDate()<n&&(e.setDate(1),e.setDate(e.getDate()-1)),e},c=function(e){var t,n;t=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],n=h.getDay(),e=e.toLowerCase();for(var r=7;r--;)if(e===t[r]){e=r<=n?r+7:r;break}return e-n},n={day:function(e){return new Date(h.setDate(h.getDate()+e))},week:function(e){return new Date(h.setDate(h.getDate()+7*e))},month:function(e){return s(h,e)},year:function(e){return s(h,12*e)},now:function(){return h},"next monday":function(){return new Date(h.setDate(h.getDate()+c("monday")))},"next friday":function(){return new Date(h.setDate(h.getDate()+c("friday")))},"first of next month":function(){h.setDate(1);var e=h.setMonth(h.getMonth()+1);return new Date(e)}},e&&e.indexOf("&")>=0?(i=(a=e.split("&"))[0],o=a[1]):i=e,i.match(/\b(now|day|week|month|year)/g))if(0===i.indexOf("now")?u="now":-1!==i.indexOf("first day of next month")?u="firstnextmonth":(l=(d=i.split(" "))[0],u=d[1]),u.match("now"))r=n.now();else if(u.match("firstnextmonth"))r=n["first of next month"]();else if(u.match("days?"))r=n.day(parseInt(l,10));else if(u.match("weeks?"))r=n.week(parseInt(l,10));else if(u.match("months?"))r=n.month(parseInt(l,10));else if(u.match("years?"))r=n.year(parseInt(l,10));else{if(!n[i])return;r=n[i]()}else{if(!n[i])return;r=n[i]()}return function(e){var t,n,r;(t=/^(\d\d?).(\d{2}).?([ap]m)?$/.exec(o))&&t.length>2&&((n=t[1])&&("pm"===t[3]?n<12&&(n=parseInt(n,10)+12):"12"===n&&(n="0"),e.setHours(parseInt(n,10))),(r=t[2])&&e.setMinutes(parseInt(r,10)))}(r),r},toDatepickerFormat:function(e){if(_.isUndefined(e)||!e)return"";var t={y:"yy",Y:"yyyy",m:"mm",d:"dd"};return e.replace(/[yYmd]/g,function(e){return t[e]})},stripIsoTimeDelimterAndTZ:function(e){if(DOTB.App.logger.warn("The function `Utils.Date.stripIsoTimeDelimterAndTZ()` is deprecated and will be removed in a future release. Please do not use it"),!_.isUndefined(e)&&e)return e.replace("T"," ").substr(0,19)},isIso:function(e){return DOTB.App.logger.warn("The function `Utils.Date.isIso()` is deprecated and will be removed in a future release. Please do not use it"),!!e.match(/^([0-9]{4})-?(1[0-2]|0[1-9])-?(3[0-1]|0[1-9]|[1-2][0-9])$/)||!(!e.match(/[T\+Z ]/g)||!e.match(/^([0-9]{4})-?(1[0-2]|0[1-9])-?(3[0-1]|0[1-9]|[1-2][0-9])/))}}),_.extend(o.fn,{formatUser:function(e,t){var n=o.getUserDateFormat(t);return e||(n+=" "+o.getUserTimeFormat(t)),this.format(n)},formatServer:function(e){var t=e&&o._serverDateFormat,n=this.locale();this.locale(o._serverLocale);var r=this.format(t);return this.locale(n),r},isBetween:function(e,t,n){n=!!_.isUndefined(n)||n;var r=this.isAfter(e)&&this.isBefore(t);return n&&!r&&(r=this.isSame(e)||this.isSame(t)),r}}),_.extend(o.duration.fn,{format:function(){var e=[],t=this.minutes(),n=this.hours(),r=Math.floor(this.asDays());return r>0&&(e.push(r),e.push(i.get(1===r?"LBL_DURATION_DAY":"LBL_DURATION_DAYS"))),n>0&&(e.push(n),e.push(i.get(1===n?"LBL_DURATION_HOUR":"LBL_DURATION_HOURS"))),t>0&&(e.push(t),e.push(i.get(1===t?"LBL_DURATION_MINUTE":"LBL_DURATION_MINUTES"))),e.join(" ")}}),e.exports=o},function(e,t,n){"use strict";var r=n(30),a=n(0),i=n(6),o={},s={preventAnyAlert:!1,init:function(){this.$alerts=$("#alerts"),this.klass=r,DOTB.App.config&&(this.$alerts=$(DOTB.App.config.alertsEl).length?$(DOTB.App.config.alertsEl):this.$alerts,this.klass=i[a.capitalize(DOTB.App.config.appId)+"AlertView"]||i.views[a.capitalize(DOTB.App.config.platform)+"AlertView"]||i.views.BaseAlertView||i[a.capitalize(DOTB.App.config.platform)+"AlertView"]||this.klass),_.each(this.$alerts.find(".alert-wrapper"),function(e,t){var n="init-"+t;o[n]=this._create(n,{el:e})},this)},show:function(e,t){if(!this.$alerts||!this.$alerts.length)return null;if(this.preventAnyAlert)return null;"confirmation"===(t=_.extend({level:"info",autoClose:!1},t||{})).level&&(this.dismissAll(),this.preventAnyAlert=!0),t.messages&&(t.messages=_.isString(t.messages)?[t.messages]:t.messages);var n=o[e];return n||(n=this._create(e,t),o[e]=n),n.level=t.level,t.autoClose&&this._setAutoCloseTimer(n,t.onAutoClose,t.autoCloseDelay),n.render(),n},_create:function(e,t){var n=new this.klass(t);return n.key=e,n.$el.prependTo(this.$alerts),n},_setAutoCloseTimer:function(e,t,n){e.timerId&&clearTimeout(e.timerId),e.timerId=setTimeout(_.bind(function(){_.isFunction(t)&&t(e.key),this.dismiss(e.key)},this),n||DOTB.App.config.alertAutoCloseDelay||5e3)},dismiss:function(e,t){this.preventAnyAlert=!1;var n=o[e];n&&(n.timerId&&clearTimeout(n.timerId),n.dispose(),delete o[e])},dismissAll:function(e,t){_.each(o,function(n,r){e&&n.level!=e||this.dismiss(r,t)},this)},get:function(e){return o[e]},getAll:function(){return o}};e.exports=s},function(e,t,n){"use strict";var r=n(7),a=n(0),i=n(10),o=n(11),s=n(23),c={},l={},u=function(e,t){var n=DOTB.App.metadata.getModule(e),r=n.fields[t]&&n.fields[t].relationship;return r||!1},d=_.extend({beanModel:i,beanCollection:o,mixedBeanCollection:s,init:function(){var e=_.bind(this.sync,this);this.beanModel.prototype.sync=e,this.beanCollection.prototype.sync=e,DOTB.App.events.register("data:sync:start",this),DOTB.App.events.register("data:sync:complete",this),DOTB.App.events.register("data:sync:success",this),DOTB.App.events.register("data:sync:error",this),DOTB.App.events.register("data:sync:abort",this)},reset:function(e){this.resetModel(e),this.resetCollection(e)},resetModel:function(e){e?delete c[e]:c={}},resetCollection:function(e){e?delete l[e]:l={}},declareModel:function(e,t,n,r,a){n=n||DOTB.App.config.platform||"base",this.declareModelClass(e,t,n,r),this.declareCollectionClass(e,n,a)},declareModelClass:function(e,t,n,r){var i=a.capitalize(n);e=e||i+"Model",this.resetModel(e);var o=t?t.fields:{},s=null;_.each(_.values(o),function(e){_.isUndefined(e.default)||(null===s&&(s={}),s[e.name]=e.default)});var l={_defaults:s,module:e,fields:o},u=c[i+"Model"]||c.BaseModel||this.beanModel;return r=_.extend(r||{},l),a.extendClass(c,u,e,r,i)},declareCollectionClass:function(e,t,n){var r=a.capitalize(t),i=c[e||r+"Model"];if(e=e||r+"Collection",i){this.resetCollection(e);var o={model:i,module:e,offset:0},s=l[r+"Collection"]||l.BaseCollection||this.beanCollection;return n=_.extend(n||{},o),a.extendClass(l,s,e,n,r)}},mergeModel:function(e,t){var n=t?t.fields:{},r=null;_.each(_.values(n),function(e){_.isUndefined(e.default)||(null===r&&(r={}),r[e.name]=e.default)});var a={_defaults:r,module:e,fields:n};_.extend(c[e].prototype,a)},getModelClasses:function(){return c},getCollectionClasses:function(){return l},declareModels:function(e){e=e||DOTB.App.metadata.getModules(),_.each(e,function(e,t){c[t]?this.mergeModel(t,e):this.declareModel(t,e)},this)},getBeanClass:function(e){return c[e]||this.beanModel},createBean:function(e,t,n){return c[e]?new c[e](t,n):new d.beanModel(t,n)},createBeanCollection:function(e,t,n){return l[e]?new l[e](t,n):new d.beanCollection(t,n)},createRelatedBean:function(e,t,n,r){var a=this.getRelatedModule(e.module,n);return r=r||{},_.isString(t)?(r.id=t,t=this.createBean(a,r)):_.isNull(t)?t=this.createBean(a,r):t.set(r),t.link={name:n,bean:e,isNew:!0},t.setOption("relate",!0),t},createRelatedCollection:function(e,t,n){var r=this.getRelatedModule(e.module,t),a=this.createBeanCollection(r,n,{link:{name:t,bean:e}});return a.setOption("relate",!0),e._setRelatedCollection(t,a),a},createMixedBeanCollection:function(e,t){return new d.mixedBeanCollection(e,t)},canHaveMany:function(e,t){var n=DOTB.App.metadata.getModule(e);if(!n||!n.fields||!n.fields[t])return!1;if(n.fields[t].link_type)return"many"===n.fields[t].link_type;var r=n.fields[t].relationship,a=DOTB.App.metadata.getRelationship(r),i=a.relationship_type.split("-");return"many"===(n.fields[t].side?"left"===n.fields[t].side?i[0]:i[2]:a.lhs_module!==a.rhs_module?e===a.rhs_module?i[0]:i[2]:"many"===i[0]||"many"===i[2]?"many":"one")},getRelateFields:function(e,t){var n=DOTB.App.metadata.getModule(e);if(!n.fields[t])return DOTB.App.logger.error("Calling 'getRelateFields' on '"+e+"' with link '"+t+"' but no fields have been found. Please fix your metadata."),[];var r=n.fields[t].relationship,a=this.getRelatedModule(e,t),i=DOTB.App.metadata.getModule(a).fields,o=_.find(i,function(e){return"link"==e.type&&e.relationship==r});return o&&(o=_.filter(i,function(e){return"relate"==e.type&&e.link==o.name})),o||[]},getRelationshipFields:function(e,t){DOTB.App.logger.warn("DataManager#getRelationshipFields is deprecated since 7.10. It will be removed in a future release. Please use DataManager#getRelationFields instead");var n=null,r=DOTB.App.metadata.getModule(e).fields[t];if(r.rel_fields){var a=r.relationship,i=this.getRelatedModule(e,t),o=DOTB.App.metadata.getModule(i).fields,s=_.find(o,function(e){return"link"==e.type&&e.relationship==a});if(s&&(s=_.find(o,function(e){return e.link==s.name&&"relationship_info"==e.link_type})),s&&s.relationship_fields){var c=_.keys(r.rel_fields);_.each(s.relationship_fields,function(e,t){_.include(c,t)&&(n||(n=[]),n.push(e))})}}return n},getRelationFields:function(e,t){var n=DOTB.App.metadata.getModule(e)&&DOTB.App.metadata.getModule(e).fields;if(!n)return!1;var r=_.filter(n,function(e){return e.link===t&&!_.isUndefined(e.rname_link)});return!!r&&_.pluck(r,"name")},getOppositeLink:function(e,t){var n=u(e,t),r=this.getRelatedModule(e,t),a=DOTB.App.metadata.getModule(r);if(!a||!a.fields)return!1;var i=_.findWhere(a.fields,{type:"link",relationship:n});return!!i&&i.name},getRelatedModule:function(e,t){var n=DOTB.App.metadata.getModule(e);if(!n||!n.fields||!n.fields[t])return!1;var r=DOTB.App.metadata.getRelationship(u(e,t));return r?n.fields[t].module||(e===r.rhs_module?r.lhs_module:r.rhs_module):n.fields[t].module||!1},getRelatedNameField:function(e,t){return _.find(DOTB.App.metadata.getModule(e).fields,function(e){if(e.name!==t&&e.id_name===t)return e},this)},getEditableFields:function(e,t){var n=["id"],a=["parent","relate"];return(t=t||[]).length||(t=_.keys(e.attributes)),_.each(t,function(t){var i;!e.has(t)||!e.fields[t]||e.fields[t].source&&"non-db"===e.fields[t].source&&e.fields[t].type&&-1!==a.indexOf(e.fields[t].type)||!r.hasAccessToModel("edit",e,t)||((i=e.get(t))&&"collection"===e.fields[t].type&&!_.isEmpty(i.links)?_.each(i.links,function(e){n.push(e.link.name)}):n.push(t))}),e.toJSON({fields:n})},sync:function(e,t,n){DOTB.App.logger.trace("data-sync-"+(n.relate?"relate-":"")+e+": "+t),n=this.parseOptionsForSync(e,t,n);var r=this.getSyncCallbacks(e,t,n),a=null;if(t.dataFetched=!1,this.trigger("data:sync:start",e,t,n),t.trigger("data:sync:start",e,n),_.isFunction(n.endpoint))a=n.endpoint(e,t,n,r);else if(t.link&&t.link.bean&&!0===n.relate){var i=null;if("create"!=e&&"update"!=e||(i=this.getEditableFields(t,n.fields),"update"==e&&t.link.isNew&&(e="create")),!t.link.bean.id)return DOTB.App.logger.error("Attempted to load linked context with no id on the linked bean: "+t.link.bean),!1;a=DOTB.App.api.relationships(e,t.link.bean.module,{id:t.link.bean.id,link:t.link.name,relatedId:t.id,related:i},n.params,r,n.apiOptions)}else n.favorite?a=DOTB.App.api.favorite(t.module,t.id,t.isFavorite(),r,n.apiOptions):n.following?a=DOTB.App.api.follow(t.module,t.id,t.get("following"),r,n.apiOptions):n.collectionField?a=DOTB.App.api.collection(n.module,{id:n.beanId,field:n.collectionField},n.params,r,n.apiOptions):n.query||t instanceof s?a=DOTB.App.api.search(n.params,r,n.apiOptions):t.module?a=DOTB.App.api.records(e,t.module,"update"==e||"create"==e?this.getEditableFields(t,n.fields):t.attributes,n.params,r,n.apiOptions):DOTB.App.logger.error("Unable to sync model with no module");return a},parseOptionsForSync:function(e,t,n){if((n=n||{}).params=_.extend({},n.params),n.filterDef=n.filter||t.filterDef,n.method=e,n.view&&_.isString(n.view)&&"read"==e&&(n.params.view=n.view),n.fields&&"read"==e&&(n.params.fields=n.fields.join(",")),!0===n.viewed&&(n.params.viewed="1"),"read"==e&&t instanceof o){if(n.offset&&0!==n.offset&&(n.params.offset=n.offset),(n.limit||DOTB.App.config&&DOTB.App.config.maxQueryResult)&&(n.params.max_num=n.limit||DOTB.App.config.maxQueryResult),t.orderBy&&t.orderBy.field&&(n.params.order_by=t.orderBy.field+":"+t.orderBy.direction),!0===n.myItems&&(n.params.my_items="1"),!0===n.favorites&&(n.params.favorites="1"),!_.isEmpty(n.filterDef)){var r=a.deepCopy(n.filterDef);_.has(r,"filter")&&(r=r.filter),_.isArray(r)||(r=[r]),n.params.filter=r}_.isEmpty(n.query)||(n.params.q=n.query,_.isEmpty(n.module_list)&&t.module&&(n.module_list=[t.module])),n.module_list&&(n.params.module_list=n.module_list.join(","))}return"update"===e&&n.lastModified&&(n.apiOptions=n.apiOptions||{},n.apiOptions.headers=n.apiOptions.headers||{},n.apiOptions.headers["X-TIMESTAMP"]=n.lastModified),n},getSyncCallbacks:function(e,t,n){return{success:this.getSyncSuccessCallback(e,t,n),error:this.getSyncErrorCallback(e,t,n),complete:this.getSyncCompleteCallback(e,t,n),abort:this.getSyncAbortCallback(e,t,n)}},getSyncSuccessCallback:function(e,t,n){var r=this;return function(a,i){if(t.inSync=!0,t.original_assigned_user_id=t.get("assigned_user_id"),"read"==e&&t instanceof o){var c=n.offset||0;a=a||{},_.isNumber(a.next_offset)&&(t.offset=-1!=a.next_offset?a.next_offset:c+(a.records||[]).length,t.next_offset=a.next_offset,t.page=t.getPageNumber(n)),n.update||(t.total=_.isNumber(a.total)?a.total:null),t instanceof s&&(t.xmod_aggs=a.xmod_aggs||null,t.tags=a.tags||null,_.isObject(a.next_offset)&&(t.offset=a.next_offset,t.next_offset=a.next_offset)),a=a.records||[],r._updateCollectionProperties(t,n)}if(!0===n.relate&&(t.link.isNew=!1,"read"!=e)){if(t.link.bean){var l=t.link.bean.getSynced(),u=_.reduce(a.record,function(e,t,n){return _.isEqual(l[n],t)||(e[n]=t),e},{});t.link.bean.set(u),t.link.bean.setSyncedAttributes(a.record)}a=a.related_record,"delete"==e&&(t.set(a),delete t.link)}t.dataFetched=!0,n.success&&n.success(a),r.trigger("data:sync:success",e,t,n,i),t.inSync=null}},getSyncErrorCallback:function(e,t,n){return _.bind(function(r){if(r.request&&r.request.aborted)return this.getSyncAbortCallback(e,t,n)(r.request);DOTB.App.error.handleHttpError(r,t,n),this.trigger("data:sync:error",e,t,n,r),t.trigger("data:sync:error",e,n,r),_.isFunction(n.error)&&n.error(r)},this)},getSyncCompleteCallback:function(e,t,n){return _.bind(function(r){this.trigger("data:sync:complete",e,t,n,r),t.trigger("data:sync:complete",e,n,r),_.isFunction(n.complete)&&n.complete(r),n.previousModels=null,n={}},this)},getSyncAbortCallback:function(e,t,n){return _.bind(function(r){this.trigger("data:sync:abort",e,t,n,r),t.trigger("data:sync:abort",e,n,r)},this)},_updateCollectionProperties:function(e,t){t=t||{},e.myItems=t.myItems,e.favorites=t.favorites,e.query=t.query,e.modelList=t.modelList,e.filterDef=t.filterDef}},Backbone.Events);e.exports=d},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=/\s+/,i=function(e,t,n,i){if(!n)return!0;if("object"===(void 0===n?"undefined":r(n))){for(var o in n)e[t].apply(e,[o,n[o]].concat(i));return!1}if(a.test(n)){for(var s=n.split(a),c=0,l=s.length;c<l;c++)e[t].apply(e,[s[c]].concat(i));return!1}return!0},o=function(e,t){var n=!1,r=-1,a=e.length,i=void 0;switch(t.length){case 0:case 1:case 2:case 3:for(;++r<a;)n=!1===(i=e[r]).callback.call(i.ctx,t[0],t[1],t[2])||n;break;default:for(;++r<a;)n=!1===(i=e[r]).callback.apply(i.ctx,t)||n}return!n};e.exports={before:function(e,t,n){return i(this,"before",e,[t,n])&&t?(this._before=this._before||{},(this._before[e]||(this._before[e]=[])).push({callback:t,context:n,ctx:n||this}),this):this},triggerBefore:function(e){var t=!1;if(!this._before)return!t;var n=Array.prototype.slice.call(arguments,1);if(a.test(e)){for(var r=e.split(a),i=0,s=r.length;i<s;i++)t=!this.triggerBefore.apply(this,[r[i]].concat(n))||t;return!t}var c=this._before[e],l=this._before.all;return c&&(t=!1===o(c,n)),l&&(t=!1===o(l,n)||t),!t},offBefore:function(e,t,n){var r,a=void 0,o=void 0,s=void 0;if(!this._before||!i(this,"offBefore",e,[t,n]))return this;if(!e&&!t&&!n)return this._before=void 0,this;for(var c=0,l=(r=e?[e]:_.keys(this._before)).length;c<l;c++)if(e=r[c],s=this._before[e]){if(this._before[e]=a=[],t||n)for(var u=0,d=s.length;u<d;u++)o=s[u],(t&&t!==o.callback||n&&n!==o.ctx)&&a.push(o);a.length||delete this._before[e]}return this}}},function(e,t,n){"use strict";var r=n(7),a=n(9),i=n(8),o=n(1),s=n(4),c=a.extend({initialize:function(e){i.attach(this,"view"),a.prototype.initialize.call(this,e),this.type=e.type,this.name=e.name||this.type,this.action=e.meta&&e.meta.action?e.meta.action:this.name,this._loadTemplate(e),this.fields={},this.nestedFields={},this.fallbackFieldTemplate=this.fallbackFieldTemplate||"detail",this.layout=this.options.layout,this.primary=e.primary,this._setLabels(),this.dataView?this.context.set("dataView",this.dataView):this.context.addFields(this.getFieldNames()),DOTB.App.events.on("app:locale:change",function(){this._setLabels()},this)},_getTemplate:function(e,t){return s.getView(e,this.module)||s.getView(e,t)},_loadTemplate:function(e){var t,n;(e=e||{}).template?(t=e.template,n=null):this.meta&&this.meta.template?(t=this._getTemplate(this.meta.template,e.loadModule),n=this.meta.template):(t=this._getTemplate(this.name,e.loadModule),n=this.name),t||(this.meta&&this.meta.type?(t=this._getTemplate(this.meta.type,e.loadModule),n=this.meta.type):(t=s.empty,n="")),this.tplName=n,this.template=t},_renderHtml:function(e,t){if(this.template)try{this.$el.html(this.template(e||this,t||this.options.templateOptions))}catch(e){DOTB.App.logger.error("Failed to render "+this+"\n"+e),DOTB.App.error.handleRenderError(this,"_renderHtml")}},_renderFields:function(){var e=this,t={};this.$("span[sfuuid]").each(function(){var e=$(this),n=e.attr("sfuuid");t[n]=e}),_.each(this.fields,function(n){e._renderField(n,t[n.sfId])})},_renderField:function(e,t){e.setElement(t||this.$("span[sfuuid='"+e.sfId+"']"));try{e.render()}catch(t){DOTB.App.logger.error("Failed to render "+e+" on "+this+"\n"+t),DOTB.App.error.handleRenderError(this,"_renderField",e)}},_render:function(){return r.hasAccessToModel(this.action,this.model)?(this._disposeFields(),this._renderHtml(),this._renderFields()):(DOTB.App.logger.info("Current user does not have access to this module view. name: "+this.name+" module: "+this.module),this.primary&&DOTB.App.error.handleRenderError(this,"view_render_denied")),this},_setLabels:function(){this.modulePlural=o.getAppListStrings("moduleList")[this.module]||this.module,this.moduleSingular=o.getAppListStrings("moduleListSingular")[this.module]||this.modulePlural},loadData:function(e){r.hasAccess("read",this.module)&&this.context.loadData(e)},getFieldNames:function(e){var t=[];e=e||this.context.get("module"),this.meta&&this.meta.panels&&(t=_.reduce(_.map(this.meta.panels,function(e){var t=_.flatten(_.compact(_.pluck(e.fields,"fields")));return _.pluck(e.fields,"name").concat(_.pluck(t,"name")).concat(_.flatten(_.compact(_.pluck(e.fields,"related_fields"))))}),function(e,t){return e.concat(t)},[])),t=_.compact(_.uniq(t));var n=DOTB.App.metadata.getModule(e,"fields");if(n){t=_.reject(t,function(e){return _.isUndefined(n[e])});var r=[];_.each(t,function(e){"relate"==n[e].type?r.push(n[e].id_name):"parent"==n[e].type&&(r.push(n[e].id_name),r.push(n[e].type_name)),_.isArray(n[e].fields)&&(r=r.concat(n[e].fields))}),t=_.union(t,r)}return t},getFields:function(e,t){var n={},r=this.getFieldNames(e);return _.each(r,function(e){var r=this.getField(e,t);r&&(n[e]=r.def)},this),n},getField:function(e,t){return _.find(_.extend({},this.fields,this.nestedFields),function(n){return n.name==e&&(!t||n.model==t)})},closestComponent:function(e){if(this.layout)return this.layout.name===e?this.layout:this.layout.closestComponent(e)},_show:function(){a.prototype._show.call(this),_.each(_.extend({},this.fields,this.nestedFields),function(e){e.updateVisibleState(!0)})},_hide:function(){a.prototype._hide.call(this),_.each(_.extend({},this.fields,this.nestedFields),function(e){e.updateVisibleState(!0)})},_dispose:function(){i.detach(this,"view"),this._disposeFields(),a.prototype._dispose.call(this)},_disposeFields:function(){_.each(this.fields,function(e){e.dispose()}),this.fields={},this.nestedFields={}},toString:function(){return"view-"+this.name+"-"+a.prototype.toString.call(this)},getFieldMeta:function(e,t){var n=_.flatten(_.pluck(this.meta.panels,"fields")),r=_.find(n,function(t){return t.name===e});return!r&&t&&(r=_.find(_.flatten(_.pluck(n,"fields")),function(t){return t&&t.name===e}))&&(r._isChild=!0),r},setFieldMeta:function(e,t){_.each(this.meta.panels,function(n){_.each(n.fields,function(r,a){r.name===e?n.fields[a]=_.extend(r,t):_.isArray(r.fields)&&_.each(r.fields,function(n,a){n.name===e&&(r.fields[a]=_.extend(n,t))})})})}});e.exports=c},function(e,t,n){"use strict";var r=n(9),a=n(8),i=n(4),o=n(6),s=r.extend({initialize:function(e){a.attach(this,"layout"),r.prototype.initialize.call(this,e),this._components=[],this.meta=this.meta||{},this.type=this.meta.type||this.options.type,this.name=this.meta.name||this.options.name||this.type||"",this.meta.label?this.label=this.meta.label:this.options.def&&this.options.def.label?this.label=this.options.def.label:this.options.label?this.label=this.options.label:this.label="",this.layout=this.options.layout,this._loadTemplate(e),this.template&&(this.$el.append(this.template(this,e)),this.placeComponentsFromTemplate()),this.meta.lazy_loaded&&(this._componentsMeta=this.meta.components,this.meta.components=[]),DOTB.App.events.on("app:locale:change",function(){this.render()},this)},_loadTemplate:function(e){if(e=e||{},this.meta.template)this.template=i.getLayout(this.meta.template,this.module)||i.getLayout(this.meta.template,e.loadModule);else{var t=i.getLayout(this.name,this.module)||i.getLayout(this.type,this.module);t||(t=e.loadModule?i.getLayout(this.name,e.loadModule)||i.getLayout(this.type,e.loadModule):i.getLayout(this.name)||i.getLayout(this.type)),this.template=t}},placeComponentsFromTemplate:function(){var e={};_.isEmpty(this._components)||(this.$("span[cid]").each(function(){var t=$(this),n=t.attr("cid");e[n]=t}),_.each(this._components,function(t){var n=e[t.cid];n&&n.replaceWith(t.el)},this))},initComponents:function(e,t,n){var r,a;if(!this.disposed)return e=e||this.meta.components,a=this._components.length,this._addComponentsFromDef(e,t,n),r=this._components.slice(a),_.each(r,function(e){_.isFunction(e.initComponents)&&e.initComponents()}),this.trigger("init"),r},createComponentFromDef:function(e,t,n){if(t=t||this.context,n=n||this.module,e.context&&(e.context instanceof DOTB.App.Context?t=e.context:(t=t.getChildContext(e.context)).prepare(),n=t.get("module")),e.view){if(_.isString(e.view))return o.createView({context:t,name:e.view,def:e,module:n,loadModule:e.loadModule,primary:e.primary,layout:this});if(_.isObject(e.view))return o.createView({context:t,module:n,loadModule:e.loadModule,meta:e.view,type:e.view.type,name:e.view.name,primary:e.view.primary,layout:this})}else if(e.layout){if(_.isString(e.layout))return o.createLayout({context:t,name:e.layout,def:e,module:n,loadModule:e.loadModule,layout:this});if(_.isObject(e.layout))return o.createLayout({context:t,module:n,loadModule:e.loadModule,meta:e.layout,type:e.layout.type,name:e.layout.name,def:e,layout:this})}else DOTB.App.logger.warn("Invalid layout definition:\n"+e.layout)},_addComponentsFromDef:function(e,t,n){e=e||[],_.each(e,function(e){e.initializedInTemplate?delete e.initializedInTemplate:(e.view||e.layout)&&this.addComponent(this.createComponentFromDef(e,t,n),e)},this)},addComponent:function(e,t){e.layout||(e.layout=this),this._components.push(e),this._placeComponent(e,t)},_placeComponent:function(e){this.$el.append(e.el)},removeComponent:function(e){var t=_.isNumber(e)?e:this._components.indexOf(e);t>-1&&(this._components.splice(t,1)[0].layout=null)},getComponent:function(e){return _.find(this._components,function(t){return t.name===e})},_render:function(){return this._components&&this._components.length>0?_.each(this._components,function(e){e.render()},this):DOTB.App.logger.info("Can't render anything because the layout has no components: "+this.toString()+"\nEither supply metadata or override Layout.render method"),this},loadData:function(e){this.disposed||(this.context.loadData(e),_.each(this._components,function(t){t.loadData(e)},this))},getFieldNames:function(e){var t=[];return e=e||this.module,_.each(this._components,function(n){n.module==e&&(t=_.union(t,n.getFieldNames(null,!0)))},this),t},getFields:function(e){var t={};return _.each(this._components,function(n){_.extend(t,n.getFields(e))}),t},closestComponent:function(e){if(this.layout)return this.layout.name===e?this.layout:this.layout.closestComponent(e)},_show:function(){r.prototype._show.call(this),_.each(this._components,function(e){e.updateVisibleState(!0)})},_hide:function(){r.prototype._hide.call(this),_.each(this._components,function(e){e.updateVisibleState(!0)})},_dispose:function(){a.detach(this,"layout"),this._disposeComponents(),r.prototype._dispose.call(this)},_disposeComponents:function(){_.each(this._components,function(e){e.dispose()}),this._components=[]},toString:function(){return"layout-"+(this.options.type||this.options.name)+"-"+r.prototype.toString.call(this)}});e.exports=s},function(e,t,n){"use strict";var r=n(7),a=n(9),i=n(8),o=n(1),s=n(4),c=a.extend({fieldTag:"input",initialize:function(e){i.attach(this,"field"),a.prototype.initialize.call(this,e),this.sfId=e.sfId,this.view=e.view,this.viewDefs=e.viewDefs||{},this.name=this.viewDefs.name||e.def&&e.def.name;var t=this.model&&this.model.fields?this.model.fields[this.name]:null;this.fieldDefs=_.extend({},t,this.viewDefs.defs),this.def=_.extend({},t,e.def),this.type=this.viewDefs.type||this.def.type||this.fieldDefs.type;var n=this.def.label||this.def.vname||this.name;this.label=o.get(this.viewDefs.label||n,this.module),this.template=s.empty,this.model&&(this.model.on("error:validation:"+this.name,this.handleValidationError,this),this.model.on("validation:start attributes:revert",this.removeValidationErrors,this),this.model.on("acl:change:"+this.name,this.handleAclChange,this))},viewFallbackMap:{edit:"detail"},handleAclChange:function(){this._resetAction(),this.render()},_resetAction:function(){this.action=void 0},_checkAccessToAction:function(e){return r.hasAccessToModel(e,this.model,this.name)},_getFallbackTemplate:function(e){return this.isDisabled()&&"disabled"===e?"edit":this.view.fallbackFieldTemplate||"detail"},_loadTemplate:function(){var e,t=this.options.viewName||this.options.def.view||(this.view.meta&&this.view.meta.type?this.view.meta.type:this.view.name),n=this.action;for(this.isDisabled()&&"edit"===t?t=this.action:n=this.action||(this.view.action&&this.view.name!=this.view.action?this.view.action:t);t&&!this._checkAccessToAction(n);)n=t=this.viewFallbackMap[t];if(t){var r=this.module||this.context.get("module");e=this._getFallbackTemplate(t),this.template=s.getField(this.type,t,r,e)||s.getField("base",t,r,e)||s.empty}else this.template=s.empty;this.tplName=t,this.action=n},delegateEvents:function(e){(e=e||_.result(this,"events")||(this.def?this.def.events:null))&&(e=_.clone(e),_.each(e,function(t,n){var r=this[t];!r&&_.isString(t)&&(r=_.bind(function(e){_.isFunction(this.triggerMetadataEvent)&&this.triggerMetadataEvent(e,t)},this),this["callback_"+n]=r,e[n]="callback_"+n),_.isFunction(t)||r||delete e[n]},this),Backbone.View.prototype.delegateEvents.call(this,e))},_render:function(){return this._loadTemplate(),this.model instanceof Backbone.Model&&(this.value=this.getFormattedValue()),this.dir=_.result(this,"direction"),o.direction===this.dir&&delete this.dir,this.unbindDom(),this.$el.html(this.template(this)||""),this.def&&this.def.css_class&&this.getFieldElement().addClass(this.def.css_class),this.$(this.fieldTag).attr("dir",this.dir),this.bindDomChange(),this},getFieldElement:function(){return this.$el},bindDomChange:function(){if(this.model instanceof Backbone.Model){var e=this,t=this.$el.find(this.fieldTag);t.on("change",function(){e.model.set(e.name,e.unformat(t.val()))})}},bindDataChange:function(){this.model&&this.model.on("change:"+this.name,function(e,t){"edit"===this.action?this.$(this.fieldTag).val(this.format(t)):this.render()},this)},hasChanged:function(){return!_.isEqual(this.format(this.model.getSynced(this.name)),this.format(this.model.get(this.name)))},format:function(e){return e},unformat:function(e){return e},getFormattedValue:function(){return this.format(this.model.has(this.name)?this.model.get(this.name):null)},handleValidationError:function(e){},removeValidationErrors:function(){},getPlaceholder:function(){return new Handlebars.SafeString('<span sfuuid="'+this.sfId+'"></span>')},setDisabled:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!1;(e=!!_.isUndefined(e)||e)&&!1===this.isDisabled()?(this._previousAction=this.action,this.action="disabled",this.render(),n=!0):!1===e&&this.isDisabled()&&(this.action=this._previousAction,delete this._previousAction,this.render(),n=!0),n&&t.trigger&&this.context.trigger("field:disabled",this.name,e,this)},isDisabled:function(){return"disabled"===this.action},setViewName:function(e){this.options.viewName=e},setMode:function(e){this.isDisabled()?this._previousAction=e:this.action=e,this.setViewName(e),this.render()},unbindDom:function(){this.$el.find(this.fieldTag).off()},_dispose:function(){i.detach(this,"field"),this.unbindDom(),a.prototype._dispose.call(this)},toString:function(){return"field-"+this.name+"-"+this.sfId+"-"+a.prototype.toString.call(this)},_show:function(){this.getFieldElement().removeClass("hide").show(),this.updateVisibleState(!0)},_hide:function(){this.getFieldElement().addClass("hide").hide(),this.updateVisibleState(!1)},equals:function(e){return this.type===e.type&&_.isEqual(this.getFormattedValue(),e.getFormattedValue())},closestComponent:function(e){if(this.view)return this.view.name===e?this.view:this.view.closestComponent(e)}});e.exports=c},function(e,t,n){"use strict";var r=n(2);e.exports={_math:function(e,t,n,r,a){var i;if(r=_.isFinite(r)&&r>=0?parseInt(r):6,Big.E_NEG=-1*(r+1),a=a||!1,!_.isFinite(t))return t;try{switch(e){case"round":i=Big(t).round(r);break;case"add":i=Big(t).plus(n);break;case"sub":i=Big(t).minus(n);break;case"mul":i=Big(t).times(n).round(r);break;case"div":i=Big(t).div(n).round(r);break;default:return t}}catch(e){if("BigError"==e.name)return t}return a&&!_.isString(i)?i.toFixed(r):_.isString(i)?i:i.toString()},round:function(e,t,n){return this._math("round",e,null,t,n)},add:function(e,t,n,r){return this._math("add",e,t,n,r)},sub:function(e,t,n,r){return this._math("sub",e,t,n,r)},mul:function(e,t,n,r){return this._math("mul",e,t,n,r)},div:function(e,t,n,r){return this._math("div",e,t,n,r)},isDifferentWithPrecision:function(e,t,n){var a=DOTB.App.metadata.getConfig(),i=n||r.getPreference("decimal_precision");n=_.isFinite(i)?i:a.defaultCurrencySignificantDigits||2;var o=this._math("round",this.getDifference(e,t,!0),null,n),s=0===n?"0":this._math("div",.1,Math.pow(10,n-1));return"0"!==o&&parseFloat(o)>=parseFloat(s)},getDifference:function(e,t,n){var r=this._math("sub",e,t);return(n=!_.isUndefined(n)&&n)?Math.abs(r):r}}},function(e,t,n){"use strict";var r=n(19),a=n(2),i=n(0);e.exports={getBaseCurrencyId:function(){return DOTB.App.metadata.getBaseCurrencyId()},getBaseCurrency:function(){var e=DOTB.App.metadata.getBaseCurrencyId(),t=DOTB.App.metadata.getCurrency(e);return t.currency_id=e,t},getCurrenciesSelector:function(e){var t={};return _.each(DOTB.App.metadata.getCurrencies(),function(n,r){t[r]=e(n)}),t},getCurrencySymbol:function(e){var t=DOTB.App.metadata.getCurrency(e);return t?t.symbol:""},formatAmount:function(e,t,n,r,a,o){if(!_.isFinite(e))return e;var s=DOTB.App.metadata.getConfig();return t=t||this.getBaseCurrencyId(),o=o||"",_.isFinite(n)||(n=_.isFinite(s.defaultCurrencySignificantDigits)?s.defaultCurrencySignificantDigits:2),a=a||s.defaultDecimalSeparator||".",r=_.isUndefined(r)?s.defaultNumberGroupingSeparator||",":r,(this.getCurrencySymbol(t)||this.getCurrencySymbol(this.getBaseCurrencyId()))+o+(e=i.formatNumber(e,n,n,r,a))},formatAmountLocale:function(e,t,n){var r=a.getPreference("decimal_separator"),i=a.getPreference("number_grouping_separator"),o=a.getPreference("decimal_precision");return n=_.isFinite(n)?n:o,this.formatAmount(e,t,n,i,r)},unformatAmount:function(e,t,n,r){return r=r||!1,e=e.toString().replace(/^[^\d\.\,-]+/,""),i.unformatNumberString(e,t,n,r)},unformatAmountLocale:function(e,t){var n,r,i=DOTB.App.metadata.getConfig();return n=a.getPreference("decimal_separator")||i.defaultDecimalSeparator||".",r=a.getPreference("number_grouping_separator")||i.defaultNumberGroupingSeparator||",",this.unformatAmount(e,r,n,t)},convertAmount:function(e,t,n){var a,i;return t==n?r.round(e,void 0,!0):(a=DOTB.App.metadata.getCurrency(t),i=DOTB.App.metadata.getCurrency(n),this.convertWithRate(e,a.conversion_rate,i.conversion_rate))},convertToBase:function(e,t){return this.convertAmount(e,t,this.getBaseCurrencyId())},convertFromBase:function(e,t){return this.convertAmount(e,this.getBaseCurrencyId(),t)},convertWithRate:function(e,t,n){return t=t||1,n=n||1,r.mul(r.div(e,t,void 0,!0),n,void 0,!0)}}},function(e,t,n){"use strict";var r=n(13),a=n(0),i=n(1);function o(e,t,n){t?t.apply(c,_.union([e],n||[])):c.handleStatusCodesFallback(e)}function s(e,t){var n="handle"+a.classify(e.code)+"Error";(c[n]||t||c.handleStatusCodesFallback).call(c,e)}var c={init:function(){this.enableOnError(),Object.defineProperty(this,"remoteLogging",{get:function(){return DOTB.App.logger.warn("`Core.Error#remoteLogging` property has been deprecated since 7.10."),!1},configurable:!0})},initialize:function(e){DOTB.App.logger.warn("The function `Core.Error#initialize` is deprecated in 7.10. Please do not use it. The function initializing the component is `Core.Error#init`"),e=e||{},this.statusCodes=e.statusCodes?_.extend(this.statusCodes,e.statusCodes):this.statusCodes,e.disableOnError||this.enableOnError()},statusCodes:{0:function(e,t,n){"timeout"===e.textStatus?o(e,this.handleTimeoutError):this.handleStatusCodesFallback(e,t,n)},400:function(e){s(e,this.handleUnspecified400Error)},401:function(e){s(e,this.handleUnauthorizedError)},403:function(e){o(e,this.handleForbiddenError)},404:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){o(e,this.handleNotFoundError,_.rest(arguments))}),405:function(e){o(e,this.handleMethodNotAllowedError)},409:function(e){o(e,this.handleMethodConflictError)},412:function(e){o(e,this.handleHeaderPreconditionFailed)},422:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e,t){e.model=t,o(e,this.handleValidationError,_.rest(arguments))}),424:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e,t){e.model=t,o(e,this.handleMethodFailureError,_.rest(arguments))}),500:function(e){o(e,this.handleServerError)},502:function(e){o(e,this.handleServerError)},503:function(e){o(e,this.handleServerError)}},errorName2Keys:{maxValue:"ERROR_MAXVALUE",minValue:"ERROR_MINVALUE",maxLength:"ERROR_MAX_FIELD_LENGTH",minLength:"ERROR_MIN_FIELD_LENGTH",datetime:"ERROR_DATETIME",required:"ERROR_FIELD_REQUIRED",email:"ERROR_EMAIL",primaryEmail:"ERROR_PRIMARY_EMAIL",duplicateEmail:"ERROR_DUPLICATE_EMAIL",number:"ERROR_NUMBER",isBefore:"ERROR_IS_BEFORE",isAfter:"ERROR_IS_AFTER",greaterThan:"ERROR_IS_GREATER_THAN",lessThan:"ERROR_IS_LESS_THAN"},getErrorString:function(e,t){var n=t.module||"";return i.get(this.errorName2Keys[e]||e,n,t)},handleValidationError:function(e){var t=e.responseText;r.dismissAll(),_.each(t,function(e,t){var n="";_.isObject(e)?_.each(e,function(e,t){n+="(Message) "+this.getErrorString(t,e)+"\n"},this):n=e,DOTB.App.logger.debug("validation failed for field `"+t+"`:\n"+n)},this)},handleHttpError:function(e,t,n){c.statusCodes[e.status]?c.statusCodes[e.status].call(c,e,t,n):c.handleStatusCodesFallback(e)},handleUnhandledError:function(e,t,n){DOTB.App.logger.fatal(e+" at "+t+" on line "+n)},handleStatusCodesFallback:function(e){DOTB.App.logger.error(e.toString())},handleRenderError:function(e,t,n){var o,s,c="render_error_"+e.module+"_"+e.name,l="error";switch(t){case"_renderHtml":o=i.get("ERR_RENDER_FAILED_TITLE"),s=[i.get("ERR_RENDER_FAILED_MSG"),i.get("ERR_CONTACT_TECH_SUPPORT")];break;case"_renderField":o=i.get("ERR_RENDER_FIELD_FAILED_TITLE"),s=[a.formatString(i.get("ERR_RENDER_FIELD_FAILED_MSG"),[n.name]),i.get("ERR_CONTACT_TECH_SUPPORT")];break;case"view_render_denied":o=i.get("ERR_NO_VIEW_ACCESS_TITLE"),l="warning";var u=i.getModuleName(e.module,{plural:!0});s=[a.formatString(i.get("ERR_NO_VIEW_ACCESS_MSG"),[u])];break;case"layout_render":o=i.get("ERR_LAYOUT_RENDER_TITLE"),s=[i.get("ERR_LAYOUT_RENDER_MSG")];break;default:o=i.get("ERR_GENERIC_TITLE"),s=[i.get("ERR_INTERNAL_ERR_MSG"),i.get("ERR_CONTACT_TECH_SUPPORT")],DOTB.App.logger.error("handleRenderError called for render error caught in "+t+", but we have no corresponding handler!")}r.show(c,{level:l,title:o,messages:s})},enableOnError:function(e,t){var n,r=this;return!this.overloaded&&(n=window.onerror,window.onerror=function(a,i,o){e?e.call(t):r.handleUnhandledError(a,i,o),n&&n()},this.overloaded=!0,!0)},throwErrorWithCallStack:function(e,t){if(DOTB.App.logger.warn("The function `Core.Error#throwErrorWithCallStack` is deprecated in 7.10. Please do not use it."),_.isString(e)&&(e=new Error(e)),e.message=e.message+"; "+e.stack,t)return e;throw e},_callCustomHandler:function(e,t,n){if(DOTB.App.config.lumiaCompatMode)return DOTB.App.logger.warn("Core.Error#_callCustomHandler is a private method that you should not access. You will NOT be allowed to access it in the next release. Please update your code to rely on the public API only."),o(e,t,n);DOTB.App.logger.error("Core.Error#_callCustomHandler is a private method that you are not allowed to access. Please use only the public API.")},_handleFineGrainedError:function(e,t){if(DOTB.App.config.lumiaCompatMode)return DOTB.App.logger.warn("Core.Error#_handleFineGrainedError is a private method that you should not access. You will NOT be allowed to access it in the next release. Please update your code to rely on the public API only."),s(e,t);DOTB.App.logger.error("Core.Error#_handleFineGrainedError is a private method that you are not allowed to access. Please use only the public API.")}};e.exports=c},function(e,t,n){"use strict";var r=n(15),a=n(5),i={beforeRoute:function(e,t){return!!this.triggerBefore("route",{route:e,args:t})&&(_.indexOf(DOTB.App.config.unsecureRoutes,e)>=0||(DOTB.App.api.isAuthenticated()?!!DOTB.App.isSynced||(Backbone.history.stop(),DOTB.App.sync(),!1):(DOTB.App.router.login(),!1)))},after:function(e,t){},start:function(){DOTB.App.augment("router",new DOTB.App.Router({}),!1),a.trigger("router:start",DOTB.App.router),DOTB.App.router.init(),DOTB.App.router.start()},stop:function(){DOTB.App.logger.warn("`Core.Routing#stop` method is deprecated since 7.10. Please use `Core.Router#stop` instead."),DOTB.App.router.stop()}};_.extend(i,r),e.exports=i},function(e,t,n){"use strict";var r=n(10),a=n(11);e.exports=a.extend({initialize:function(e,t){if(this._linkedCollections={},(t=t||{}).links){if(!t.parentBean)return void DOTB.App.logger.error("You cannot instantiate a mixed-bean-collection with linked collections but without a parent bean.");this._parentBean=t.parentBean,this._collectionField=t.collectionField,_.each(t.links,function(e,t){_.isString(e)?this._linkedCollections[t]=DOTB.App.data.createBeanCollection(e):this._linkedCollections[t]=e,this.listenTo(this._linkedCollections[t],"add",this._onLinkAdd),this.listenTo(this._linkedCollections[t],"remove",this._onLinkRemove),this.listenTo(this._linkedCollections[t],"reset",this._onLinkReset)},this),delete t.links}a.prototype.initialize.call(this,e,t)},_prepareModel:function(e,t){var n=e instanceof r?e.module:e._module;return this.model=DOTB.App.data.getBeanClass(n),a.prototype._prepareModel.call(this,e,t)},_onLinkAdd:function(e,t,n){this._updating||a.prototype.set.call(this,e,{merge:!1,add:!0,remove:!1})},_onLinkRemove:function(e,t,n){this._updating||a.prototype.remove.call(this,e)},_onLinkReset:function(e){var t=_.groupBy(this.models,function(e){return e instanceof r?e.get("_link"):e._link}),n=_.findKey(this._linkedCollections,function(t){return t===e}),i={},o={merge:!1,add:!0,remove:!1};this._updating&&(_.extend(i,{silent:!0}),_.extend(o,{silent:!0})),a.prototype.remove.call(this,t[n],i),a.prototype.set.call(this,e.models,o)},set:function(e,t){return e=Backbone.Collection.prototype.set.call(this,e,t),this._parentBean?(this._updating=!0,t=t||{},_.isUndefined(e)||_.isArray(e)||(e=[e]),_.each(e,function(e){var n=e.get("_link");n&&this._linkedCollections[n]&&this._linkedCollections[n].add(e,t)},this),this._updating=!1,e):e},remove:function(e,t){return e=Backbone.Collection.prototype.remove.call(this,e,t),this._parentBean?(this._updating=!0,t=t||{},_.isUndefined(e)||_.isArray(e)||(e=[e]),_.each(e,function(e){var n=e.get("_link");n?this._linkedCollections[n]&&this._linkedCollections[n].remove(e,t):_.each(this._linkedCollections,function(n){var a=e instanceof r?e.get("module"):e._module;n.module===a&&n.remove(e,t)})},this),this._updating=!1,e):e},reset:function(e,t){if(!this._parentBean)return Backbone.Collection.prototype.reset.call(this,e,t);t=t?_.clone(t):{},_.isUndefined(e)||_.isArray(e)||(e=[e]);var n=_.groupBy(e,function(e){return e instanceof r?e.get("_link"):e._link});return this._updating=!0,_.each(this._linkedCollections,function(e,r){e.reset(n[r],_.omit(t,"silent"))},this),this._updating=!1,t.silent||this.trigger("reset",this,t),e},getDelta:function(){var e={};return _.each(this._linkedCollections,function(t,n){t.hasDelta()&&(e[n]=t.getDelta())},this),e},hasDelta:function(){return _.some(this._linkedCollections,function(e){return e.hasDelta()})},resetDelta:function(){_.each(this._linkedCollections,function(e,t){e.resetDelta()})},fetch:function(e){return(e=e||{}).module_list=this.module_list=e.module_list||this.module_list||DOTB.App.metadata.getModuleNames({filter:"visible"}),a.prototype.fetch.call(this,e)},groupByModule:function(){return _.groupBy(this.models,function(e){return e.module})},toString:function(){return"mcoll:"+this.length},paginate:function(e){return e=e||{},this._parentBean&&_.extend(e,{collectionField:this._collectionField,beanId:this._parentBean.id,module:this._parentBean.module,offset:this.offset}),a.prototype.paginate.call(this,e)},resetPagination:function(){if(!this._parentBean)return a.prototype.resetPagination.call(this);this.offset=this.next_offset={}}})},function(e,t,n){"use strict";var r=n(12),a=n(2),i=n(0),o=n(1);function s(e){return _.every(e,_.isEmpty)}var c={validators:function(){var e=function(e,t,n){var r=_.isUndefined(e[n])?e.validation?e.validation[n]:null:e[n];if(_.contains(["int","float","decimal","currency"],e.type)&&_.isFinite(r))if(t="int"==e.type?parseInt(t):parseFloat(t),"max"==n){if(t>r)return r}else if("min"==n){if(t<r)return r}else if("greaterthan"==n){if(t<=r)return r}else if("lessthan"==n&&t>=r)return r},t=function(e,t,n,r){if(-1!==_.indexOf(["date","datetimecombo"],e.type)&&e.validation&&e.validation.type===n){var a=r.fields[e.validation.compareto];if(!_.isUndefined(a)&&-1!=_.indexOf(["date","datetimecombo"],a.type)){var i=Date.parse(r.get(a.name));if(t=Date.parse(t.toString()),!_.isNaN(i)&&!_.isNaN(t)){var s=o.get(a.label||a.vname||a.name,r.module);if("isbefore"==n)return i<t?s:void 0;if("isafter"==n)return i>t?s:void 0}}}};return{maxLength:function(e,t){if(_.isNumber(t)&&(t=t.toString()),_.isNumber(e.len)&&_.isString(t)){var n=e.len;if((t=(t=t||"").toString()).length>n)return n}},minLength:function(e,t){if(_.isNumber(e.minlen)){var n=e.minlen;if((t=(t=t||"").toString()).length<n)return n}},url:function(e,t){DOTB.App.logger.warn("The function `app.validation.validators.url()` is deprecated since 7.10 because it has no effect.")},email:function(e,t){var n;if(("email"==e.type||"email-text"===e.type)&&(t.length>0&&_.each(t,function(t){(""!==t.email_address||!_.isUndefined(e.required)&&e.required)&&(i.isValidEmailAddress(t.email_address)||(n||(n=[]),n.push(t.email_address)))}),n&&n.length>0))return n},primaryEmail:function(e,t){if("email"==e.type&&t.length>0&&!_.find(t,function(e){return"1"==e.primary_address}))return!0},duplicateEmail:function(e,t){if("email"==e.type){var n,r,a=_.pluck(t,"email_address"),i=[],o=a.length;for(n=0;n<o;n++)for(r=n+1;r<o;r++)a[n]==a[r]&&i.push(a[n]);if(i&&i.length>0)return i}},datetime:function(e,t){var n,i,o,s,c,l,u;function d(e,t,n){var r=parseInt(e,10);return!isNaN(r)&&r>=t&&r<=n}if("date"===e.type||"datetimecombo"===e.type){if(_.isNaN(Date.parse(t))&&_.isNaN(Date.parse(t.replace(/[\.\-]/g,"/"))))return t;if(r.isIso(t)){if("0"===t.charAt(0))return t}else{if(c=t.replace(/[\.\-]/g,"/").split("/"),_.filter(c,function(e){return 3===e.length||e.length>4}).length)return t;if(!0===/([\.\/\-])\1/.test(t))return t;for(o=(i=a.getPreference("datepref")).match(/[.\/\-\s].*?/),l=0,u=(s=i.split(o)).length;l<u;l++)switch(n=c[l],s[l].toLowerCase().charAt(0)){case"m":if(!d(n,1,12))return t;break;case"d":if(!d(n,1,31))return t}}}},minValue:function(t,n){return e(t,n,"min")},maxValue:function(t,n){return e(t,n,"max")},greaterThan:function(t,n){return e(t,n,"greaterthan")},lessThan:function(t,n){return e(t,n,"lessthan")},number:function(e,t){if(-1!=_.indexOf(["int","float","decimal","currency"],e.type))return!(!(_.isBoolean(t)||_.isString(t)&&!t.trim().length||isNaN(parseFloat(t)))&&_.isFinite(t))||void 0},isBefore:function(e,n,r){return t(e,n,"isbefore",r)},isAfter:function(e,n,r){return t(e,n,"isafter",r)}}}(),requiredValidator:function(e,t,n,r){if(!0===e.required&&"id"!==t&&"image"!==e.type&&_.isUndefined(e.auto_increment)){var a=n.get(t),i=_.isUndefined(a),o=_.isNull(r)||""===r||!1===r||_.isArray(r)&&s(r)||r instanceof Backbone.Collection&&!r.length;if(e.id_name&&n.get(e.id_name))return;if(i&&_.isUndefined(r)||o)return!0}},_isArrayEmpty:function(e){if(DOTB.App.config.lumiaCompatMode)return DOTB.App.logger.warn("Data.Validation#_isArrayEmpty is a private method that you should not access. You will NOT be allowed to access it in the next release. Please update your code to rely on the public API only."),s(e);DOTB.App.logger.error("Data.Validation#_isArrayEmpty is a private method that you are not allowed to access. Please use only the public API.")}};e.exports=c},function(e,t,n){"use strict";var r=n(10),a=n(11),i=n(14);function o(){return(void 0===this.get("fetch")||this.get("fetch"))&&!this.isDataFetched()&&!this.get("create")}var s=Backbone.Model.extend({initialize:function(e){Backbone.Model.prototype.initialize.call(this,e),this.id=this.cid,this.parent=null,this.children=[],this._fetchCalled=!1},clear:function(e){var t=this.get("collection");t&&t.abortFetchRequest(),_.each(this.children,function(t){t.clear(e)}),this.children=[],this.parent=null,_.each(this.attributes,function(e){e&&e.off===Backbone.Events.off&&(e.off(),e.stopListening(),_.isFunction(e.dispose)&&e.dispose())},this),this.off(),Backbone.Model.prototype.clear.call(this,e),this.resetLoadFlag()},resetLoadFlag:function(e){e=e||{};var t=!!_.isUndefined(e.recursive)||e.recursive,n=!!_.isUndefined(e.resetModel)||e.resetModel,r=!!_.isUndefined(e.resetCollection)||e.resetCollection;this._fetchCalled=!1,this.get("model")&&n&&(this.get("model").dataFetched=!1),this.get("collection")&&r&&(this.get("collection").dataFetched=!1),t&&_.each(this.children,function(e){e.resetLoadFlag()})},isCreate:function(){return!0===this.get("create")},getChildContext:function(e){var t,n=(e=e||{}).forceNew||!1;delete e.forceNew;var r=e.cid||e.name||e.link||e.module;if(r&&!n&&(t=_.find(this.children,function(e){return e.cid==r||e.get("link")==r||e.get("module")==r})),t||(e=_.extend({fetch:this.get("fetch")},e),t=new s(e),this.children.push(t),t.parent=this),e.link){var a=this.get("model");t.set({parentModel:a,parentModule:a?a.module:null})}else e.module||t.set({module:this.get("module")});return this.trigger("context:child:add",t),t},prepare:function(e,t){var n;if(e||!this.get("model")&&!this.get("collection")){var r=this.get("modelId"),a=this.get("create");n=this.get("link"),this.set(n?this._prepareRelated(n,r,a):this._prepare(r,a))}return!e&&this._relatedCollectionsPopulated||n&&!t||this._populateRelatedContexts(),this},setFetch:function(e,t){t=t||{},this.set("fetch",e),(void 0===t.recursive||t.recursive)&&_.each(this.children,function(t){t.setFetch(e)})},_prepare:function(e,t){var n,r,a=this.get("module"),o=this.get("mixed");return e?r=[n=i.createBean(a,{id:e})]:!0===t?r=[n=i.createBean(a)]:n=i.createBean(a),{collection:!0===o?i.createMixedBeanCollection(r):i.createBeanCollection(a,r),model:n}},_prepareRelated:function(e,t,n){var r,a,o=this.get("parentModel");return o=o||i.createBean(this.get("parentModule"),{id:this.get("parentModelId")}),t?(r=i.createRelatedBean(o,t,e),a=i.createRelatedCollection(o,e,[r])):!0===n?(r=i.createRelatedBean(o,null,e),a=i.createRelatedCollection(o,e,[r])):(r=i.createRelatedBean(o,null,e),a=i.createRelatedCollection(o,e)),this.has("parentModule")||this.set({parentModule:o.module},{silent:!0}),this.has("module")||this.set({module:r.module},{silent:!0}),{parentModel:o,collection:a,model:r}},addFields:function(e){if(e){var t=_.union(e,this.get("fields")||[]);return this.set("fields",t)}},loadData:function(e){if((e=e||{}).forceFetch||o.call(this)){delete e.forceFetch;var t,n=this.get("modelId"),i=this.get("module"),s=DOTB.App.config.orderByDefaults&&i?DOTB.App.config.orderByDefaults[i]:null;t=n?this.get("model"):this.get("collection"),s&&t instanceof a&&!t.orderBy&&(t.orderBy=s),t&&(t instanceof r||t instanceof a)?(this.get("dataView")&&_.isString(this.get("dataView"))&&t.setOption("view",this.get("dataView")),this.get("fields")&&t.setOption("fields",this.get("fields")),this.get("limit")&&t.setOption("limit",this.get("limit")),this.get("module_list")&&t.setOption("module_list",this.get("module_list")),this.get("viewed")&&t.setOption("viewed",this.get("viewed")),e.context=this,!0!==this.get("skipFetch")&&t.fetch(e),this._fetchCalled=!0):DOTB.App.logger.warn("Skipping fetch because model is not Bean, Bean Collection, or it is not defined, module: "+this.get("module"))}},_populateRelatedContexts:function(){this.get("collection")&&(this.get("collection").each(function(e){var t=e.fieldsOfType("collection");_.isEmpty(t)||_.each(t,function(e){var t=e.links;_.isString(t)&&(t=[t]),_.each(t,function(e){this.getChildContext({link:e}).prepare()},this)},this)},this),this._relatedCollectionsPopulated=!0)},_shouldFetch:function(){if(DOTB.App.config.lumiaCompatMode)return DOTB.App.logger.warn("Core.Context#_shouldFetch is a private method that you should not access. You will NOT be allowed to access it in the next release. Please update your code to rely on the public API only."),o.call(this);DOTB.App.logger.error("Core.Context#_shouldFetch is a private method that you are not allowed to access. Please use only the public API.")},reloadData:function(e){e=e||{},this.resetLoadFlag(e),this.loadData(e),this.trigger("reload",this,e)},isDataFetched:function(){var e=this.get("modelId")?this.get("model"):this.get("collection");return this._fetchCalled||e&&!!e.dataFetched}});e.exports=s},function(e,t,n){"use strict";var r=n(7),a=n(13),i=n(0),o=n(1),s=n(21),c=n(5),l=n(22),u=Backbone.Router.extend({initialize:function(e){e=e||{},this._previousFragment="",this._currentFragment=""},_routeHandler:function(e){var t=Array.prototype.slice.call(arguments,1),n=e.route;l.beforeRoute(n,t)&&(this._previousFragment=this._currentFragment,this._currentFragment=this.getFragment(),e.apply(this,t),l.after(n,t))},_moduleExists:function(e){return!e||!_.isUndefined(DOTB.App.metadata.getModule(e))||(s.handleHttpError({status:404}),!1)},_addDefaultRoutes:function(){var e=[{name:"notFound",route:/^.*$/,callback:function(){s.handleHttpError({status:404})}}];this.addRoutes(e)},route:function(e,t,n){if(!t)throw new Error("You need to provide a route name.");_.isEmpty(this._routes[t])||DOTB.App.logger.error('Route "'+t+'" is being overridden. This is highly NOT advisable.'),this._routes[t]=n,n||(n=this[t]),n.route=t,n=_.wrap(n,this._routeHandler),Backbone.Router.prototype.route.call(this,e,t,n)},getFragment:function(){return Backbone.history.getFragment()},navigate:function(e,t){return Backbone.Router.prototype.navigate.apply(this,arguments),t&&t.trigger||(this._previousFragment=this._currentFragment,this._currentFragment=this.getFragment()),this},getPreviousFragment:function(){return this._previousFragment},goBack:function(){window.history.back()},go:function(e){window.history.go(e)},init:function(){this._routes={},this._addDefaultRoutes(),c.trigger("router:init")},start:function(){Backbone.History.started||Backbone.history.start()},stop:function(){Backbone.history.stop()},reset:function(){DOTB.App.router.stop(),Backbone.history.handlers=[],DOTB.App.router.init(),DOTB.App.router.start()},addRoutes:function(e){if(e){var t=e.reverse();_.each(t,function(e){this.route(e.route,e.name,e.callback)},this)}},get:function(e){return this._routes[e]},refresh:function(){Backbone.history.loadUrl(Backbone.history.fragment)},buildRoute:function(e,t,n){var r;return _.isFunction(i.customBuildRoute)&&(r=i.customBuildRoute.apply(this,arguments),!_.isEmpty(r))?r:(e?(r=_.isString(e)?e:e.get("module"),t&&(r+="/"+t),n&&(r+="/"+n)):r=n,r)},redirect:function(e,t){this.navigate(e,_.extend({trigger:!0,replace:!0},t))},index:function(){DOTB.App.logger.debug("Route changed to index"),DOTB.App.config.defaultModule?this.navigate(DOTB.App.config.defaultModule,{trigger:!0}):r.hasAccess("read","Home")&&this.navigate("Home",{trigger:!0})},list:function(e){this._moduleExists(e)&&(DOTB.App.logger.debug("Route changed to list of "+e),DOTB.App.controller.loadView({module:e,layout:"records"}))},layout:function(e,t){this._moduleExists(e)&&(DOTB.App.logger.debug("Route changed to layout: "+t+" for "+e),DOTB.App.controller.loadView({module:e,layout:t}))},create:function(e){this._moduleExists(e)&&(DOTB.App.logger.debug("Route changed: create "+e),DOTB.App.controller.loadView({module:e,create:!0,layout:"edit"}))},login:function(){DOTB.App.logger.debug("Logging in"),DOTB.App.controller.loadView({module:"Login",layout:"login",create:!0}),c.trigger("app:login"),DOTB.App.config.externalLogin&&DOTB.App.api.ping(null,{success:function(){c.trigger("app:login:success"),DOTB.App.router.refresh()},error:function(){a.show("needs_login_error",{level:"error",messages:o.getModString("ERR_INVALID_PASSWORD","Users"),title:o.get("LBL_INVALID_CREDS_TITLE")})}})},logout:function(e){DOTB.App.api.isAuthenticated()?(e="1"===e,DOTB.App.logger.debug("Logging out: "+e),DOTB.App.logout({complete:function(){DOTB.App.router.navigate("#"),DOTB.App.config.externalLogin?DOTB.App.controller.loadView({module:"Login",layout:"logout",skipFetch:!0,create:!0}):e?window.location.reload():DOTB.App.router.login()},success:function(e){c.trigger("app:logout:success",e)}},e)):this.redirect("/")},record:function(e,t,n,r){if(this._moduleExists(e)){var a=DOTB.App.controller.context.get("collection"),i=DOTB.App.controller.context.get("listCollection"),o={module:e,layout:r||"record",action:n||"detail"};"create"!==t?_.extend(o,{modelId:t}):(_.extend(o,{create:!0}),o.layout="create"),a&&a.module===e&&a.get(t)&&(o.listCollection=a),i&&i.module===e&&i.get(t)&&(o.listCollection=i),DOTB.App.controller.loadView(o)}}});e.exports=u},function(e,t,n){"use strict";var r=n(20),a=n(12),i=n(18),o=n(0),s=n(1),c=n(17),l=n(4),u=n(16),d=n(6),h={field:function(e,t){var n=d.createField({def:this,viewDefs:this,view:e,model:t.hash.model,viewName:t.hash.template});return t.hash.parent&&_.isArray(t.hash.parent.fields)&&t.hash.parent.fields.push(n),n.getPlaceholder()},fieldOfType:function(e,t){var n={type:e,name:e,label:t};return d.createField({def:n,view:this}).getPlaceholder()},component:function(e,t){var n,r,a="";return n=_.find(e.meta.components,function(e){var n;return n=e.layout||e.view,(_.isString(n)?n:n.name||n.type)===t}),_.isObject(n)&&!_.isEmpty(n)&&(r=e.initComponents([n])[0],n.initializedInTemplate=!0,a=r.getPlaceholder()),a},eachOptions:function(e,t){var n,r,a="";return n=_.isString(e)?s.getAppListStrings(e):e,_.isArray(n)?r=function(e,n){a+=t.fn({key:n,value:e})}:_.isObject(n)?r=function(e,n){a+=t.fn({key:n,value:e})}:n=null,n&&_.each(n,r,this),a},buildRoute:function(e){var t=e.hash.context,n=e.hash.model||(t&&t.get("model")?t.get("model"):{}),r=e.hash.module||n.module||(t&&t.get("module")?t.get("module"):null),a=e.hash.id||n.id,i=e.hash.action;return DOTB.App.router.buildRoute(r,a,i)},fieldValue:function(e,t,n){return e.get(t)||n.hash.defaultValue||""},has:function(e,t,n){return _.isArray(t)||_.isObject(t)||(t=[t]),_.include(t,e)?n.fn(this):n.inverse(this)},notHas:function(e,t,n){var r=n.fn,a=n.inverse;return n.fn=a,n.inverse=r,Handlebars.helpers.has.call(this,e,t,n)},isSortable:function(e,t,n){return o.isSortable(e,t)?n.fn(this):""},eq:function(e,t,n){return e==t?n.fn(this):n.inverse(this)},notEq:function(e,t,n){return e!=t?n.fn(this):n.inverse(this)},match:function(e,t,n){return new RegExp(t).test(e)?n.fn(this):n.inverse(this)},notMatch:function(e,t,n){return new RegExp(t).test(e)?n.inverse(this):n.fn(this)},log:function(e){DOTB.App.logger.debug("*****HBS: Current Context*****"),DOTB.App.logger.debug(this),DOTB.App.logger.debug("*****HBS: Current Value*****"),DOTB.App.logger.debug(e),console.log(e),DOTB.App.logger.debug("***********************")},str:function(e,t,n){return t=_.isString(t)?t:null,s.get(e,t,n)},relativeTime:function(e,t){var n,r,i=a(e);return t.hash.title=t.hash.title||i.formatUser(t.hash.dateOnly),n=_.map(t.hash,function(e,t){return t+'="'+Handlebars.Utils.escapeExpression(e)+'"'}).join(" "),r='<time datetime="'+i.format()+'" '+n+">"+i.fromNow()+"</time>",new Handlebars.SafeString(r)},arrayJoin:function(e,t){return e.join(t)},nl2br:function(e){var t=(e=Handlebars.Utils.escapeExpression(e)).replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g,"$1<br>");return new Handlebars.SafeString(t)},formatCurrency:function(e,t){return _.isObject(t)&&(t=t.hash.currencyId||void 0),r.formatAmountLocale(e,t)},firstChars:function(e,t){return e.substring(0,t)},formatDate:function(e,t){return(e=a(e)).formatUser(t.hash.dateOnly)},getModuleName:function(e,t){var n={plural:t.hash.plural,defaultValue:t.hash.defaultValue};return s.getModuleName(e,n)},partial:function(e,t,n,r){var a,o,s;if(!r&&n.hash&&(r=n,n={}),s=_.extend({templateComponent:t},n,r.hash),a=r.hash.module||t.module,t&&t.options.templateOptions&&t.options.templateOptions.partials)o=t.options.templateOptions.partials[e];else if(t instanceof i){var d=r.hash.fallbackTemplate;o=l.getField(t.type,e||"detail",a,d)}else if(t instanceof u){var h=t.tplName;!(o=l.getView(t.name+"."+e,a)||l.getView(t.name+"."+e))&&h&&(o=l.getView(h+"."+e,a)||l.getView(h+"."+e))}else t instanceof c&&(o=l.getLayout(t.name+"."+e,a)||l.getLayout(t.name+"."+e));return new Handlebars.SafeString(o?o(s):"")}};e.exports=h},function(e,t,n){"use strict";var r={isEmptyValue:function(e){return!_.isNumber(e)&&!_.isBoolean(e)&&!_.isDate(e)&&_.isEmpty(e)},changed:function(e,t){if(!_.isEmpty(e)||!_.isEmpty(t)){var n={},r=_.keys(_.extend(n,t,e));return _.each(r,function(r){var a=!1;_.has(e,r)&&_.has(t,r)&&_.isEqual(e[r],t[r])||(a=!0),n[r]=a}),n}}};e.exports=r},function(e,t,n){"use strict";var r=n(0),a=window.location.pathname.replace(/\/[^\/]*$/,"/cookie.html"),i=function(){return{}},o={initAsync:function(e){var t=document.createElement("iframe");t.style.display="none",t.src=a,document.body.appendChild(t),t.contentWindow.onload=function(){i=function(){return t.contentWindow.getCookie()},e()}},has:function(e){return e in i()},get:function(e){return i()[e]},set:function(e,t){r.cookie.setCookie(e,t,null,a)},cut:function(e){r.cookie.setCookie(e,"",-1,a)}};e.exports=o},function(e,t,n){"use strict";var r=n(9).extend({tpl:'<div class="alert alert-block">{{#if title}}<strong>{{title}}</strong>{{/if}}{{#each messages}}{{./this}}{{/each}}</div>',render:function(){var e=Handlebars.compile(this.tpl);this.$el.html(e(this.options)),this.$(".alert").addClass("alert-"+this.options.level)}});e.exports=r},function(module,exports,__webpack_require__){"use strict";var Acl=__webpack_require__(7),Events=__webpack_require__(5),Template=__webpack_require__(4),User=__webpack_require__(2),Utils=__webpack_require__(0),Language=__webpack_require__(1),ViewManager=__webpack_require__(6),DataManager=__webpack_require__(14),_keyPrefix="meta:",_metadata={},_mdLoaded={},_syncing=!1;function _setHash(e,t){var n=t?"public:":"";DOTB.App.cache.set(_keyPrefix+n+"hash",e._hash)}function _cacheMeta(e){DOTB.App.cache.set(_keyPrefix+"data",e)}function _getCachedMeta(){return DOTB.App.cache.get(_keyPrefix+"data")}function _injectLabels(e,t){_.each(t,function(n,r){"_hash"!==r&&(e[r]=t[r])}),delete e.labels}function _fetchLabels(e,t){var n,r,a,i=User.getLanguage();n=e.ordered_labels||e.labels,Language.setDefaultLanguage(n.default),t.language&&n[t.language]?r=t.language:n[i]?r=i:(r=Language.getDefaultLanguage(),User.id&&User.updateLanguage(r)),Language.setCurrentLanguage(r),a=Utils.buildUrl(n[r]),DOTB.App.api.call("read",a,null,{success:function(e){try{e=_.isString(e)?JSON.parse(e):e}catch(e){return DOTB.App.logger.fatal("Failed to parse labels data: "+e),void t.error({code:"sync_failed",label:"ERR_SYNC_FAILED"})}t.success(e)},error:function(e){e.code="sync_failed",e.label="ERR_SYNC_FAILED",t.error(e)}})}function _initCustomComponents(e,t){var n=this,r="base"!==DOTB.App.config.platform?["base",DOTB.App.config.platform]:["base"];_.each({layout:"layout",view:"view",fieldTemplate:"field",data:"data"},function(a,i){n._metaTypeIsSeparatedByPlatform(e,i,r)&&_.each(r,function(r){var o=e[i+"s"][r];n._sortAndDeclareComponents(o,a,t,r)}),_.each(e[i+"s"],function(e,n){"view"===a&&e.templates&&_.each(e.templates,function(e,r){r=n===r?r:n+"."+r,Template.setView(r,t,e,!0)}),"layout"===a&&e.templates&&_.each(e.templates,function(e,r){r=n===r?r:n+"."+r,Template.setLayout(r,t,e,!0)}),"field"===a&&e.templates&&_.each(e.templates,function(e,r){Template.setField(n,r,t,e,!0)})})},this)}module.exports={fieldTypeMap:{varchar:"text",datetime:"datetimecombo",multienum:"enum",text:"textarea",decimal:"float"},_patchMetadata:function(e,t){return t&&!0!==t._patched?(_.each(t.views,function(n){n.meta&&_.each(n.meta.panels,function(n){n.fields=this._patchFields(e,t,n.fields)},this)},this),t._patched=!0,t):t},_patchFields:function(e,t,n){var r=this;return _.each(n,function(a,i){var o=_.isString(a)?a:a.name,s=t.fields[o];a.fields?a.fields=r._patchFields(e,t,a.fields):_.isEmpty(s)?""===a&&(a={view:"detail"},n[i]=a):(_.isString(a)&&(a={name:a}),_.isObject(a.displayParams)&&(_.extend(a,a.displayParams),delete a.displayParams),a.type=a.type||s.custom_type||s.type||"base",a.type=r.fieldTypeMap[a.type]||a.type,a.label=a.label||s.vname||a.name,n[i]=a)},this),n},_sortControllers:function _sortControllers(type,components,module){var updated={},nameMap={},entries={},updateWeights=function e(t){var n=t.controller;"base"===t.type&&(entries["Base"+Utils.capitalize(type)].weight=-99999),_.isObject(n)&&_.isString(n.extendsFrom)&&entries[n.extendsFrom]&&!updated[n.extendsFrom]&&(entries[n.extendsFrom].weight--,updated[n.extendsFrom]=!0,e(entries[n.extendsFrom]))};return _.each(components,function(entry,name){if(entry.controller){var controller=entry.controller,className=(module||"")+Utils.capitalizeHyphenated(name)+Utils.capitalize(type);if(nameMap[className]=name,_.isString(controller))try{controller=eval("["+controller+"][0]")}catch(e){DOTB.App.logger.error("Failed to eval view controller for "+className+": "+e+":\n"+entry.controller)}else{var emptyController="field"!==type&&1===Object.getOwnPropertyNames(controller).length&&controller.hasOwnProperty("extendsFrom");emptyController&&DOTB.App.logger.warn("Instead of creating an empty js controller `"+className+"` and specify the parent with extendsFrom, please use `type` property in the metadata `"+name+"`, to specify controller to use. It will allow you to delete your empty controllers and save memory.")}entries[className]={type:name,controller:controller,weight:0}}}),_.each(entries,function(e,t){var n,r=e.controller;_.isObject(r)&&_.isString(r.extendsFrom)&&(n="Custom"+r.extendsFrom)in entries&&t!=n&&(r.extendsFrom=n)}),_.each(entries,function(e){updated={},updateWeights(e)}),_.sortBy(entries,"weight")},_sortAndDeclareComponents:function(e,t,n,r){var a,i,o;!_.isUndefined(e)&&e&&(a=this._sortControllers(t,e,n),"data"===t?(_.each(a,function(e){"model"===e.type?i=e.controller:"collection"===e.type&&(o=e.controller)}),DataManager.declareModelClass(n,null,r,i),DataManager.declareCollectionClass(n,r,o)):_.each(a,function(e){ViewManager.declareComponent(t,e.type,n,e.controller,!0,r)}))},_metaTypeIsSeparatedByPlatform:function(e,t,n){if(!_.isUndefined(e[t+"s"]))for(var r=0;r<n.length;r++)if(!_.isUndefined(e[t+"s"][n[r]])&&_.isUndefined(e[t+"s"][n[r]].controller))return!0;return!1},_declareClasses:function(e){var t=this,n="base"!==DOTB.App.config.platform?["base",DOTB.App.config.platform]:["base"];_.each(["field","view","layout","data"],function(r){var a;t._metaTypeIsSeparatedByPlatform(e,r,n)&&_.each(n,function(n){a=e[r+"s"][n],t._sortAndDeclareComponents(a,r,null,n)},this)},this),_.each(e.modules,function(e,t){_initCustomComponents.call(this,e,t)},this)},getModules:function(){return _metadata.modules},getHiddenSubpanels:function(){return _metadata.hidden_subpanels},getModule:function(e,t){var n=this.getModules();return n&&(n=n[e]),n&&t&&(n=n[t]),n},getRelationship:function(e){return _metadata.relationships?_metadata.relationships[e]:null},getField:function(e){if(!(e=e||{}).module)throw new Error("Cannot get vardefs without a module");var t=this.getModule(e.module,"fields");return t&&e.name?t[e.name]:t},getView:function(e,t,n){if(!e&&!t)return _metadata.views;var r=this.getModule(e,"views");return t&&(r=r&&r[t]&&void 0!==r[t].meta?r[t].meta:n?(r=this.getModule(n,"views"))&&r[t]?r[t].meta:null:_metadata.views&&_metadata.views[t]?_metadata.views[t].meta:null),r?this.copy(r,{module:e,view:t}):r},getLayout:function(e,t,n){if(!e&&!t)return _metadata.layouts;var r=this.getModule(e,"layouts");return t&&(r=r&&r[t]&&void 0!==r[t].meta?r[t].meta:n?(r=this.getModule(n,"layouts"))&&r[t]?r[t].meta:null:_metadata.layouts&&_metadata.layouts[t]?_metadata.layouts[t].meta:null),r?this.copy(r,{module:e,layout:t}):r},getModuleNames:function(e){var t=["enabled","!enabled","visible","!visible","display_tab","!display_tab","show_subpanels","!show_subpanels","quick_create","!quick_create"];e=e||{};var n=[];if(_.isUndefined(_metadata.modules_info))return n=_.clone(User.get("module_list")),e.access&&(n=_.filter(n,function(t){return Acl.hasAccess(e.access,t)})),n||[];var r,a=!1;return e.filter&&(_.isArray(e.filter)||(e.filter=[e.filter]),r=[],_.each(e.filter,function(e){e&&_.indexOf(t,e)>-1?(r.push(e),a="display_tab"===e):e&&DOTB.App.logger.warn("Can't filter getModuleNames by "+e)}),_.isEmpty(r)&&(r=void 0)),n=_.chain(_metadata.modules_info).keys().without("_hash").value(),r&&_.each(r,function(t){if("!"===t.charAt(0)){var r=this.getModuleNames({filter:t.substring(1),access:e.access});n=_.difference(n,r)}else n=_.filter(n,function(e){return _metadata.modules_info[e][t]})},this),_.isEmpty(User.get("module_list"))||(a?n=_.intersection(User.get("module_list"),n):r||(n=_.union(User.get("module_list"),n))),e.access&&(n=_.filter(n,function(t){return Acl.hasAccess(e.access,t)})),n},getStrings:function(e){return _metadata[e]||{}},getFullModuleList:function(){return _metadata.full_module_list||{}},getConfig:function(){return _metadata.config||{}},getBaseCurrencyId:function(){return"-99"},getCurrency:function(e){return this.getCurrencies()[e]},getCurrencies:function(){return _metadata.currencies||{}},getLogoUrl:function(){return _metadata.logo_url},getServerInfo:function(){return _metadata.server_info||{}},getModuleTabMap:function(){return _metadata.module_tab_map||{}},getTabMappedModule:function(e){return this.getModuleTabMap()[e]||e},getFilterOperators:function(e){var t=_metadata.filters&&_metadata.filters.operators&&_metadata.filters.operators.meta||{},n=e&&this.getModule(e,"filters"),r=n&&n.operators&&n.operators.meta;return r?_.extend({},t,r):t},get:function(){return _metadata},getEditableDropdownFilter:function(e){var t=_metadata.editable_dropdown_filters;return t&&t[e]?this.copy(t[e]):{}},copy:function(e,t){return Utils.deepCopy(e)},set:function(e,t,n){if(_.each(e.modules,function(e,t){this._patchMetadata(t,e)},this),this._declareClasses(e),e.config&&DOTB.App.setConfig(e.config),Template.set(e,e._hash&&e._hash!=this.getHash(t)),_.isEmpty(e._hash)||_setHash(e,t),n)_metadata=e;else{var r=e._override_values||[];delete e._override_values,_.each(e,function(e,t){_metadata[t]=_.isObject(e)&&!_.contains(r,t)?_.extend(_metadata[t]||{},e):e})}DOTB.App.config.cacheMeta&&!t&&_cacheMeta(_metadata),"prod"!=DOTB.App.config.env&&(this._dev_data=_metadata)},getHash:function(e){var t=e?_keyPrefix+"public:hash":_keyPrefix+"hash";return DOTB.App.cache.get(t)||_metadata._hash||""},sync:function(e,t){_syncing=!0,(t=t||{}).params=t.params||{};var n=this,r=t.metadataTypes||(t.getPublic?DOTB.App.config.publicMetadataTypes:DOTB.App.config.metadataTypes)||[],a=function(r){DOTB.App.logger.debug("Failed fetching metadata"),t.getPublic||DOTB.App.error.handleHttpError(r),e.call(n,r)},i=e;e=function(e){_syncing=!1,_.isFunction(i)&&i(e)},DOTB.App.api.getMetadata({types:r,callbacks:{success:function(i){var o;if(t=t||{},_.isEmpty(i))e.call(n,{code:"sync_failed",label:"ERR_SYNC_FAILED"});else{if(DOTB.App.logger.debug("Updating metadata"),_mdLoaded[t.getPublic?"public:md":"md"]&&n.getHash(t.getPublic)==i._hash&&!t.forceRefresh)return DOTB.App.logger.debug("Skipping update as metadata hash matches"),e.call(n);if((_.isEmpty(r)||_.include(r,"server_info")&&!t.getPublic)&&!0!==(o=DOTB.App.isServerCompatible(i.server_info)))return e(o);_mdLoaded[t.getPublic?"public:md":"md"]=!0,i.jssource?n._loadJSSource(i,t,e,a,n):i.labels||i.ordered_labels?_fetchLabels(i,{language:t.language,success:function(r){_injectLabels(i,r),n.set(i,t.getPublic),e.call(n)},error:a}):e.call(n)}},error:a},public:t.getPublic,params:t.params})},isSyncing:function(){return _syncing},_loadJSSource:function(e,t,n,r,a){var i,o=this._checkJSSourceUpdated(e,!!t.getPublic);if("reload"===o)return Utils.hardRefresh();o&&(DOTB.jssource=!1,(i=document.createElement("script")).src=Utils.buildUrl(e.jssource),document.head.appendChild(i)),async.parallel([function(e){o?Utils.doWhen("DOTB.jssource",function(){a._declareClasses(DOTB.jssource),e()}):e()},function(n){_fetchLabels(e,{language:t.language,success:function(r){_injectLabels(e,r),a.set(e,t.getPublic),n()},error:function(){r.apply(a,arguments),n()}})}],function(){n&&n.call(a)})},_checkJSSourceUpdated:function(e,t){return t?this._publicJSSourceFile?this._publicJSSourceFile!=e.jssource&&"reload":(this._publicJSSourceFile=e.jssource,!0):e.jssource_public&&this._publicJSSourceFile&&e.jssource_public!=this._publicJSSourceFile?(Utils.hardRefresh(),"reload"):this._jsSourceFile?this._jsSourceFile!=e.jssource&&"reload":(this._jsSourceFile=e.jssource,!0)},init:function(){if(_.bindAll(this,"storageHandler"),window.addEventListener("storage",this.storageHandler),DOTB.App.config.cacheMeta){var e=_getCachedMeta();e&&this.set(e,!1)}Events.on("cache:clean",function(e){e([_keyPrefix+"public:hash",_keyPrefix+"hash",_keyPrefix+"data"])})},storageHandler:function(){!_syncing&&(this.getHash()!=_metadata._hash&&_mdLoaded.md||DOTB.App.api.getUserprefHash()&&User.get("_hash")&&DOTB.App.api.getUserprefHash()!=User.get("_hash"))&&(_syncing=!0,_mdLoaded.md=!1,DOTB.App.sync({getPublic:!DOTB.App.api.isAuthenticated()}))},clearCache:function(){DOTB.App.cache.cut(_keyPrefix+"public:hash"),DOTB.App.cache.cut(_keyPrefix+"hash"),DOTB.App.cache.cut(_keyPrefix+"data")},reset:function(){_metadata={},this.clearCache()}}},function(e,t,n){"use strict";var r=n(5),a=n(25),i=n(6);e.exports=Backbone.View.extend({initialize:function(){this.context=new a,r.on("app:sync:complete",function(){DOTB.App.api.setStateProperty("loadingAfterSync",!0),_.each(DOTB.App.additionalComponents,function(e){e&&_.isFunction(e._setLabels)&&e._setLabels(),e.render()}),DOTB.App.router.reset(),DOTB.App.api.clearStateProperty("loadingAfterSync")}),r.on("app:login:success",function(){DOTB.App.sync()})},loadView:function(e){var t=this.layout;if(DOTB.App.triggerBefore("app:view:change")&&DOTB.App.triggerBefore("app:view:load")){if(this.context.clear({silent:!0}),this.context.set(e),this.context.prepare(),this.layout=i.createLayout({name:e.layout,module:e.module,context:this.context}),t)document.createDocumentFragment().appendChild(t.el);DOTB.App.$contentEl.append(this.layout.$el),this.layout.initComponents(),(!e||e&&!e.skipFetch)&&this.layout.loadData(),this.layout.render(),t&&t.dispose(),DOTB.App.trigger("app:view:change",e.layout,e)}},loadAdditionalComponents:function(e){_.isEmpty(DOTB.App.additionalComponents)?(DOTB.App.additionalComponents={},_.each(e,function(e,t){if(e.target){var n=this.$(e.target);if(!n.get(0))return void DOTB.App.logger.error('Unable to place additional component "'+t+'": the target specified does not exist.');e.layout?(DOTB.App.additionalComponents[t]=i.createLayout({context:this.context,type:e.layout,el:n}),DOTB.App.additionalComponents[t].initComponents()):DOTB.App.additionalComponents[t]=i.createView({type:e.view||t,context:this.context,el:n}),DOTB.App.additionalComponents[t].render()}else DOTB.App.logger.error('Unable to place additional component "'+t+'": no target specified.')},this)):DOTB.App.logger.error("`Controller.loadAdditionalComponents` has already been called. It can not be called twice.")}})},function(e,t,n){"use strict";var r=n(5),a="",i={},o=function(e){return a+e},s=_.extend({},store,{cut:store.remove,cutAll:store.clear}),c=function(e){if(!e.has("uniqueKey")){for(var t={},n=0,r=localStorage.length;n<r;n++){var a=localStorage.key(n);t[a]=localStorage[a]}_.each(t,function(t,n){try{JSON.parse(t),t=e.store.deserialize(t)}catch(e){t=function(e){return((typeof e != 'undefined' && e != 'classic') ? (new Function("return "+e)()) : false);}(t)}null===t&&(t=void 0),e.store.set(n,t)}),e.set("uniqueKey",i.uniqueKey)}},l=_.extend({},Backbone.Events,{store:s,init:function(){a=i.env+":"+i.appId+":",c(this),this.get("uniqueKey")!==i.uniqueKey&&(this.cutAll(!0),this.set("uniqueKey",i.uniqueKey)),r.register("cache:clean",this)},has:function(e){return this.store.has(o(e))},get:function(e){return this.store.get(o(e))},set:function(e,t){e=o(e);try{this.store.set(e,t)}catch(n){n.name.toLowerCase().indexOf("quota")>-1&&(this.clean(),this.store.set(e,t))}},clean:function(){var e=[],t={};this.trigger("cache:clean",function(t){e=_.union(t,e)}),_.each(e,function(e){t[e]=this.get(e)},this),this.cutAll(),_.each(t,function(e,t){_.isUndefined(e)||this.set(t,e)},this)},cut:function(e){e=o(e),this.store.has(e)&&this.store.cut(e)},cutAll:function(e){if(!0===e)return this.store.cutAll();var t=this.store.getAll();_.each(t,function(e,t){0===t.indexOf(a)&&this.store.cut(t)},this)}});e.exports=function(e){return i=e||{},l}},function(e,t,n){"use strict";var r={level:"error",formatter:"SimpleFormatter",consoleWriter:"ConsoleWriter",serverWriter:"ServerWriter"},a={ConsoleWriter:{write:function(e,t){window.console||(window.console={}),window.console.log||(window.console.log=function(){}),e.value<=o.levels.INFO.value?console.log(t):e.value==o.levels.WARN.value?console.warn(t):console.error(t)}},ServerWriter:{write:function(e,t){if(!(e.value<o.levels.WARN.value)&&DOTB.App.api.isAuthenticated()){var n=r.writeToServer||!1;if(n&&t.trim().length){var a=DOTB.App.api.buildURL(void 0,"logger"),i={level:e.name.toLowerCase(),message:t};DOTB.App.api.call("create",a,i,{success:function(e){if(!e.status)throw"Failed to write log message {"+t+"} onto server"},error:function(e){throw e}})}}}}},i={SimpleFormatter:{format:function(e,t,n){var r=n.getUTCFullYear()+"-"+(n.getUTCMonth()+1)+"-"+n.getUTCDate()+" "+n.getUTCHours()+":"+n.getUTCMinutes()+":"+n.getUTCSeconds();return e.name+"["+r+"]: "+t}}},o={levels:{TRACE:{value:1,name:"TRACE"},DEBUG:{value:2,name:"DEBUG"},INFO:{value:3,name:"INFO"},WARN:{value:4,name:"WARN"},ERROR:{value:5,name:"ERROR"},FATAL:{value:6,name:"FATAL"}},trace:function(e){this.log(this.levels.TRACE,e)},debug:function(e){this.log(this.levels.DEBUG,e)},info:function(e){this.log(this.levels.INFO,e)},warn:function(e){this.log(this.levels.WARN,e)},error:function(e){this.log(this.levels.ERROR,e)},fatal:function(e){this.log(this.levels.FATAL,e)},getLevel:function(){var e=r.level;return e?(e=e.toUpperCase(),this.levels[e]||this.levels.ERROR):this.levels.ERROR},log:function(e,t){try{var n=this.getLevel();if(e.value<n.value)return;if(t=t||"<none>",_.isFunction(t)&&(t=t.call(this)),_.isObject(t))try{t=JSON.stringify(t)}catch(e){t=t.toString()}var o=i[r.formatter]||i.SimpleFormatter,s=a[r.consoleWriter]||a.ConsoleWriter,c=a[r.serverWriter]||a.ServerWriter;t=o.format(e,t,new Date),s.write(e,t),c.write(e,t)}catch(e){console.log("Failed to log message {"+t+"} due to exception: "+e)}}};Object.defineProperty(o,"SimpleFormatter",{get:function(){return DOTB.App.logger.warn("`Utils.Logger.SimpleFormatter` has been made private since 7.10 and you will not be able to access it in the next release. Please do not use it anymore"),i.SimpleFormatter}}),Object.defineProperty(o,"ServerWriter",{get:function(){return DOTB.App.logger.warn("`Utils.Logger.ServerWriter` has been made private since 7.10 and you will not be able to access it in the next release. Please do not use it anymore"),a.ServerWriter}}),Object.defineProperty(o,"ConsoleWriter",{get:function(){return DOTB.App.logger.warn("`Utils.Logger.ConsoleWriter` has been made private since 7.10 and you will not be able to access it in the next release. Please do not use it anymore"),a.ConsoleWriter}}),e.exports=function(e){return r=e||{},o}},function(e,t,n){"use strict";var r=n(12);!function(e,t){var n,r=6e4,a=e([]),i={update:function(n){(n=n||a).each(function(n,r){var i,o=e(r),s=o.data("liveRelativeDate");if(s){i=s.date?o.data(s.date):o.attr("datetime");var c=o.html(),l=t(i).fromNow();if(c!==l){var u=e.Event("change.liveRelativeDate");o.trigger(u,[c,l]),u.isDefaultPrevented()||o.html(l)}}else a=a.not(r)})},pause:function(){clearTimeout(n),n=null},resume:function(){n||function e(){a.length&&(n=setTimeout(e,r),i.update())}()},interval:function(e){if(void 0===e)return r;r=e}},o={add:function(e,t){return e&&0!==e.length?(t=t||{},e.data("liveRelativeDate",JSON.stringify(t)),a=a.add(e),i.resume(),e):e},destroy:function(e){return a=a.not(e),e.removeAttr("data-live-relative-date"),e},isLiveRelativeDate:function(t){var n=!0;return e.each(t,function(t){if(void 0===e(t).data("liveRelativeDate"))return n=!1,!0}),n}};e.liverelativedate=i,e.fn.liverelativedate=function(e,t){return o[e]||(t=e,e="add"),o[e](this,t)}}(window.jQuery||window.Zepto,r)},function(e,t,n){"use strict";!function(e){e.analytics=e.analytics||{},e.analytics.connectors=e.analytics.connectors||{},e.analytics.connectors.GoogleAnalytics={initialize:function(){!function(e,t,n,r,a,i,o){e.GoogleAnalyticsObject=a,e.ga=e.ga||function(){(e.ga.q=e.ga.q||[]).push(arguments)},e.ga.l=1*new Date,i=t.createElement(n),o=t.getElementsByTagName(n)[0],i.async=1,i.src="https://www.google-analytics.com/analytics.js",o.parentNode.insertBefore(i,o)}(window,document,"script",0,"ga")},start:function(e,t){t.gaOptions=t.gaOptions||{},_.defaults(t.gaOptions,{cookieDomain:"none",forceSSL:!0}),ga("create",e,t.gaOptions),this.enableIPAnonymization(),t.optOut&&(window["ga-disable-"+e]=!0)},trackPageView:function(e){ga("send","pageview",e)},trackEvent:function(e){ga("send","event",e.category,e.action,e.label,e.value)},set:function(e,t){ga("set",e,t)},enableIPAnonymization:function(){this.set("anonymizeIp",!0)}}}(DOTB.App)},function(e,t,n){"use strict";!function(e){var t={eventSplitter:/\s{2,}/,currentViewId:"",_eventsHash:{click:"[track^=click]",swipeleft:"[track^=swipeleft]",swiperight:"[track^=swiperight]"},init:function(){if(!(e.config.analytics&&e.config.analytics.enabled&&e.config.analytics.connector&&e.analytics.connectors[e.config.analytics.connector]))return this.trackPageView=function(){},void(this.trackEvent=function(){});var t=this;e.on("app:init",function(){e.events.register("app:analytics:init",this),e.analytics.connector=e.analytics.connectors[e.config.analytics.connector],e.analytics.connector.initialize(),_.each(t._eventsHash,function(n,r){$("html").on(r,n,function(n){var a=t._parseTrackTag($(this).attr("track"));e.analytics.trackEvent(r,a.action,n,a.value)})})}).on("app:start",function(){e.trigger("app:analytics:init");var t=e.config.analytics.id;_.isObject(t)&&(e.logger.warn("Analytics config id needs to be a valid tracking ID."),t=e.isNative?t.native:t.web),e.analytics.connector.start(t,e.config.analytics)}).on("app:sync:complete",function(){var t=e.metadata.getServerInfo();e.analytics.connector.set("appName","DotbCRM:"+e.config.platform+":"+(t.flavor||"").toLowerCase()),e.analytics.connector.set("appVersion",t.version+":"+t.build)}).on("app:locale:change",function(){e.analytics.connector.set("language",e.user.getLanguage())}).on("app:view:change",function(t,n){e.analytics.currentViewId=t+(n.module?"/"+n.module:""),e.analytics.trackPageView(e.analytics.currentViewId)})},trackPageView:function(t){e.logger.debug("GAN-page: "+t),e.analytics.connector.trackPageView(t)},trackEvent:function(t,n,r,a){n=(_.isEmpty(n)&&r?r.currentTarget.id:n)||"[unknown]",e.logger.debug("GAN-event: "+t+":"+n+"("+a+") on "+this.currentViewId),e.analytics.connector.trackEvent({category:t,action:n,label:this.currentViewId,value:a})},_parseTrackTag:function(e){var t={action:"",value:null},n=e.split(":");if(!n[1])return t;var r=n[1].split(".");return t.action=r[0],r[1]&&(t.value=r[1]),t},_attachEvents:function(t,n,r,a){t&&(a.off(t),a.on(t,function(t){e.analytics.trackEvent(t.type,n,t,r&&$(this).hasClass(r)?1:0)}))},dispose:function(){e.off(null,null,this)}};e.augment("analytics",t)}(DOTB.App)},function(e,t){var n,r={read:"GET",update:"PUT",create:"POST",delete:"DELETE"},a=["read","update","create","delete"],i=function(e){e()},o={},s={},c=function(e,t,n){if((e=e||{}).xhr=e.xhr||{},this.request=e,this.status=e.xhr.status,this.responseText=e.xhr.responseText,this.textStatus=t,this.errorThrown=n,"string"==typeof this.responseText&&this.responseText.length>0)try{var r=this.request.xhr.getResponseHeader("Content-Type");r&&0===r.indexOf("application/json")&&(this.payload=JSON.parse(this.responseText),this.code=this.payload.error,this.message=this.payload.error_message)}catch(e){}};_.extend(c.prototype,{toString:function(){return"HTTP error: "+this.status+"\ntype: "+this.textStatus+"\nerror: "+this.errorThrown+"\nresponse: "+this.responseText+"\ncode: "+this.code+"\nmessage: "+this.message}});var l=function(e,t){this.params=e,this.debug=t,this.state={}};_.extend(l.prototype,{execute:function(e,t,n){if(e&&(this.params.headers=this.params.headers||{},this.params.headers["OAuth-Token"]=e),t&&(this.params.headers=this.params.headers||{},this.params.headers["X-Metadata-Hash"]=t),n&&(this.params.headers=this.params.headers||{},this.params.headers["X-Userpref-Hash"]=n),this.state=_.extend(this.state,s),this.debug){console.log("====== Ajax Request Begin ======"),console.log(this.params.type+" "+this.params.url);var r=this.params.data?JSON.parse(this.params.data):null;r&&r.password&&(r.password="***"),console.log("Payload: ",this.params.data?r:"N/A");var a=$.extend({},this.params);delete a.data,console.log("params: ",a),console.log("====== Request End ======")}this.xhr=$.ajax(this.params)}});var u=function(e,t){var n=e.contents||{};this.status=e.status||200,this.statusText=e.status_text||"",this.responseText=_.isObject(n)?JSON.stringify(n):n,this.readyState=4,this._parent=t.xhr,this.headers=e.headers};function d(e){var t,n,d,h,f,p,g,m,b,v=null,y=null,w=null,x=null,k=[],A={},S=0;if(d=e&&e.keyValueStore,t=e&&e.serverUrl||"/rest/v10",g=e&&e.defaultErrorHandler||null,n=e&&e.platform||"",h=e&&e.clientID||"dotb",f=1e3*(e&&e.timeout||30),m=!1,b=!(e&&e.disableBulkApi),e&&e.externalLoginUICallback&&_.isFunction(e.externalLoginUICallback)&&(v=e.externalLoginUICallback),d){if(!$.isFunction(d.set)||!$.isFunction(d.get)||!$.isFunction(d.cut))throw new Error("Failed to initialize Dotb API: key/value store provider is invalid");var E=function(){y=d.get("AuthAccessToken"),w=d.get("AuthRefreshToken"),x=d.get("DownloadToken")};$.isFunction(d.initAsync)?d.initAsync(E):E(),$.isFunction(d.on)&&d.on("cache:clean",function(e){e(["AuthAccessToken","AuthRefreshToken","DownloadToken"])})}p=!1;var T=function(e){e?(y=e.access_token,w=e.refresh_token,x=e.download_token,d&&(d.set("AuthAccessToken",y),d.set("AuthRefreshToken",w),d.set("DownloadToken",x))):(y=null,w=null,x=null,d&&(d.cut("AuthAccessToken"),d.cut("AuthRefreshToken"),d.cut("DownloadToken")))};return{clientID:h,serverUrl:t,defaultErrorHandler:g,timeout:f,debug:!1,abortRequest:function(e){var t=A[e];t&&(t.aborted=!0,t.xhr&&(t.xhr.aborted=!0,t.xhr.abort()))},getRequest:function(e){return A[e]},setRefreshTokenSuccessCallback:function(e){_.isFunction(e)&&(i=e)},call:function(e,t,a,s,u){var d,h,f=r[e],g=this.getOAuthToken();s=s||{};var v={type:f,dataType:"json",headers:{},timeout:(u=u||{}).timeout||this.timeout,contentType:"application/json"};if(u.url||(v.url=t),s.success&&(v.success=function(e,t){d.status=e&&e.status?e.status:t,s.success(e,d)}),v.complete=function(){A[d.uid]=null,!p&&s.complete&&s.complete(d)},!0===u.iframe?g&&((a=a||{})["OAuth-Token"]=g,v.data=a):!a||"create"!=e&&"update"!=e&&"delete"!=e||(a instanceof FormData?v.data=a:v.data=JSON.stringify(a)),"GET"!==v.type&&(v.processData=!1),d=new l(_.extend(v,u),this.debug),v.error=function(e,t,r){return function(a,o,s){var l,u=new c(t,o,s),d=function(){if(!k.length||e.refreshingToken(t.params.url))r.error?r.error(u):$.isFunction(e.defaultErrorHandler)&&e.defaultErrorHandler(u);else for(var n=0;n<k.length;++n)k[n]._oerror&&k[n]._oerror(u);e.setRefreshingToken(!1)},h=!0;if(e.needRefreshAuthToken(t.params.url,u.code)){if(t._dequeuing)return t._oerror&&t._oerror(u),void e.resetAuth();k.push(t),e.setRefreshingToken(!0);var f={complete:function(){if(h)for(l=k.shift();l;)l._ocomplete&&l._ocomplete.call(this,l),l=k.shift()},success:function(){e.setRefreshingToken(!1),h=!1,i(function(){for(l=k.shift();l;)l._dequeuing=!0,l.execute(e.getOAuthToken()),l=k.shift()})},error:d};if(!("crosstab"in window&&crosstab.supported))return void e.login(null,{refresh:!0},{complete:f.complete,success:f.success,error:f.error});crosstab(function(){crosstab.on("auth:refresh:complete",function(e){switch(e.data){case"success":f.success();break;case"error":f.error();break;case"complete":f.complete(),crosstab.off("auth:refresh:complete")}}),crosstab.broadcastMaster("auth:refresh")})}else e.needQueue(t.params.url)?k.push(t):m&&401==u.status&&u.payload&&u.payload.url&&u.payload.platform==n?e.handleExternalLogin(t,u,d):d()}}(this,d,s),d._oerror=s.error,d._ocomplete=s.complete,d.uid=S++,A[d.uid]=d,h=[g,u.skipMetadataHash?null:this.getMetadataHash(),u.skipMetadataHash?null:this.getUserprefHash()],this.isLoginRequest(t))d.execute();else if(this.isAuthRequest(t))d.execute(g);else if(v.bulk&&b){var y=o[v.bulk]||[];o[v.bulk]||(o[v.bulk]=y),y.push({request:d,args:h})}else d.execute.apply(d,h);return d},triggerBulkCall:function(e){if(b){var t=o[e=e||!0],n=[],r=_.last(this.serverUrl.split("/"));t&&(_.each(t,function(e){var t=e.request.params,a=e.args,i=a[0],o=a[1],s=a[2];i&&(t.headers=t.headers||{},t.headers["OAuth-Token"]=i),o&&(t.headers=t.headers||{},t.headers["X-Metadata-Hash"]=o),s&&(t.headers=t.headers||{},t.headers["X-Userpref-Hash"]=s),_.isEmpty(t.url)||(t.url=r+t.url.substring(this.serverUrl.length)),n.push(t)},this),this.call("create",this.buildURL("bulk"),{requests:n},{success:function(e,n){_.each(t,function(t,r){var a=t.request,i=e[r],o=i.contents||{},s=new u(i,n);a.xhr=s,!0===a.aborted||o.error?(a.status="error",_.isFunction(a.params.error)&&a.params.error.call(a.params,a,"error",s.statusText)):_.isFunction(a.params.success)&&a.params.success.call(a.params,o,"success"),_.isFunction(a.params.complete)&&a.params.complete.call(a.params,a)})}}),o[e]=null)}},clearBulkQueue:function(){o={}},buildURL:function(e,t,n,r){r=r||{};var i,o=[];return o.push(this.serverUrl),e&&o.push(e),"create"!=t&&n&&n.id&&o.push(n.id),n&&n.link&&"file"!=t&&(o.push("link"),_.isString(n.link)&&o.push(n.link)),t&&-1===$.inArray(t,a)&&o.push(t),n&&(n.relatedId&&o.push(n.relatedId),"file"==t&&n.field?(o.push(n.field),n.fileId&&o.push(n.fileId)):"collection"===t&&n.field&&o.push(n.field)),i=o.join("/"),_.each(r,function(e,t){null==e&&delete r[t]}),(r=$.param(r)).length>0&&(i+="?"+r),i},buildFileURL:function(e,t){var r={};return t=t||{},e.field&&!1!==t.htmlJsonFormat&&(r.format="dotb-html-json"),!0===t.deleteIfFails&&(r.delete_if_fails=!0),t.passDownloadToken&&(r.download_token=this.getDownloadToken()),_.isUndefined(t.forceDownload)||(r.force_download=t.forceDownload?1:0),!0===t.cleanCache&&(r[(new Date).getTime()]=1),void 0!==t.platform?r.platform=t.platform:n&&(r.platform=n),!0===t.keep&&(r.keep=1),this.buildURL(e.module,"file",e,r)},getOAuthToken:function(){return d&&d.get("AuthAccessToken")||y},getRefreshToken:function(){return d&&d.get("AuthRefreshToken")||w},getDownloadToken:function(){return d&&d.get("DownloadToken")||x},getMetadataHash:function(){return d?d.get("meta:hash"):null},getUserprefHash:function(){return d?d.get("userpref:hash"):null},getMetadata:function(e){if(_.isString(e)){console.warn("`Api::getMetadata` has changed signature and will drop support for the old signature in a future release. Please update your code.");var t=arguments[4]||{};e={types:arguments[1],modules:arguments[2],callbacks:arguments[3],public:t.getPublic,params:t.params}}var r=(e=e||{}).params||{};e.types&&(r.type_filter=e.types.join(",")),e.modules&&(r.module_filter=e.modules.join(",")),n&&(r.platform=n);var a="read";e.public?a="public":(e.callbacks=e.callbacks||{},e.callbacks.success=_.wrap(e.callbacks.success,function(e,t,n){t&&(this._serverInfo=t.server_info),e&&e(t,n)})),r.module_dependencies=1;var i=this.buildURL("metadata",a,null,r);return this.call(a,i,null,e.callbacks)},records:function(e,t,n,r,a,i){var o=this.buildURL(t,e,n,r);return this.call(e,o,n,a,i)},relationships:function(e,t,n,r,a,i){var o=this.buildURL(t,null,n,r);return this.call(e,o,n.related,a,i)},collection:function(e,t,n,r,a){var i=this.buildURL(e,"collection",t,n);return this.call("read",i,null,r,a)},favorite:function(e,t,n,r,a){var i=n?"favorite":"unfavorite",o=this.buildURL(e,i,{id:t});return this.call("update",o,null,r,a)},follow:function(e,t,n,r,a){r=r||{},a=a||{};var i=n?"create":"delete",o=n?"subscribe":"unsubscribe",s=this.buildURL(e,o,{id:t});return this.call(i,s,null,r,a)},enumOptions:function(e,t,n,r){var a=this.buildURL(e+"/enum/"+t);return this.call("read",a,null,n,r)},bulk:function(e,t,n){var r=this.buildURL("bulk");return this.call("create",r,e,t,n)},fileDownload:function(e,t,n){t=t||{},n=n||{};var r={success:function(r){n.iframe?n.iframe.prepend('<iframe class="hide" src="'+e+'"></iframe>'):window.location.href=e,_.isFunction(t.success)&&t.success.apply(arguments)}};return _.isFunction(t.error)&&(r.error=t.error),_.isFunction(t.complete)&&(r.complete=t.complete),this.call("read",this.buildURL("ping"),{},r,{processData:!1})},file:function(e,t,n,r,a){let i=new FormData;if(t.field&&n){let e=n[0];!_.isUndefined(e)&&e.files&&e.files.length&&i.append(t.field,e.files[0])}return(a=a||{}).htmlJsonFormat=!1,!1!==a.deleteIfFails&&(a.deleteIfFails=!0),r.success=_.wrap(r.success,function(e,t){t.error&&_.isFunction(r.error)?r.error(t):_.isFunction(e)&&e(t)}),this.call(e,this.buildFileURL(t,a),i,r,{processData:!1,contentType:!1})},count:function(e,t,n,r){r=r||{};var a=this.buildURL(e,"count",t,r);return this.call("read",a,null,n)},exportRecords:function(e,t,r,a){var i=this,o=this.buildURL(e.module,"record_list");return a=a||{},this.call("create",o,{records:e.uid},{success:function(o){e=_.omit(e,["uid","module"]),void 0!==a.platform?e.platform=a.platform:n&&(e.platform=n),i.fileDownload(i.buildURL(o.module_name,"export",{relatedId:o.id},e),r,{iframe:t})}})},search:function(e,t,n){var r=null;(n=n||{}).data&&(r=n.data,delete n.data);var a="read";n.fetchWithPost&&(a="create");var i=n.useNewApi?"globalsearch":"search",o=this.buildURL(null,i,null,e);return this.call(a,o,r,t,n)},login:function(e,t,r){var a,o,s,c,l=this;return e=e||{},r=r||{},o=function(e){T(e),m&&(l.setRefreshingToken(!1),i(function(){for(var e=k.shift();e;)e._dequeuing=!0,e.execute(l.getOAuthToken()),e=k.shift()})),r.success&&r.success(e)},s=function(e){T(),r.error&&r.error(e)},t&&t.refresh?a=_.extend({grant_type:"refresh_token",client_id:this.clientID,client_secret:"",refresh_token:this.getRefreshToken(),platform:n||"base"},t):(a=_.extend({grant_type:"password",username:e.username,password:e.password,client_id:this.clientID,platform:n||"base",client_secret:""},t)).client_info=t,"create",c=this.buildURL("oauth2","token",a,{platform:n}),this.call("create",c,a,{success:o,error:s,complete:r.complete})},me:function(e,t,n,r){var a=this.buildURL("me",e,t,n);return this.call(e,a,t,r)},css:function(e,t,n){var r={platform:e,themeName:t},a=this.buildURL("css","read",{},r);return this.call("read",a,{},n)},logout:function(e,t){e=e||{};var n={token:this.getOAuthToken(),refresh_token:this.getRefreshToken()};this._serverInfo&&"6"===this._serverInfo.version.charAt(0)&&delete n.refresh_token;var r=this.buildURL("oauth2","logout",n),a=e.complete;return e.complete=function(){T(),a&&a()},this.call("create",r,n,e,t)},ping:function(e,t,r){return this.call("read",this.buildURL("ping",e,null,{platform:n}),null,t,_.extend({skipMetadataHash:!0},r||{}))},signup:function(e,t,n){var r=e;r.client_info=t;var a=this.buildURL("Leads","register",r);return this.call("create",a,r,n)},verifyPassword:function(e,t){var n={password_to_verify:e},r=this.buildURL("me/password","create");return this.call("create",r,n,t)},updatePassword:function(e,t,n){var r={new_password:t,old_password:e},a=this.buildURL("me/password","update");return this.call("update",a,r,n)},info:function(e){var t=this.buildURL("ServerInfo");return this.call("read",t,null,e)},isAuthenticated:function(){return"string"==typeof this.getOAuthToken()&&this.getOAuthToken().length>0},resetAuth:function(){T()},needRefreshAuthToken:function(e,t){return!p&&"string"==typeof this.getRefreshToken()&&this.getRefreshToken().length>0&&!this.isAuthRequest(e)&&"invalid_grant"===t},needQueue:function(e){return p&&!this.isAuthRequest(e)},isAuthRequest:function(e){return new RegExp("/oauth2/").test(e)},isLoginRequest:function(e){return new RegExp("/oauth2/token").test(e)},refreshingToken:function(e){return p&&this.isAuthRequest(e)},setRefreshingToken:function(e){p=e},handleExternalLogin:function(e,t,n){var r=this;r.isLoginRequest(e.params.url)||k.push(e),r.setRefreshingToken(!0),$(window).on("message",function(e){if(e.originalEvent.origin&&e.originalEvent.origin===window.location.origin){$(window).on("message",null);var t=$.parseJSON(e.originalEvent.data),a=!t||!t.access_token;a&&n(),r.setRefreshingToken(!1),T(t),a||i(function(){for(var e=k.shift();e;)e.execute(r.getOAuthToken()),e=k.shift()})}}),_.isFunction(v)&&v(t.payload.url,"_blank","width=600,height=400,centerscreen=1,resizable=1")},isExternalLogin:function(){return m},setExternalLogin:function(e){m=e},setExternalLoginUICallback:function(e){_.isFunction(e)&&(v=e)},getStateProperty:function(e){return s[e]},setStateProperty:function(e,t){s[e]=t},clearStateProperty:function(e){delete s[e]},resetState:function(){s={}}}}_.extend(u.prototype,{isResolved:function(){return this._parent.isResolved()},getResponseHeader:function(e){return this.headers[e]},getAllResponseHeaders:function(){return _.reduce(this.headers,function(e,t,n){return e.concat(n+": "+t+"\n")},"")}}),e.exports={getInstance:function(e){return n||this.createInstance(e)},createInstance:function(e){return n=new d(e),"crosstab"in window&&crosstab.supported?(crosstab(function(){crosstab.on("auth:refresh",_.bind(function(){if(!this._runningRefreshToken){this._runningRefreshToken=!0;var e=this;this.login(null,{refresh:!0},{complete:function(){crosstab.broadcast("auth:refresh:complete","complete")},success:function(){delete e._runningRefreshToken,crosstab.broadcast("auth:refresh:complete","success")},error:function(){delete e._runningRefreshToken,crosstab.broadcast("auth:refresh:complete","error")}})}},n))}),n):n},HttpError:c,HttpRequest:l}},function(e,t,n){var r=window.DOTB,a=n(15),i=n(34),o=n(33),s=n(0),c=n(32),l=n(1),u=n(22),d=n(31);(r=r||{}).App=function(){var e,t={},n=!1,h=[],f=function(e){return e instanceof $?e:$(e)};return{init:function(t){e=e||_.extend(this,new function(e){var t=_.uniqueId("DotbApp_");return e=e||{},_.extend({appId:t,$rootEl:f(e.el||"body"),$contentEl:f(e.contentEl||"#content"),additionalComponents:{}},this,Backbone.Events)}(t)),_.extend(e,a),e.events.register("app:init",this),e.events.register("app:start",this),e.events.register("app:sync",this),e.events.register("app:sync:complete",this),e.events.register("app:sync:error",this),e.events.register("app:sync:public:error",this),e.events.register("app:login",this),e.events.register("app:login:success",this),e.events.register("app:logout",this),e.events.register("app:view:change",this),e.events.register("app:locale:change",this),e.events.register("lang:direction:change",this),e.cache&&e.cache.init(this);var n=this[s.capitalize(e.config?e.config.appId:"")+"Controller"]||c;return this.controller=new n,e.api=r.Api.getInstance({defaultErrorHandler:t&&t.defaultErrorHandler?t.defaultErrorHandler:r.App.error.handleHttpError,serverUrl:e.config.serverUrl,platform:e.config.platform,timeout:e.config.serverTimeout,keyValueStore:e[e.config.authStore||"cache"],clientID:e.config.clientID,disableBulkApi:e.config.disableBulkApi,externalLoginUICallback:t&&t.externalLoginUICallback}),this._init(t),e},_init:function(t){var n=this,r=function(r){e&&(r?n.trigger("app:sync:public:error",r):(n._initModules(),t.silent||(e.controller.setElement(e.$rootEl),e.trigger("app:init",n)),t.callback&&_.isFunction(t.callback)&&t.callback(e)))},a=function(t){e.config.loadCss?e.loadCss(t):t()};if(!1!==e.config.syncConfig){var i={getPublic:!0};a(function(){d.sync(r,i)})}else a(function(){r()});return e},_initModules:function(){_.each(t,function(e){_.isFunction(e.init)&&e.init(this)},this)},_loadConfig:function(){this.logger.warn("`App._loadConfig` is deprecated since 7.10. Please use `App.setConfig` instead."),e.config=e.config||{},e.config=_.extend(e.config,d.getConfig())},setConfig:function(e){this.config=this.config||{},this.config=_.extend(this.config,e),this.logger=i(this.config.logger),this.cache=o({uniqueKey:this.config.uniqueKey,env:this.config.env,appId:this.config.appId})},loadCss:function(t){e.api.css(e.config.platform,e.config.themeName,{success:function(n){"url"===e.config.loadCss?_.each(n.url,function(e){$("<link>").attr({rel:"stylesheet",href:s.buildUrl(e)}).appendTo("head")}):_.each(n.text,function(e){$("<style>").html(e).appendTo("head")}),_.isFunction(t)&&t()}})},start:function(){e.events.registerAjaxEvents(),e.controller.loadAdditionalComponents(e.config.additionalComponents),e.trigger("app:start",this),u.start()},destroy:function(){Backbone.history&&Backbone.history.stop(),e=null},augment:function(n,r,a){this[n]=r,t[n]=r,"config"===n&&this.setConfig(r),a&&r.init&&_.isFunction(r.init)&&r.init.call(r,e)},sync:function(t){var r=this;if((t=t||{}).getPublic)return r.syncPublic(t);t.callback&&h.push(t.callback),n||(n=!0,async.waterfall([function(n){if(r.isSynced=!1,r.trigger("app:sync"),!t.noUserUpdate&&(t.language||r.cache.get("langHasChanged"))){var a=t.language||l.getLanguage();r.user.updateLanguage(a,n),e.cache.cut("langHasChanged")}else n()},function(e){async.parallel([function(e){r.user.load(e)},function(e){r.metadata.sync(function(t){r.data.declareModels(),e(t)},t)}],function(t){e(t)})},function(e){var t=r.metadata.getServerInfo();r.config.dotbLogic=r.config.dotbLogic||{},t&&r.config.dotbLogic.enabled&&r.utils.versionCompare(t.version,r.config.dotbLogic.minServerVersion,">=")?r.fetchDotbLogic(e):(r.config.dotbLogic.enabled=!1,e())}],function(e){e?r.trigger("app:sync:error",e):(r.isSynced=!0,r.trigger("app:sync:complete"),window.jQuery&&(jQuery.migrateMute=r.logger.getLevel().value>r.logger.levels.WARN.value)),_.each(h,function(t){t(e)}),n=!1,h=[]}))},syncPublic:function(e){(e=e||{}).getPublic=!0,this.metadata.sync(e.callback,e)},navigate:function(t,n,r){var a,i,o;t=t||e.controller.context,i=(n=n||t.get("model")).id,o=t.get("module")||n.module,a=this.router.buildRoute(o,i,r),this.router.navigate(a,{trigger:!0})},login:function(t,n,r){r=r||{},(n=n||{}).current_language=l.getLanguage(),e.api.login(t,n,{success:function(n){e.trigger("app:login:success",n,t.username),r.success&&r.success(n)},error:function(t){e.error.handleHttpError(t),r.error&&r.error(t)},complete:r.complete})},logout:function(t,n,r){var a,i;return a=(t=t||{}).complete,i=t.error,t.complete=function(t){e.trigger("app:logout",n),a&&a(t)},t.error=function(t){e.error.handleHttpError(t),i&&i(t)},e.api.logout(t,r)},fetchDotbLogic:function(t){e.config.dotbLogic.isDynamic?e.api.call("read",e.api.buildURL("ExpressionEngine","functions"),null,{success:function(n){e.cacheDotbLogicExpressions(n),e.loadDotbLogic(n,t)},error:function(e){t(e)}},{dataType:"application/text"}):t()},cacheDotbLogicExpressions:function(t){e.cache.set("dotblogic",t)},_loadDotbLogic:function(){return e.cache.get("dotblogic")},loadDotbLogic:function(t,n){return e.compileJs(t||e._loadDotbLogic(),n)},compileJs:function(e,t){try{eval.call(window,e),t&&t()}catch(e){return i.fatal("Failed to compile js"),t&&t(e),e}return null},isServerCompatible:function(e){var t,n,r,a=this.config.supportedServerFlavors,i=this.config.minServerVersion;return!(!_.isEmpty(a)||i)||(t=!!(_.isEmpty(a)||e&&_.contains(a,e.flavor)),n=!!(!i||e&&this.utils.versionCompare(e.version,i,">=")),!(!t||!n)||((r=n?{code:"server_flavor_incompatible",label:"ERR_SERVER_FLAVOR_INCOMPATIBLE"}:{code:"server_version_incompatible",label:"ERR_SERVER_VERSION_INCOMPATIBLE"}).server_info=e,r))},modules:t}}();var h=n(25);r.App.Context=h;var f={getContext:function(e){return r.App.logger.warn("The function `app.context.getContext()` is deprecated in 7.10. Please use the `new` keyword to create a context."),new h(e)}};r.App.augment("Bean",n(10)),r.App.augment("BeanCollection",n(11)),r.App.augment("MixedBeanCollection",n(23)),r.App.augment("error",n(21)),r.App.augment("context",f),r.App.augment("utils",s),r.App.augment("cookie",n(29)),r.App.augment("Controller",c),r.App.augment("events",n(5)),r.App.augment("acl",n(7)),r.App.augment("metadata",d),r.App.augment("currency",n(20)),r.App.augment("date",n(12)),r.App.augment("math",n(19)),r.App.augment("plugins",n(8)),_.mixin(n(28)),r.App.augment("user",n(2)),Handlebars.registerHelper(n(27)),r.App.augment("validation",n(24)),r.App.augment("data",n(14)),r.App.augment("lang",l),r.App.augment("template",n(4)),r.App.Router=n(26),r.App.augment("routing",u);var p=n(6);r.App.augment("view",p),p.Component=n(9),r.App.augment("alert",n(13)),p.AlertView=n(30),p.Field=n(18),p.Layout=n(17),p.View=n(16),e.exports=r},function(e,t,n){"use strict";var r=n(39);window.DOTB=r,r.Api=n(38),n(0),n(12),n(19),n(20),n(15),n(33),n(5),n(21),n(4),n(25),n(32),n(26),n(22),n(1),n(31),n(7),n(2),n(8),n(34),n(10),n(11),n(23),n(14),n(24),n(27),n(6),n(9),n(16),n(18),n(17),n(13),n(28)},function(e,t){e.exports="\r\n;(function (global) {\r\n  'use strict';\r\n var DP = 20,\r\n RM = 1,\r\n MAX_DP = 1E6,\r\n MAX_POWER = 1E6,\r\n E_NEG = -7,\r\n E_POS = 21,\r\n P = {},\r\n isValid = /^-?(\\d+(\\.\\d*)?|\\.\\d+)(e[+-]?\\d+)?$/i,\r\n Big;\r\n function bigFactory() {\r\n function Big(n) {\r\n var x = this;\r\n if (!(x instanceof Big)) {\r\n return n === void 0 ? bigFactory() : new Big(n);\r\n  }\r\n\r\n  if (n instanceof Big) {\r\n  x.s = n.s;\r\n  x.e = n.e;\r\n  x.c = n.c.slice();\r\n  } else {\r\n  parse(x, n);\r\n  }\r\n\r\n  /*\r\n * Retain a reference to this Big constructor, and shadow\r\n * Big.prototype.constructor which points to Object.\r\n */\r\n  x.constructor = Big;\r\n  }\r\n\r\n  Big.prototype = P;\r\n  Big.DP = DP;\r\n  Big.RM = RM;\r\n  Big.E_NEG = E_NEG;\r\n  Big.E_POS = E_POS;\r\n\r\n  return Big;\r\n  }\r\n\r\n\r\n  \r\n\r\n  /*\r\n * Return a string representing the value of Big x in normal or exponential\r\n * notation to dp fixed decimal places or significant digits.\r\n *\r\n * x {Big} The Big to format.\r\n * dp {number} Integer, 0 to MAX_DP inclusive.\r\n * toE {number} 1 (toExponential), 2 (toPrecision) or undefined (toFixed).\r\n */\r\n  function format(x, dp, toE) {\r\n  var Big = x.constructor,\r\n\r\n  i = dp - (x = new Big(x)).e,\r\n  c = x.c;\r\n\r\n  if (c.length > ++dp) {\r\n  rnd(x, i, Big.RM);\r\n  }\r\n\r\n  if (!c[0]) {\r\n  ++i;\r\n  } else if (toE) {\r\n  i = dp;\r\n\r\n  } else {\r\n  c = x.c;\r\n\r\n  i = x.e + i + 1;\r\n  }\r\n\r\n  for (; c.length < i; c.push(0)) {\r\n  }\r\n  i = x.e;\r\n\r\n  /*\r\n * toPrecision returns exponential notation if the number of\r\n * significant digits specified is less than the number of digits\r\n * necessary to represent the integer part of the value in normal\r\n * notation.\r\n */\r\n  return toE === 1 || toE && (dp <= i || i <= Big.E_NEG) ?\r\n\r\n  (x.s < 0 && c[0] ? '-' : '') +\r\n  (c.length > 1 ? c[0] + '.' + c.join('').slice(1) : c[0]) +\r\n  (i < 0 ? 'e' : 'e+') + i\r\n\r\n  : x.toString();\r\n  }\r\n\r\n\r\n  /*\r\n * Parse the number or string value passed to a Big constructor.\r\n *\r\n * x {Big} A Big number instance.\r\n * n {number|string} A numeric value.\r\n */\r\n  function parse(x, n) {\r\n  var e, i, nL;\r\n\r\n  if (n === 0 && 1 / n < 0) {\r\n  n = '-0';\r\n\r\n  } else if (!isValid.test(n += '')) {\r\n  throwErr(NaN);\r\n  }\r\n\r\n  x.s = n.charAt(0) == '-' ? (n = n.slice(1), -1) : 1;\r\n\r\n  if ((e = n.indexOf('.')) > -1) {\r\n  n = n.replace('.', '');\r\n  }\r\n\r\n  if ((i = n.search(/e/i)) > 0) {\r\n\r\n  if (e < 0) {\r\n  e = i;\r\n  }\r\n  e += +n.slice(i + 1);\r\n  n = n.substring(0, i);\r\n\r\n  } else if (e < 0) {\r\n\r\n  e = n.length;\r\n  }\r\n\r\n  for (i = 0; n.charAt(i) == '0'; i++) {\r\n  }\r\n\r\n  if (i == (nL = n.length)) {\r\n\r\n  x.c = [ x.e = 0 ];\r\n  } else {\r\n\r\n  for (; n.charAt(--nL) == '0';) {\r\n  }\r\n\r\n  x.e = e - i - 1;\r\n  x.c = [];\r\n\r\n  for (e = 0; i <= nL; x.c[e++] = +n.charAt(i++)) {\r\n  }\r\n  }\r\n\r\n  return x;\r\n  }\r\n\r\n\r\n  /*\r\n * Round Big x to a maximum of dp decimal places using rounding mode rm.\r\n * Called by div, sqrt and round.\r\n *\r\n * x {Big} The Big to round.\r\n * dp {number} Integer, 0 to MAX_DP inclusive.\r\n * rm {number} 0, 1, 2 or 3 (DOWN, HALF_UP, HALF_EVEN, UP)\r\n * [more] {boolean} Whether the result of division was truncated.\r\n */\r\n  function rnd(x, dp, rm, more) {\r\n  var u,\r\n  xc = x.c,\r\n  i = x.e + dp + 1;\r\n\r\n  if (rm === 1) {\r\n\r\n  more = xc[i] >= 5;\r\n  } else if (rm === 2) {\r\n  more = xc[i] > 5 || xc[i] == 5 &&\r\n  (more || i < 0 || xc[i + 1] !== u || xc[i - 1] & 1);\r\n  } else if (rm === 3) {\r\n  more = more || xc[i] !== u || i < 0;\r\n  } else {\r\n  more = false;\r\n\r\n  if (rm !== 0) {\r\n  throwErr('!Big.RM!');\r\n  }\r\n  }\r\n\r\n  if (i < 1 || !xc[0]) {\r\n\r\n  if (more) {\r\n\r\n  x.e = -dp;\r\n  x.c = [1];\r\n  } else {\r\n\r\n  x.c = [x.e = 0];\r\n  }\r\n  } else {\r\n\r\n  xc.length = i--;\r\n\r\n  if (more) {\r\n\r\n  for (; ++xc[i] > 9;) {\r\n  xc[i] = 0;\r\n\r\n  if (!i--) {\r\n  ++x.e;\r\n  xc.unshift(1);\r\n  }\r\n  }\r\n  }\r\n\r\n  for (i = xc.length; !xc[--i]; xc.pop()) {\r\n  }\r\n  }\r\n\r\n  return x;\r\n  }\r\n\r\n\r\n  /*\r\n * Throw a BigError.\r\n *\r\n * message {string} The error message.\r\n */\r\n  function throwErr(message) {\r\n  var err = new Error(message);\r\n  err.name = 'BigError';\r\n\r\n  throw err;\r\n  }\r\n\r\n\r\n  \r\n\r\n  /*\r\n * Return a new Big whose value is the absolute value of this Big.\r\n */\r\n  P.abs = function () {\r\n  var x = new this.constructor(this);\r\n  x.s = 1;\r\n\r\n  return x;\r\n  };\r\n\r\n\r\n  /*\r\n * Return\r\n * 1 if the value of this Big is greater than the value of Big y,\r\n * -1 if the value of this Big is less than the value of Big y, or\r\n * 0 if they have the same value.\r\n  */\r\n  P.cmp = function (y) {\r\n  var xNeg,\r\n  x = this,\r\n  xc = x.c,\r\n  yc = (y = new x.constructor(y)).c,\r\n  i = x.s,\r\n  j = y.s,\r\n  k = x.e,\r\n  l = y.e;\r\n\r\n  if (!xc[0] || !yc[0]) {\r\n  return !xc[0] ? !yc[0] ? 0 : -j : i;\r\n  }\r\n\r\n  if (i != j) {\r\n  return i;\r\n  }\r\n  xNeg = i < 0;\r\n\r\n  if (k != l) {\r\n  return k > l ^ xNeg ? 1 : -1;\r\n  }\r\n\r\n  i = -1;\r\n  j = (k = xc.length) < (l = yc.length) ? k : l;\r\n\r\n  for (; ++i < j;) {\r\n\r\n  if (xc[i] != yc[i]) {\r\n  return xc[i] > yc[i] ^ xNeg ? 1 : -1;\r\n  }\r\n  }\r\n\r\n  return k == l ? 0 : k > l ^ xNeg ? 1 : -1;\r\n  };\r\n\r\n\r\n  /*\r\n * Return a new Big whose value is the value of this Big divided by the\r\n * value of Big y, rounded, if necessary, to a maximum of Big.DP decimal\r\n * places using rounding mode Big.RM.\r\n */\r\n  P.div = function (y) {\r\n  var x = this,\r\n  Big = x.constructor,\r\n  dvd = x.c,\r\n  dvs = (y = new Big(y)).c,\r\n  s = x.s == y.s ? 1 : -1,\r\n  dp = Big.DP;\r\n\r\n  if (dp !== ~~dp || dp < 0 || dp > MAX_DP) {\r\n  throwErr('!Big.DP!');\r\n  }\r\n\r\n  if (!dvd[0] || !dvs[0]) {\r\n\r\n  if (dvd[0] == dvs[0]) {\r\n  throwErr(NaN);\r\n  }\r\n\r\n  if (!dvs[0]) {\r\n  throwErr(s / 0);\r\n  }\r\n\r\n  return new Big(s * 0);\r\n  }\r\n\r\n  var dvsL, dvsT, next, cmp, remI, u,\r\n  dvsZ = dvs.slice(),\r\n  dvdI = dvsL = dvs.length,\r\n  dvdL = dvd.length,\r\n  rem = dvd.slice(0, dvsL),\r\n  remL = rem.length,\r\n  q = y,\r\n  qc = q.c = [],\r\n  qi = 0,\r\n  digits = dp + (q.e = x.e - y.e) + 1;\r\n\r\n  q.s = s;\r\n  s = digits < 0 ? 0 : digits;\r\n\r\n  dvsZ.unshift(0);\r\n\r\n  for (; remL++ < dvsL; rem.push(0)) {\r\n  }\r\n\r\n  do {\r\n\r\n  for (next = 0; next < 10; next++) {\r\n\r\n  if (dvsL != (remL = rem.length)) {\r\n  cmp = dvsL > remL ? 1 : -1;\r\n  } else {\r\n\r\n  for (remI = -1, cmp = 0; ++remI < dvsL;) {\r\n\r\n  if (dvs[remI] != rem[remI]) {\r\n  cmp = dvs[remI] > rem[remI] ? 1 : -1;\r\n  break;\r\n  }\r\n  }\r\n  }\r\n\r\n  if (cmp < 0) {\r\n\r\n    for (dvsT = remL == dvsL ? dvs : dvsZ; remL;) {\r\n\r\n  if (rem[--remL] < dvsT[remL]) {\r\n  remI = remL;\r\n\r\n  for (; remI && !rem[--remI]; rem[remI] = 9) {\r\n  }\r\n  --rem[remI];\r\n  rem[remL] += 10;\r\n  }\r\n  rem[remL] -= dvsT[remL];\r\n  }\r\n  for (; !rem[0]; rem.shift()) {\r\n  }\r\n  } else {\r\n  break;\r\n  }\r\n  }\r\n\r\n  qc[qi++] = cmp ? next : ++next;\r\n\r\n  if (rem[0] && cmp) {\r\n  rem[remL] = dvd[dvdI] || 0;\r\n  } else {\r\n  rem = [ dvd[dvdI] ];\r\n  }\r\n\r\n  } while ((dvdI++ < dvdL || rem[0] !== u) && s--);\r\n\r\n  if (!qc[0] && qi != 1) {\r\n\r\n  qc.shift();\r\n  q.e--;\r\n  }\r\n\r\n  if (qi > digits) {\r\n  rnd(q, dp, Big.RM, rem[0] !== u);\r\n  }\r\n\r\n  return q;\r\n  };\r\n\r\n\r\n  /*\r\n * Return true if the value of this Big is equal to the value of Big y,\r\n * otherwise returns false.\r\n */\r\n  P.eq = function (y) {\r\n  return !this.cmp(y);\r\n  };\r\n\r\n\r\n  /*\r\n * Return true if the value of this Big is greater than the value of Big y,\r\n * otherwise returns false.\r\n */\r\n  P.gt = function (y) {\r\n  return this.cmp(y) > 0;\r\n  };\r\n\r\n\r\n  /*\r\n * Return true if the value of this Big is greater than or equal to the\r\n * value of Big y, otherwise returns false.\r\n */\r\n  P.gte = function (y) {\r\n  return this.cmp(y) > -1;\r\n  };\r\n\r\n\r\n  /*\r\n * Return true if the value of this Big is less than the value of Big y,\r\n * otherwise returns false.\r\n */\r\n  P.lt = function (y) {\r\n  return this.cmp(y) < 0;\r\n  };\r\n\r\n\r\n  /*\r\n * Return true if the value of this Big is less than or equal to the value\r\n * of Big y, otherwise returns false.\r\n */\r\n  P.lte = function (y) {\r\n return this.cmp(y) < 1;\r\n  };\r\n\r\n\r\n  /*\r\n * Return a new Big whose value is the value of this Big minus the value\r\n * of Big y.\r\n */\r\n  P.sub = P.minus = function (y) {\r\n  var i, j, t, xLTy,\r\n  x = this,\r\n  Big = x.constructor,\r\n  a = x.s,\r\n  b = (y = new Big(y)).s;\r\n\r\n  if (a != b) {\r\n  y.s = -b;\r\n  return x.plus(y);\r\n  }\r\n\r\n  var xc = x.c.slice(),\r\n  xe = x.e,\r\n  yc = y.c,\r\n  ye = y.e;\r\n\r\n  if (!xc[0] || !yc[0]) {\r\n\r\n  return yc[0] ? (y.s = -b, y) : new Big(xc[0] ? x : 0);\r\n  }\r\n\r\n  if (a = xe - ye) {\r\n\r\n  if (xLTy = a < 0) {\r\n  a = -a;\r\n  t = xc;\r\n  } else {\r\n  ye = xe;\r\n  t = yc;\r\n  }\r\n\r\n  t.reverse();\r\n  for (b = a; b--; t.push(0)) {\r\n  }\r\n  t.reverse();\r\n  } else {\r\n\r\n  j = ((xLTy = xc.length < yc.length) ? xc : yc).length;\r\n\r\n  for (a = b = 0; b < j; b++) {\r\n\r\n  if (xc[b] != yc[b]) {\r\n  xLTy = xc[b] < yc[b];\r\n  break;\r\n  }\r\n  }\r\n  }\r\n\r\n  if (xLTy) {\r\n  t = xc;\r\n  xc = yc;\r\n  yc = t;\r\n  y.s = -y.s;\r\n  }\r\n\r\n  /*\r\n * Append zeros to xc if shorter. No need to add zeros to yc if shorter\r\n * as subtraction only needs to start at yc.length.\r\n */\r\n  if (( b = (j = yc.length) - (i = xc.length) ) > 0) {\r\n\r\n  for (; b--; xc[i++] = 0) {\r\n  }\r\n  }\r\n\r\n  for (b = i; j > a;){\r\n\r\n  if (xc[--j] < yc[j]) {\r\n\r\n  for (i = j; i && !xc[--i]; xc[i] = 9) {\r\n  }\r\n  --xc[i];\r\n  xc[j] += 10;\r\n  }\r\n  xc[j] -= yc[j];\r\n  }\r\n\r\n  for (; xc[--b] === 0; xc.pop()) {\r\n  }\r\n\r\n  for (; xc[0] === 0;) {\r\n  xc.shift();\r\n  --ye;\r\n  }\r\n\r\n  if (!xc[0]) {\r\n\r\n  y.s = 1;\r\n\r\n  xc = [ye = 0];\r\n  }\r\n\r\n  y.c = xc;\r\n  y.e = ye;\r\n\r\n  return y;\r\n  };\r\n\r\n\r\n  /*\r\n * Return a new Big whose value is the value of this Big modulo the\r\n * value of Big y.\r\n */\r\n  P.mod = function (y) {\r\n  var yGTx,\r\n  x = this,\r\n  Big = x.constructor,\r\n  a = x.s,\r\n  b = (y = new Big(y)).s;\r\n\r\n  if (!y.c[0]) {\r\n  throwErr(NaN);\r\n  }\r\n\r\n  x.s = y.s = 1;\r\n  yGTx = y.cmp(x) == 1;\r\n  x.s = a;\r\n  y.s = b;\r\n\r\n  if (yGTx) {\r\n  return new Big(x);\r\n  }\r\n\r\n  a = Big.DP;\r\n  b = Big.RM;\r\n  Big.DP = Big.RM = 0;\r\n  x = x.div(y);\r\n  Big.DP = a;\r\n  Big.RM = b;\r\n\r\n  return this.minus( x.times(y) );\r\n  };\r\n\r\n\r\n  /*\r\n * Return a new Big whose value is the value of this Big plus the value\r\n * of Big y.\r\n */\r\n  P.add = P.plus = function (y) {\r\n  var t,\r\n  x = this,\r\n  Big = x.constructor,\r\n  a = x.s,\r\n  b = (y = new Big(y)).s;\r\n\r\n  if (a != b) {\r\n  y.s = -b;\r\n  return x.minus(y);\r\n  }\r\n\r\n  var xe = x.e,\r\n  xc = x.c,\r\n  ye = y.e,\r\n  yc = y.c;\r\n\r\n  if (!xc[0] || !yc[0]) {\r\n\r\n  return yc[0] ? y : new Big(xc[0] ? x : a * 0);\r\n  }\r\n  xc = xc.slice();\r\n\r\n  if (a = xe - ye) {\r\n\r\n  if (a > 0) {\r\n  ye = xe;\r\n  t = yc;\r\n  } else {\r\n  a = -a;\r\n  t = xc;\r\n  }\r\n\r\n  t.reverse();\r\n  for (; a--; t.push(0)) {\r\n  }\r\n  t.reverse();\r\n  }\r\n\r\n  if (xc.length - yc.length < 0) {\r\n  t = yc;\r\n  yc = xc;\r\n  xc = t;\r\n  }\r\n  a = yc.length;\r\n\r\n  /*\r\n * Only start adding at yc.length - 1 as the further digits of xc can be\r\n * left as they are.\r\n */\r\n  for (b = 0; a;) {\r\n  b = (xc[--a] = xc[a] + yc[a] + b) / 10 | 0;\r\n  xc[a] %= 10;\r\n  }\r\n\r\n  \r\n  if (b) {\r\n  xc.unshift(b);\r\n  ++ye;\r\n  }\r\n\r\n for (a = xc.length; xc[--a] === 0; xc.pop()) {\r\n  }\r\n\r\n  y.c = xc;\r\n  y.e = ye;\r\n\r\n  return y;\r\n  };\r\n\r\n\r\n  /*\r\n * Return a Big whose value is the value of this Big raised to the power n.\r\n * If n is negative, round, if necessary, to a maximum of Big.DP decimal\r\n * places using rounding mode Big.RM.\r\n *\r\n * n {number} Integer, -MAX_POWER to MAX_POWER inclusive.\r\n */\r\n  P.pow = function (n) {\r\n  var x = this,\r\n  one = new x.constructor(1),\r\n  y = one,\r\n  isNeg = n < 0;\r\n\r\n  if (n !== ~~n || n < -MAX_POWER || n > MAX_POWER) {\r\n  throwErr('!pow!');\r\n  }\r\n\r\n  n = isNeg ? -n : n;\r\n\r\n  for (;;) {\r\n\r\n  if (n & 1) {\r\n  y = y.times(x);\r\n  }\r\n  n >>= 1;\r\n\r\n  if (!n) {\r\n  break;\r\n  }\r\n  x = x.times(x);\r\n  }\r\n\r\n  return isNeg ? one.div(y) : y;\r\n  };\r\n\r\n\r\n  /*\r\n * Return a new Big whose value is the value of this Big rounded to a\r\n * maximum of dp decimal places using rounding mode rm.\r\n * If dp is not specified, round to 0 decimal places.\r\n * If rm is not specified, use Big.RM.\r\n *\r\n * [dp] {number} Integer, 0 to MAX_DP inclusive.\r\n * [rm] 0, 1, 2 or 3 (ROUND_DOWN, ROUND_HALF_UP, ROUND_HALF_EVEN, ROUND_UP)\r\n */\r\n  P.round = function (dp, rm) {\r\n  var x = this,\r\n  Big = x.constructor;\r\n\r\n  if (dp == null) {\r\n  dp = 0;\r\n  } else if (dp !== ~~dp || dp < 0 || dp > MAX_DP) {\r\n  throwErr('!round!');\r\n  }\r\n  rnd(x = new Big(x), dp, rm == null ? Big.RM : rm);\r\n\r\n  return x;\r\n  };\r\n\r\n\r\n  /*\r\n * Return a new Big whose value is the square root of the value of this Big,\r\n * rounded, if necessary, to a maximum of Big.DP decimal places using\r\n * rounding mode Big.RM.\r\n */\r\n  P.sqrt = function () {\r\n  var estimate, r, approx,\r\n  x = this,\r\n  Big = x.constructor,\r\n  xc = x.c,\r\n  i = x.s,\r\n  e = x.e,\r\n  half = new Big('0.5');\r\n\r\n  if (!xc[0]) {\r\n  return new Big(x);\r\n  }\r\n\r\n  if (i < 0) {\r\n  throwErr(NaN);\r\n  }\r\n\r\n  i = Math.sqrt(x.toString());\r\n\r\n  if (i === 0 || i === 1 / 0) {\r\n  estimate = xc.join('');\r\n\r\n  if (!(estimate.length + e & 1)) {\r\n  estimate += '0';\r\n  }\r\n\r\n  r = new Big( Math.sqrt(estimate).toString() );\r\n  r.e = ((e + 1) / 2 | 0) - (e < 0 || e & 1);\r\n  } else {\r\n  r = new Big(i.toString());\r\n  }\r\n\r\n  i = r.e + (Big.DP += 4);\r\n\r\n  do {\r\n  approx = r;\r\n  r = half.times( approx.plus( x.div(approx) ) );\r\n  } while ( approx.c.slice(0, i).join('') !==\r\n r.c.slice(0, i).join('') );\r\n\r\n  rnd(r, Big.DP -= 4, Big.RM);\r\n\r\n  return r;\r\n  };\r\n\r\n\r\n  /*\r\n * Return a new Big whose value is the value of this Big times the value of\r\n * Big y.\r\n */\r\n  P.mul = P.times = function (y) {\r\n  var c,\r\n  x = this,\r\n  Big = x.constructor,\r\n  xc = x.c,\r\n  yc = (y = new Big(y)).c,\r\n  a = xc.length,\r\n  b = yc.length,\r\n  i = x.e,\r\n  j = y.e;\r\n\r\n  y.s = x.s == y.s ? 1 : -1;\r\n\r\n  if (!xc[0] || !yc[0]) {\r\n  return new Big(y.s * 0);\r\n  }\r\n\r\n  y.e = i + j;\r\n\r\n  if (a < b) {\r\n  c = xc;\r\n  xc = yc;\r\n  yc = c;\r\n  j = a;\r\n  a = b;\r\n  b = j;\r\n  }\r\n\r\n  for (c = new Array(j = a + b); j--; c[j] = 0) {\r\n  }\r\n\r\n  \r\n  for (i = b; i--;) {\r\n  b = 0;\r\n\r\n  for (j = a + i; j > i;) {\r\n\r\n  b = c[j] + yc[i] * xc[j - i - 1] + b;\r\n  c[j--] = b % 10;\r\n\r\n  b = b / 10 | 0;\r\n  }\r\n  c[j] = (c[j] + b) % 10;\r\n  }\r\n\r\n  if (b) {\r\n  ++y.e;\r\n  }\r\n\r\n  if (!c[0]) {\r\n  c.shift();\r\n  }\r\n\r\n  for (i = c.length; !c[--i]; c.pop()) {\r\n  }\r\n  y.c = c;\r\n\r\n  return y;\r\n  };\r\n\r\n\r\n  /*\r\n * Return a string representing the value of this Big.\r\n * Return exponential notation if this Big has a positive exponent equal to\r\n * or greater than Big.E_POS, or a negative exponent equal to or less than\r\n * Big.E_NEG.\r\n */\r\n  P.toString = P.valueOf = P.toJSON = function () {\r\n  var x = this,\r\n  Big = x.constructor,\r\n  e = x.e,\r\n  str = x.c.join(''),\r\n  strL = str.length;\r\n\r\n  if (e <= Big.E_NEG || e >= Big.E_POS) {\r\n  str = str.charAt(0) + (strL > 1 ? '.' + str.slice(1) : '') +\r\n  (e < 0 ? 'e' : 'e+') + e;\r\n\r\n  } else if (e < 0) {\r\n\r\n  for (; ++e; str = '0' + str) {\r\n  }\r\n  str = '0.' + str;\r\n\r\n  } else if (e > 0) {\r\n\r\n  if (++e > strL) {\r\n\r\n  for (e -= strL; e-- ; str += '0') {\r\n  }\r\n  } else if (e < strL) {\r\n  str = str.slice(0, e) + '.' + str.slice(e);\r\n  }\r\n\r\n  } else if (strL > 1) {\r\n  str = str.charAt(0) + '.' + str.slice(1);\r\n  }\r\n\r\n  return x.s < 0 && x.c[0] ? '-' + str : str;\r\n  };\r\n\r\n\r\n  /*\r\n ***************************************************************************\r\n * If toExponential, toFixed, toPrecision and format are not required they\r\n * can safely be commented-out or deleted. No redundant code will be left.\r\n * format is used only by toExponential, toFixed and toPrecision.\r\n ***************************************************************************\r\n */\r\n\r\n\r\n  /*\r\n * Return a string representing the value of this Big in exponential\r\n * notation to dp fixed decimal places and rounded, if necessary, using\r\n * Big.RM.\r\n *\r\n * [dp] {number} Integer, 0 to MAX_DP inclusive.\r\n */\r\n  P.toExponential = function (dp) {\r\n\r\n  if (dp == null) {\r\n  dp = this.c.length - 1;\r\n  } else if (dp !== ~~dp || dp < 0 || dp > MAX_DP) {\r\n  throwErr('!toExp!');\r\n  }\r\n\r\n  return format(this, dp, 1);\r\n  };\r\n\r\n\r\n  /*\r\n * Return a string representing the value of this Big in normal notation\r\n * to dp fixed decimal places and rounded, if necessary, using Big.RM.\r\n *\r\n * [dp] {number} Integer, 0 to MAX_DP inclusive.\r\n */\r\n  P.toFixed = function (dp) {\r\n  var str,\r\n  x = this,\r\n  Big = x.constructor,\r\n  neg = Big.E_NEG,\r\n  pos = Big.E_POS;\r\n\r\n  Big.E_NEG = -(Big.E_POS = 1 / 0);\r\n\r\n  if (dp == null) {\r\n  str = x.toString();\r\n  } else if (dp === ~~dp && dp >= 0 && dp <= MAX_DP) {\r\n  str = format(x, x.e + dp);\r\n\r\n  if (x.s < 0 && x.c[0] && str.indexOf('-') < 0) {\r\n  str = '-' + str;\r\n  }\r\n  }\r\n  Big.E_NEG = neg;\r\n  Big.E_POS = pos;\r\n\r\n  if (!str) {\r\n  throwErr('!toFix!');\r\n  }\r\n\r\n  return str;\r\n  };\r\n\r\n\r\n  /*\r\n * Return a string representing the value of this Big rounded to sd\r\n * significant digits using Big.RM. Use exponential notation if sd is less\r\n * than the number of digits necessary to represent the integer part of the\r\n * value in normal notation.\r\n *\r\n * sd {number} Integer, 1 to MAX_DP inclusive.\r\n */\r\n  P.toPrecision = function (sd) {\r\n\r\n  if (sd == null) {\r\n  return this.toString();\r\n  } else if (sd !== ~~sd || sd < 1 || sd > MAX_DP) {\r\n  throwErr('!toPre!');\r\n  }\r\n\r\n  return format(this, sd - 1, 2);\r\n  };\r\n\r\n\r\n  \r\n\r\n  Big = bigFactory();\r\n\r\n  if (typeof define === 'function' && define.amd) {\r\n  define(function () {\r\n  return Big;\r\n  });\r\n\r\n  } else if (typeof module !== 'undefined' && module.exports) {\r\n  module.exports = Big;\r\n\r\n  } else {\r\n  global.Big = Big;\r\n  }\r\n})(this);\r\n"},function(e,t,n){n(3)(n(41))},function(e,t){e.exports="'use strict';\n\n/*\n * Your installation or use of this DotbCRM file is subject to the applicable\n * terms available at\n * http://support.dotbcrm.com/Resources/Master_Subscription_Agreements/.\n * If you do not agree to all of the applicable terms or do not have the\n * authority to bind the entity as an authorized representative, then do not\n * install or use this DotbCRM file.\n *\n * Copyright (C) DotbCRM Inc. All rights reserved.\n */\nfunction version_compare(v1, v2, operator) {\n  // http://kevin.vanzonneveld.net\n  // +  original by: Philippe Jausions (http://pear.php.net/user/jausions)\n  // +  original by: Aidan Lister (http://aidanlister.com/)\n  // + reimplemented by: Kankrelune (http://www.webfaktory.info/)\n  // +  improved by: Brett Zamir (http://brett-zamir.me)\n  // +  improved by: Scott Baker\n  // +  improved by: Theriault\n  // *  example 1: version_compare('8.2.5rc', '8.2.5a');\n  // *  returns 1: 1\n  // *  example 2: version_compare('8.2.50', '8.2.52', '<');\n  // *  returns 2: true\n  // *  example 3: version_compare('5.3.0-dev', '5.3.0');\n  // *  returns 3: -1\n  // *  example 4: version_compare('4.1.0.52','4.01.0.51');\n  // *  returns 4: 1\n  // BEGIN REDUNDANT\n  this.php_js = this.php_js || {};\n  this.php_js.ENV = this.php_js.ENV || {};\n  // END REDUNDANT\n  // Important: compare must be initialized at 0.\n  var i = 0,\n  x = 0,\n  compare = 0,\n\n  // vm maps textual PHP versions to negatives so they're less than 0.\n  // PHP currently defines these as CASE-SENSITIVE. It is important to\n  // leave these as negatives so that they can come before numerical versions\n  // and as if no letters were there to begin with.\n  // (1alpha is < 1 and < 1.1 but > 1dev1)\n  // If a non-numerical value can't be mapped to this table, it receives\n  // -7 as its value.\n  vm = {\n  'dev': -6,\n  'alpha': -5,\n  'a': -5,\n  'beta': -4,\n  'b': -4,\n  'RC': -3,\n  'rc': -3,\n  '#': -2,\n  'p': -1,\n  'pl': -1\n  },\n\n  // This function will be called to prepare each version argument.\n  // It replaces every _, -, and + with a dot.\n  // It surrounds any nonsequence of numbers/dots with dots.\n  // It replaces sequences of dots with a single dot.\n  //  version_compare('4..0', '4.0') == 0\n  // Important: A string of 0 length needs to be converted into a value\n  // even less than an unexisting value in vm (-7), hence [-8].\n  // It's also important to not strip spaces because of this.\n  // version_compare('', ' ') == 1\n  prepVersion = function prepVersion(v) {\n  v = ('' + v).replace(/[_\\-+]/g, '.');\n  v = v.replace(/([^.\\d]+)/g, '.$1.').replace(/\\.{2,}/g, '.');\n  return !v.length ? [-8] : v.split('.');\n  },\n\n  // This converts a version component to a number.\n  // Empty component becomes 0.\n  // Non-numerical component becomes a negative number.\n  // Numerical component becomes itself as an integer.\n  numVersion = function numVersion(v) {\n  return !v ? 0 : isNaN(v) ? vm[v] || -7 : parseInt(v, 10);\n  };\n  v1 = prepVersion(v1);\n  v2 = prepVersion(v2);\n  x = Math.max(v1.length, v2.length);\n  for (i = 0; i < x; i++) {\n  if (v1[i] == v2[i]) {\n  continue;\n  }\n  v1[i] = numVersion(v1[i]);\n  v2[i] = numVersion(v2[i]);\n  if (v1[i] < v2[i]) {\n  compare = -1;\n  break;\n  } else if (v1[i] > v2[i]) {\n  compare = 1;\n  break;\n  }\n  }\n  if (!operator) {\n  return compare;\n  }\n\n  // Important: operator is CASE-SENSITIVE.\n  // \"No operator\" seems to be treated as \"<.\"\n  // Any other values seem to make the function return null.\n  switch (operator) {\n  case '>':\n  case 'gt':\n  return compare > 0;\n  case '>=':\n  case 'ge':\n  return compare >= 0;\n  case '<=':\n  case 'le':\n  return compare <= 0;\n  case '==':\n  case '=':\n  case 'eq':\n  return compare === 0;\n  case '<>':\n  case '!=':\n  case 'ne':\n  return compare !== 0;\n  case '':\n  case '<':\n  case 'lt':\n  return compare < 0;\n  default:\n  return null;\n  }\n}"},function(e,t,n){n(3)(n(43))},function(e,t){e.exports='\n"use strict";(function(e,t){typeof define=="function"&&define.amd?define([],t):typeof exports=="object"?module.exports=t():e.store=t()})(this,function(){function o(){try{return r in t&&t[r]}catch(e){return!1}}var e={},t=typeof window!="undefined"?window:global,n=t.document,r="localStorage",i="script",s;e.disabled=!1,e.version="1.3.20",e.set=function(e,t){},e.get=function(e,t){},e.has=function(t){return e.get(t)!==undefined},e.remove=function(e){},e.clear=function(){},e.transact=function(t,n,r){r==null&&(r=n,n=null),n==null&&(n={});var i=e.get(t,n);r(i),e.set(t,i)},e.getAll=function(){},e.forEach=function(){},e.serialize=function(e){return JSON.stringify(e)},e.deserialize=function(e){if(typeof e!="string")return undefined;try{return JSON.parse(e)}catch(t){return e||undefined}};if(o())s=t[r],e.set=function(t,n){return n===undefined?e.remove(t):(s.setItem(t,e.serialize(n)),n)},e.get=function(t,n){var r=e.deserialize(s.getItem(t));return r===undefined?n:r},e.remove=function(e){s.removeItem(e)},e.clear=function(){s.clear()},e.getAll=function(){var t={};return e.forEach(function(e,n){t[e]=n}),t},e.forEach=function(t){for(var n=0;n<s.length;n++){var r=s.key(n);t(r,e.get(r))}};else if(n&&n.documentElement.addBehavior){var u,a;try{a=new ActiveXObject("htmlfile"),a.open(),a.write("<"+i+">document.w=window</"+i+\'><iframe src="/favicon.ico"></iframe>\'),a.close(),u=a.w.frames[0].document,s=u.createElement("div")}catch(f){s=n.createElement("div"),u=n.body}var l=function(t){return function(){var n=Array.prototype.slice.call(arguments,0);n.unshift(s),u.appendChild(s),s.addBehavior("#default#userData"),s.load(r);var i=t.apply(e,n);return u.removeChild(s),i}},c=new RegExp("[!\\"#$%&\'()*+,/\\\\\\\\:;<=>?@[\\\\]^`{|}~]","g"),h=function(e){return e.replace(/^d/,"___$&").replace(c,"___")};e.set=l(function(t,n,i){return n=h(n),i===undefined?e.remove(n):(t.setAttribute(n,e.serialize(i)),t.save(r),i)}),e.get=l(function(t,n,r){n=h(n);var i=e.deserialize(t.getAttribute(n));return i===undefined?r:i}),e.remove=l(function(e,t){t=h(t),e.removeAttribute(t),e.save(r)}),e.clear=l(function(e){var t=e.XMLDocument.documentElement.attributes;e.load(r);for(var n=t.length-1;n>=0;n--)e.removeAttribute(t[n].name);e.save(r)}),e.getAll=function(t){var n={};return e.forEach(function(e,t){n[e]=t}),n},e.forEach=l(function(t,n){var r=t.XMLDocument.documentElement.attributes;for(var i=0,s;s=r[i];++i)n(s.name,e.deserialize(t.getAttribute(s.name)))})}try{var p="__storejs__";e.set(p,p),e.get(p)!=p&&(e.disabled=!0),e.remove(p)}catch(f){e.disabled=!0}return e.enabled=!e.disabled,e});'},function(e,t,n){n(3)(n(45))},function(e,t){e.exports='//! moment.js\n//! version : 2.11.2\n//! authors : Tim Wood, Iskren Chernev, Moment.js contributors\n//! license : MIT\n//! momentjs.com\n!function(a,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):a.moment=b()}(this,function(){"use strict";function a(){return Uc.apply(null,arguments)}function b(a){Uc=a}function c(a){return"[object Array]"===Object.prototype.toString.call(a)}function d(a){return a instanceof Date||"[object Date]"===Object.prototype.toString.call(a)}function e(a,b){var c,d=[];for(c=0;c<a.length;++c)d.push(b(a[c],c));return d}function f(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function g(a,b){for(var c in b)f(b,c)&&(a[c]=b[c]);return f(b,"toString")&&(a.toString=b.toString),f(b,"valueOf")&&(a.valueOf=b.valueOf),a}function h(a,b,c,d){return Da(a,b,c,d,!0).utc()}function i(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function j(a){return null==a._pf&&(a._pf=i()),a._pf}function k(a){if(null==a._isValid){var b=j(a);a._isValid=!(isNaN(a._d.getTime())||!(b.overflow<0)||b.empty||b.invalidMonth||b.invalidWeekday||b.nullInput||b.invalidFormat||b.userInvalidated),a._strict&&(a._isValid=a._isValid&&0===b.charsLeftOver&&0===b.unusedTokens.length&&void 0===b.bigHour)}return a._isValid}function l(a){var b=h(NaN);return null!=a?g(j(b),a):j(b).userInvalidated=!0,b}function m(a){return void 0===a}function n(a,b){var c,d,e;if(m(b._isAMomentObject)||(a._isAMomentObject=b._isAMomentObject),m(b._i)||(a._i=b._i),m(b._f)||(a._f=b._f),m(b._l)||(a._l=b._l),m(b._strict)||(a._strict=b._strict),m(b._tzm)||(a._tzm=b._tzm),m(b._isUTC)||(a._isUTC=b._isUTC),m(b._offset)||(a._offset=b._offset),m(b._pf)||(a._pf=j(b)),m(b._locale)||(a._locale=b._locale),Wc.length>0)for(c in Wc)d=Wc[c],e=b[d],m(e)||(a[d]=e);return a}function o(b){n(this,b),this._d=new Date(null!=b._d?b._d.getTime():NaN),Xc===!1&&(Xc=!0,a.updateOffset(this),Xc=!1)}function p(a){return a instanceof o||null!=a&&null!=a._isAMomentObject}function q(a){return 0>a?Math.ceil(a):Math.floor(a)}function r(a){var b=+a,c=0;return 0!==b&&isFinite(b)&&(c=q(b)),c}function s(a,b,c){var d,e=Math.min(a.length,b.length),f=Math.abs(a.length-b.length),g=0;for(d=0;e>d;d++)(c&&a[d]!==b[d]||!c&&r(a[d])!==r(b[d]))&&g++;return g+f}function t(){}function u(a){return a?a.toLowerCase().replace("_","-"):a}function v(a){for(var b,c,d,e,f=0;f<a.length;){for(e=u(a[f]).split("-"),b=e.length,c=u(a[f+1]),c=c?c.split("-"):null;b>0;){if(d=w(e.slice(0,b).join("-")))return d;if(c&&c.length>=b&&s(e,c,!0)>=b-1)break;b--}f++}return null}function w(a){var b=null;if(!Yc[a]&&"undefined"!=typeof module&&module&&module.exports)try{b=Vc._abbr,require("./locale/"+a),x(b)}catch(c){}return Yc[a]}function x(a,b){var c;return a&&(c=m(b)?z(a):y(a,b),c&&(Vc=c)),Vc._abbr}function y(a,b){return null!==b?(b.abbr=a,Yc[a]=Yc[a]||new t,Yc[a].set(b),x(a),Yc[a]):(delete Yc[a],null)}function z(a){var b;if(a&&a._locale&&a._locale._abbr&&(a=a._locale._abbr),!a)return Vc;if(!c(a)){if(b=w(a))return b;a=[a]}return v(a)}function A(a,b){var c=a.toLowerCase();Zc[c]=Zc[c+"s"]=Zc[b]=a}function B(a){return"string"==typeof a?Zc[a]||Zc[a.toLowerCase()]:void 0}function C(a){var b,c,d={};for(c in a)f(a,c)&&(b=B(c),b&&(d[b]=a[c]));return d}function D(a){return a instanceof Function||"[object Function]"===Object.prototype.toString.call(a)}function E(b,c){return function(d){return null!=d?(G(this,b,d),a.updateOffset(this,c),this):F(this,b)}}function F(a,b){return a.isValid()?a._d["get"+(a._isUTC?"UTC":"")+b]():NaN}function G(a,b,c){a.isValid()&&a._d["set"+(a._isUTC?"UTC":"")+b](c)}function H(a,b){var c;if("object"==typeof a)for(c in a)this.set(c,a[c]);else if(a=B(a),D(this[a]))return this[a](b);return this}function I(a,b,c){var d=""+Math.abs(a),e=b-d.length,f=a>=0;return(f?c?"+":"":"-")+Math.pow(10,Math.max(0,e)).toString().substr(1)+d}function J(a,b,c,d){var e=d;"string"==typeof d&&(e=function(){return this[d]()}),a&&(bd[a]=e),b&&(bd[b[0]]=function(){return I(e.apply(this,arguments),b[1],b[2])}),c&&(bd[c]=function(){return this.localeData().ordinal(e.apply(this,arguments),a)})}function K(a){return a.match(/\\[[\\s\\S]/)?a.replace(/^\\[|\\]$/g,""):a.replace(/\\\\/g,"")}function L(a){var b,c,d=a.match($c);for(b=0,c=d.length;c>b;b++)bd[d[b]]?d[b]=bd[d[b]]:d[b]=K(d[b]);return function(e){var f="";for(b=0;c>b;b++)f+=d[b]instanceof Function?d[b].call(e,a):d[b];return f}}function M(a,b){return a.isValid()?(b=N(b,a.localeData()),ad[b]=ad[b]||L(b),ad[b](a)):a.localeData().invalidDate()}function N(a,b){function c(a){return b.longDateFormat(a)||a}var d=5;for(_c.lastIndex=0;d>=0&&_c.test(a);)a=a.replace(_c,c),_c.lastIndex=0,d-=1;return a}function O(a,b,c){td[a]=D(b)?b:function(a,d){return a&&c?c:b}}function P(a,b){return f(td,a)?td[a](b._strict,b._locale):new RegExp(Q(a))}function Q(a){return R(a.replace("\\\\","").replace(/\\\\(\\[)|\\\\(\\])|\\[([^\\]\\[]*)\\]|\\\\(.)/g,function(a,b,c,d,e){return b||c||d||e}))}function R(a){return a.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g,"\\\\$&")}function S(a,b){var c,d=b;for("string"==typeof a&&(a=[a]),"number"==typeof b&&(d=function(a,c){c[b]=r(a)}),c=0;c<a.length;c++)ud[a[c]]=d}function T(a,b){S(a,function(a,c,d,e){d._w=d._w||{},b(a,d._w,d,e)})}function U(a,b,c){null!=b&&f(ud,a)&&ud[a](b,c._a,c,a)}function V(a,b){return new Date(Date.UTC(a,b+1,0)).getUTCDate()}function W(a,b){return c(this._months)?this._months[a.month()]:this._months[Ed.test(b)?"format":"standalone"][a.month()]}function X(a,b){return c(this._monthsShort)?this._monthsShort[a.month()]:this._monthsShort[Ed.test(b)?"format":"standalone"][a.month()]}function Y(a,b,c){var d,e,f;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),d=0;12>d;d++){if(e=h([2e3,d]),c&&!this._longMonthsParse[d]&&(this._longMonthsParse[d]=new RegExp("^"+this.months(e,"").replace(".","")+"$","i"),this._shortMonthsParse[d]=new RegExp("^"+this.monthsShort(e,"").replace(".","")+"$","i")),c||this._monthsParse[d]||(f="^"+this.months(e,"")+"|^"+this.monthsShort(e,""),this._monthsParse[d]=new RegExp(f.replace(".",""),"i")),c&&"MMMM"===b&&this._longMonthsParse[d].test(a))return d;if(c&&"MMM"===b&&this._shortMonthsParse[d].test(a))return d;if(!c&&this._monthsParse[d].test(a))return d}}function Z(a,b){var c;return a.isValid()?"string"==typeof b&&(b=a.localeData().monthsParse(b),"number"!=typeof b)?a:(c=Math.min(a.date(),V(a.year(),b)),a._d["set"+(a._isUTC?"UTC":"")+"Month"](b,c),a):a}function $(b){return null!=b?(Z(this,b),a.updateOffset(this,!0),this):F(this,"Month")}function _(){return V(this.year(),this.month())}function aa(a){return this._monthsParseExact?(f(this,"_monthsRegex")||ca.call(this),a?this._monthsShortStrictRegex:this._monthsShortRegex):this._monthsShortStrictRegex&&a?this._monthsShortStrictRegex:this._monthsShortRegex}function ba(a){return this._monthsParseExact?(f(this,"_monthsRegex")||ca.call(this),a?this._monthsStrictRegex:this._monthsRegex):this._monthsStrictRegex&&a?this._monthsStrictRegex:this._monthsRegex}function ca(){function a(a,b){return b.length-a.length}var b,c,d=[],e=[],f=[];for(b=0;12>b;b++)c=h([2e3,b]),d.push(this.monthsShort(c,"")),e.push(this.months(c,"")),f.push(this.months(c,"")),f.push(this.monthsShort(c,""));for(d.sort(a),e.sort(a),f.sort(a),b=0;12>b;b++)d[b]=R(d[b]),e[b]=R(e[b]),f[b]=R(f[b]);this._monthsRegex=new RegExp("^("+f.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+e.join("|")+")$","i"),this._monthsShortStrictRegex=new RegExp("^("+d.join("|")+")$","i")}function da(a){var b,c=a._a;return c&&-2===j(a).overflow&&(b=c[wd]<0||c[wd]>11?wd:c[xd]<1||c[xd]>V(c[vd],c[wd])?xd:c[yd]<0||c[yd]>24||24===c[yd]&&(0!==c[zd]||0!==c[Ad]||0!==c[Bd])?yd:c[zd]<0||c[zd]>59?zd:c[Ad]<0||c[Ad]>59?Ad:c[Bd]<0||c[Bd]>999?Bd:-1,j(a)._overflowDayOfYear&&(vd>b||b>xd)&&(b=xd),j(a)._overflowWeeks&&-1===b&&(b=Cd),j(a)._overflowWeekday&&-1===b&&(b=Dd),j(a).overflow=b),a}function ea(b){a.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+b)}function fa(a,b){var c=!0;return g(function(){return c&&(ea(a+"\\nArguments: "+Array.prototype.slice.call(arguments).join(", ")+"\\n"+(new Error).stack),c=!1),b.apply(this,arguments)},b)}function ga(a,b){Jd[a]||(ea(b),Jd[a]=!0)}function ha(a){var b,c,d,e,f,g,h=a._i,i=Kd.exec(h)||Ld.exec(h);if(i){for(j(a).iso=!0,b=0,c=Nd.length;c>b;b++)if(Nd[b][1].exec(i[1])){e=Nd[b][0],d=Nd[b][2]!==!1;break}if(null==e)return void(a._isValid=!1);if(i[3]){for(b=0,c=Od.length;c>b;b++)if(Od[b][1].exec(i[3])){f=(i[2]||" ")+Od[b][0];break}if(null==f)return void(a._isValid=!1)}if(!d&&null!=f)return void(a._isValid=!1);if(i[4]){if(!Md.exec(i[4]))return void(a._isValid=!1);g="Z"}a._f=e+(f||"")+(g||""),wa(a)}else a._isValid=!1}function ia(b){var c=Pd.exec(b._i);return null!==c?void(b._d=new Date(+c[1])):(ha(b),void(b._isValid===!1&&(delete b._isValid,a.createFromInputFallback(b))))}function ja(a,b,c,d,e,f,g){var h=new Date(a,b,c,d,e,f,g);return 100>a&&a>=0&&isFinite(h.getFullYear())&&h.setFullYear(a),h}function ka(a){var b=new Date(Date.UTC.apply(null,arguments));return 100>a&&a>=0&&isFinite(b.getUTCFullYear())&&b.setUTCFullYear(a),b}function la(a){return ma(a)?366:365}function ma(a){return a%4===0&&a%100!==0||a%400===0}function na(){return ma(this.year())}function oa(a,b,c){var d=7+b-c,e=(7+ka(a,0,d).getUTCDay()-b)%7;return-e+d-1}function pa(a,b,c,d,e){var f,g,h=(7+c-d)%7,i=oa(a,d,e),j=1+7*(b-1)+h+i;return 0>=j?(f=a-1,g=la(f)+j):j>la(a)?(f=a+1,g=j-la(a)):(f=a,g=j),{year:f,dayOfYear:g}}function qa(a,b,c){var d,e,f=oa(a.year(),b,c),g=Math.floor((a.dayOfYear()-f-1)/7)+1;return 1>g?(e=a.year()-1,d=g+ra(e,b,c)):g>ra(a.year(),b,c)?(d=g-ra(a.year(),b,c),e=a.year()+1):(e=a.year(),d=g),{week:d,year:e}}function ra(a,b,c){var d=oa(a,b,c),e=oa(a+1,b,c);return(la(a)-d+e)/7}function sa(a,b,c){return null!=a?a:null!=b?b:c}function ta(b){var c=new Date(a.now());return b._useUTC?[c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()]:[c.getFullYear(),c.getMonth(),c.getDate()]}function ua(a){var b,c,d,e,f=[];if(!a._d){for(d=ta(a),a._w&&null==a._a[xd]&&null==a._a[wd]&&va(a),a._dayOfYear&&(e=sa(a._a[vd],d[vd]),a._dayOfYear>la(e)&&(j(a)._overflowDayOfYear=!0),c=ka(e,0,a._dayOfYear),a._a[wd]=c.getUTCMonth(),a._a[xd]=c.getUTCDate()),b=0;3>b&&null==a._a[b];++b)a._a[b]=f[b]=d[b];for(;7>b;b++)a._a[b]=f[b]=null==a._a[b]?2===b?1:0:a._a[b];24===a._a[yd]&&0===a._a[zd]&&0===a._a[Ad]&&0===a._a[Bd]&&(a._nextDay=!0,a._a[yd]=0),a._d=(a._useUTC?ka:ja).apply(null,f),null!=a._tzm&&a._d.setUTCMinutes(a._d.getUTCMinutes()-a._tzm),a._nextDay&&(a._a[yd]=24)}}function va(a){var b,c,d,e,f,g,h,i;b=a._w,null!=b.GG||null!=b.W||null!=b.E?(f=1,g=4,c=sa(b.GG,a._a[vd],qa(Ea(),1,4).year),d=sa(b.W,1),e=sa(b.E,1),(1>e||e>7)&&(i=!0)):(f=a._locale._week.dow,g=a._locale._week.doy,c=sa(b.gg,a._a[vd],qa(Ea(),f,g).year),d=sa(b.w,1),null!=b.d?(e=b.d,(0>e||e>6)&&(i=!0)):null!=b.e?(e=b.e+f,(b.e<0||b.e>6)&&(i=!0)):e=f),1>d||d>ra(c,f,g)?j(a)._overflowWeeks=!0:null!=i?j(a)._overflowWeekday=!0:(h=pa(c,d,e,f,g),a._a[vd]=h.year,a._dayOfYear=h.dayOfYear)}function wa(b){if(b._f===a.ISO_8601)return void ha(b);b._a=[],j(b).empty=!0;var c,d,e,f,g,h=""+b._i,i=h.length,k=0;for(e=N(b._f,b._locale).match($c)||[],c=0;c<e.length;c++)f=e[c],d=(h.match(P(f,b))||[])[0],d&&(g=h.substr(0,h.indexOf(d)),g.length>0&&j(b).unusedInput.push(g),h=h.slice(h.indexOf(d)+d.length),k+=d.length),bd[f]?(d?j(b).empty=!1:j(b).unusedTokens.push(f),U(f,d,b)):b._strict&&!d&&j(b).unusedTokens.push(f);j(b).charsLeftOver=i-k,h.length>0&&j(b).unusedInput.push(h),j(b).bigHour===!0&&b._a[yd]<=12&&b._a[yd]>0&&(j(b).bigHour=void 0),b._a[yd]=xa(b._locale,b._a[yd],b._meridiem),ua(b),da(b)}function xa(a,b,c){var d;return null==c?b:null!=a.meridiemHour?a.meridiemHour(b,c):null!=a.isPM?(d=a.isPM(c),d&&12>b&&(b+=12),d||12!==b||(b=0),b):b}function ya(a){var b,c,d,e,f;if(0===a._f.length)return j(a).invalidFormat=!0,void(a._d=new Date(NaN));for(e=0;e<a._f.length;e++)f=0,b=n({},a),null!=a._useUTC&&(b._useUTC=a._useUTC),b._f=a._f[e],wa(b),k(b)&&(f+=j(b).charsLeftOver,f+=10*j(b).unusedTokens.length,j(b).score=f,(null==d||d>f)&&(d=f,c=b));g(a,c||b)}function za(a){if(!a._d){var b=C(a._i);a._a=e([b.year,b.month,b.day||b.date,b.hour,b.minute,b.second,b.millisecond],function(a){return a&&parseInt(a,10)}),ua(a)}}function Aa(a){var b=new o(da(Ba(a)));return b._nextDay&&(b.add(1,"d"),b._nextDay=void 0),b}function Ba(a){var b=a._i,e=a._f;return a._locale=a._locale||z(a._l),null===b||void 0===e&&""===b?l({nullInput:!0}):("string"==typeof b&&(a._i=b=a._locale.preparse(b)),p(b)?new o(da(b)):(c(e)?ya(a):e?wa(a):d(b)?a._d=b:Ca(a),k(a)||(a._d=null),a))}function Ca(b){var f=b._i;void 0===f?b._d=new Date(a.now()):d(f)?b._d=new Date(+f):"string"==typeof f?ia(b):c(f)?(b._a=e(f.slice(0),function(a){return parseInt(a,10)}),ua(b)):"object"==typeof f?za(b):"number"==typeof f?b._d=new Date(f):a.createFromInputFallback(b)}function Da(a,b,c,d,e){var f={};return"boolean"==typeof c&&(d=c,c=void 0),f._isAMomentObject=!0,f._useUTC=f._isUTC=e,f._l=c,f._i=a,f._f=b,f._strict=d,Aa(f)}function Ea(a,b,c,d){return Da(a,b,c,d,!1)}function Fa(a,b){var d,e;if(1===b.length&&c(b[0])&&(b=b[0]),!b.length)return Ea();for(d=b[0],e=1;e<b.length;++e)(!b[e].isValid()||b[e][a](d))&&(d=b[e]);return d}function Ga(){var a=[].slice.call(arguments,0);return Fa("isBefore",a)}function Ha(){var a=[].slice.call(arguments,0);return Fa("isAfter",a)}function Ia(a){var b=C(a),c=b.year||0,d=b.quarter||0,e=b.month||0,f=b.week||0,g=b.day||0,h=b.hour||0,i=b.minute||0,j=b.second||0,k=b.millisecond||0;this._milliseconds=+k+1e3*j+6e4*i+36e5*h,this._days=+g+7*f,this._months=+e+3*d+12*c,this._data={},this._locale=z(),this._bubble()}function Ja(a){return a instanceof Ia}function Ka(a,b){J(a,0,0,function(){var a=this.utcOffset(),c="+";return 0>a&&(a=-a,c="-"),c+I(~~(a/60),2)+b+I(~~a%60,2)})}function La(a,b){var c=(b||"").match(a)||[],d=c[c.length-1]||[],e=(d+"").match(Ud)||["-",0,0],f=+(60*e[1])+r(e[2]);return"+"===e[0]?f:-f}function Ma(b,c){var e,f;return c._isUTC?(e=c.clone(),f=(p(b)||d(b)?+b:+Ea(b))-+e,e._d.setTime(+e._d+f),a.updateOffset(e,!1),e):Ea(b).local()}function Na(a){return 15*-Math.round(a._d.getTimezoneOffset()/15)}function Oa(b,c){var d,e=this._offset||0;return this.isValid()?null!=b?("string"==typeof b?b=La(qd,b):Math.abs(b)<16&&(b=60*b),!this._isUTC&&c&&(d=Na(this)),this._offset=b,this._isUTC=!0,null!=d&&this.add(d,"m"),e!==b&&(!c||this._changeInProgress?cb(this,Za(b-e,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,a.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?e:Na(this):null!=b?this:NaN}function Pa(a,b){return null!=a?("string"!=typeof a&&(a=-a),this.utcOffset(a,b),this):-this.utcOffset()}function Qa(a){return this.utcOffset(0,a)}function Ra(a){return this._isUTC&&(this.utcOffset(0,a),this._isUTC=!1,a&&this.subtract(Na(this),"m")),this}function Sa(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(La(pd,this._i)),this}function Ta(a){return this.isValid()?(a=a?Ea(a).utcOffset():0,(this.utcOffset()-a)%60===0):!1}function Ua(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Va(){if(!m(this._isDSTShifted))return this._isDSTShifted;var a={};if(n(a,this),a=Ba(a),a._a){var b=a._isUTC?h(a._a):Ea(a._a);this._isDSTShifted=this.isValid()&&s(a._a,b.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Wa(){return this.isValid()?!this._isUTC:!1}function Xa(){return this.isValid()?this._isUTC:!1}function Ya(){return this.isValid()?this._isUTC&&0===this._offset:!1}function Za(a,b){var c,d,e,g=a,h=null;return Ja(a)?g={ms:a._milliseconds,d:a._days,M:a._months}:"number"==typeof a?(g={},b?g[b]=a:g.milliseconds=a):(h=Vd.exec(a))?(c="-"===h[1]?-1:1,g={y:0,d:r(h[xd])*c,h:r(h[yd])*c,m:r(h[zd])*c,s:r(h[Ad])*c,ms:r(h[Bd])*c}):(h=Wd.exec(a))?(c="-"===h[1]?-1:1,g={y:$a(h[2],c),M:$a(h[3],c),d:$a(h[4],c),h:$a(h[5],c),m:$a(h[6],c),s:$a(h[7],c),w:$a(h[8],c)}):null==g?g={}:"object"==typeof g&&("from"in g||"to"in g)&&(e=ab(Ea(g.from),Ea(g.to)),g={},g.ms=e.milliseconds,g.M=e.months),d=new Ia(g),Ja(a)&&f(a,"_locale")&&(d._locale=a._locale),d}function $a(a,b){var c=a&&parseFloat(a.replace(",","."));return(isNaN(c)?0:c)*b}function _a(a,b){var c={milliseconds:0,months:0};return c.months=b.month()-a.month()+12*(b.year()-a.year()),a.clone().add(c.months,"M").isAfter(b)&&--c.months,c.milliseconds=+b-+a.clone().add(c.months,"M"),c}function ab(a,b){var c;return a.isValid()&&b.isValid()?(b=Ma(b,a),a.isBefore(b)?c=_a(a,b):(c=_a(b,a),c.milliseconds=-c.milliseconds,c.months=-c.months),c):{milliseconds:0,months:0}}function bb(a,b){return function(c,d){var e,f;return null===d||isNaN(+d)||(ga(b,"moment()."+b+"(period, number) is deprecated. Please use moment()."+b+"(number, period)."),f=c,c=d,d=f),c="string"==typeof c?+c:c,e=Za(c,d),cb(this,e,a),this}}function cb(b,c,d,e){var f=c._milliseconds,g=c._days,h=c._months;b.isValid()&&(e=null==e?!0:e,f&&b._d.setTime(+b._d+f*d),g&&G(b,"Date",F(b,"Date")+g*d),h&&Z(b,F(b,"Month")+h*d),e&&a.updateOffset(b,g||h))}function db(a,b){var c=a||Ea(),d=Ma(c,this).startOf("day"),e=this.diff(d,"days",!0),f=-6>e?"sameElse":-1>e?"lastWeek":0>e?"lastDay":1>e?"sameDay":2>e?"nextDay":7>e?"nextWeek":"sameElse",g=b&&(D(b[f])?b[f]():b[f]);return this.format(g||this.localeData().calendar(f,this,Ea(c)))}function eb(){return new o(this)}function fb(a,b){var c=p(a)?a:Ea(a);return this.isValid()&&c.isValid()?(b=B(m(b)?"millisecond":b),"millisecond"===b?+this>+c:+c<+this.clone().startOf(b)):!1}function gb(a,b){var c=p(a)?a:Ea(a);return this.isValid()&&c.isValid()?(b=B(m(b)?"millisecond":b),"millisecond"===b?+c>+this:+this.clone().endOf(b)<+c):!1}function hb(a,b,c){return this.isAfter(a,c)&&this.isBefore(b,c)}function ib(a,b){var c,d=p(a)?a:Ea(a);return this.isValid()&&d.isValid()?(b=B(b||"millisecond"),"millisecond"===b?+this===+d:(c=+d,+this.clone().startOf(b)<=c&&c<=+this.clone().endOf(b))):!1}function jb(a,b){return this.isSame(a,b)||this.isAfter(a,b)}function kb(a,b){return this.isSame(a,b)||this.isBefore(a,b)}function lb(a,b,c){var d,e,f,g;return this.isValid()?(d=Ma(a,this),d.isValid()?(e=6e4*(d.utcOffset()-this.utcOffset()),b=B(b),"year"===b||"month"===b||"quarter"===b?(g=mb(this,d),"quarter"===b?g/=3:"year"===b&&(g/=12)):(f=this-d,g="second"===b?f/1e3:"minute"===b?f/6e4:"hour"===b?f/36e5:"day"===b?(f-e)/864e5:"week"===b?(f-e)/6048e5:f),c?g:q(g)):NaN):NaN}function mb(a,b){var c,d,e=12*(b.year()-a.year())+(b.month()-a.month()),f=a.clone().add(e,"months");return 0>b-f?(c=a.clone().add(e-1,"months"),d=(b-f)/(f-c)):(c=a.clone().add(e+1,"months"),d=(b-f)/(c-f)),-(e+d)}function nb(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function ob(){var a=this.clone().utc();return 0<a.year()&&a.year()<=9999?D(Date.prototype.toISOString)?this.toDate().toISOString():M(a,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):M(a,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function pb(b){var c=M(this,b||a.defaultFormat);return this.localeData().postformat(c)}function qb(a,b){return this.isValid()&&(p(a)&&a.isValid()||Ea(a).isValid())?Za({to:this,from:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()}function rb(a){return this.from(Ea(),a)}function sb(a,b){return this.isValid()&&(p(a)&&a.isValid()||Ea(a).isValid())?Za({from:this,to:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()}function tb(a){return this.to(Ea(),a)}function ub(a){var b;return void 0===a?this._locale._abbr:(b=z(a),null!=b&&(this._locale=b),this)}function vb(){return this._locale}function wb(a){switch(a=B(a)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===a&&this.weekday(0),"isoWeek"===a&&this.isoWeekday(1),"quarter"===a&&this.month(3*Math.floor(this.month()/3)),this}function xb(a){return a=B(a),void 0===a||"millisecond"===a?this:this.startOf(a).add(1,"isoWeek"===a?"week":a).subtract(1,"ms")}function yb(){return+this._d-6e4*(this._offset||0)}function zb(){return Math.floor(+this/1e3)}function Ab(){return this._offset?new Date(+this):this._d}function Bb(){var a=this;return[a.year(),a.month(),a.date(),a.hour(),a.minute(),a.second(),a.millisecond()]}function Cb(){var a=this;return{years:a.year(),months:a.month(),date:a.date(),hours:a.hours(),minutes:a.minutes(),seconds:a.seconds(),milliseconds:a.milliseconds()}}function Db(){return this.isValid()?this.toISOString():"null"}function Eb(){return k(this)}function Fb(){return g({},j(this))}function Gb(){return j(this).overflow}function Hb(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Ib(a,b){J(0,[a,a.length],0,b)}function Jb(a){return Nb.call(this,a,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Kb(a){return Nb.call(this,a,this.isoWeek(),this.isoWeekday(),1,4)}function Lb(){return ra(this.year(),1,4)}function Mb(){var a=this.localeData()._week;return ra(this.year(),a.dow,a.doy)}function Nb(a,b,c,d,e){var f;return null==a?qa(this,d,e).year:(f=ra(a,d,e),b>f&&(b=f),Ob.call(this,a,b,c,d,e))}function Ob(a,b,c,d,e){var f=pa(a,b,c,d,e),g=ka(f.year,0,f.dayOfYear);return this.year(g.getUTCFullYear()),this.month(g.getUTCMonth()),this.date(g.getUTCDate()),this}function Pb(a){return null==a?Math.ceil((this.month()+1)/3):this.month(3*(a-1)+this.month()%3)}function Qb(a){return qa(a,this._week.dow,this._week.doy).week}function Rb(){return this._week.dow}function Sb(){return this._week.doy}function Tb(a){var b=this.localeData().week(this);return null==a?b:this.add(7*(a-b),"d")}function Ub(a){var b=qa(this,1,4).week;return null==a?b:this.add(7*(a-b),"d")}function Vb(a,b){return"string"!=typeof a?a:isNaN(a)?(a=b.weekdaysParse(a),"number"==typeof a?a:null):parseInt(a,10)}function Wb(a,b){return c(this._weekdays)?this._weekdays[a.day()]:this._weekdays[this._weekdays.isFormat.test(b)?"format":"standalone"][a.day()]}function Xb(a){return this._weekdaysShort[a.day()]}function Yb(a){return this._weekdaysMin[a.day()]}function Zb(a,b,c){var d,e,f;for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),d=0;7>d;d++){if(e=Ea([2e3,1]).day(d),c&&!this._fullWeekdaysParse[d]&&(this._fullWeekdaysParse[d]=new RegExp("^"+this.weekdays(e,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[d]=new RegExp("^"+this.weekdaysShort(e,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[d]=new RegExp("^"+this.weekdaysMin(e,"").replace(".",".?")+"$","i")),this._weekdaysParse[d]||(f="^"+this.weekdays(e,"")+"|^"+this.weekdaysShort(e,"")+"|^"+this.weekdaysMin(e,""),this._weekdaysParse[d]=new RegExp(f.replace(".",""),"i")),c&&"dddd"===b&&this._fullWeekdaysParse[d].test(a))return d;if(c&&"ddd"===b&&this._shortWeekdaysParse[d].test(a))return d;if(c&&"dd"===b&&this._minWeekdaysParse[d].test(a))return d;if(!c&&this._weekdaysParse[d].test(a))return d}}function $b(a){if(!this.isValid())return null!=a?this:NaN;var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=a?(a=Vb(a,this.localeData()),this.add(a-b,"d")):b}function _b(a){if(!this.isValid())return null!=a?this:NaN;var b=(this.day()+7-this.localeData()._week.dow)%7;return null==a?b:this.add(a-b,"d")}function ac(a){return this.isValid()?null==a?this.day()||7:this.day(this.day()%7?a:a-7):null!=a?this:NaN}function bc(a){var b=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==a?b:this.add(a-b,"d")}function cc(){return this.hours()%12||12}function dc(a,b){J(a,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),b)})}function ec(a,b){return b._meridiemParse}function fc(a){return"p"===(a+"").toLowerCase().charAt(0)}function gc(a,b,c){return a>11?c?"pm":"PM":c?"am":"AM"}function hc(a,b){b[Bd]=r(1e3*("0."+a))}function ic(){return this._isUTC?"UTC":""}function jc(){return this._isUTC?"Coordinated Universal Time":""}function kc(a){return Ea(1e3*a)}function lc(){return Ea.apply(null,arguments).parseZone()}function mc(a,b,c){var d=this._calendar[a];return D(d)?d.call(b,c):d}function nc(a){var b=this._longDateFormat[a],c=this._longDateFormat[a.toUpperCase()];return b||!c?b:(this._longDateFormat[a]=c.replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[a])}function oc(){return this._invalidDate}function pc(a){return this._ordinal.replace("%d",a)}function qc(a){return a}function rc(a,b,c,d){var e=this._relativeTime[c];return D(e)?e(a,b,c,d):e.replace(/%d/i,a)}function sc(a,b){var c=this._relativeTime[a>0?"future":"past"];return D(c)?c(b):c.replace(/%s/i,b)}function tc(a){var b,c;for(c in a)b=a[c],D(b)?this[c]=b:this["_"+c]=b;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\\d{1,2}/.source)}function uc(a,b,c,d){var e=z(),f=h().set(d,b);return e[c](f,a)}function vc(a,b,c,d,e){if("number"==typeof a&&(b=a,a=void 0),a=a||"",null!=b)return uc(a,b,c,e);var f,g=[];for(f=0;d>f;f++)g[f]=uc(a,f,c,e);return g}function wc(a,b){return vc(a,b,"months",12,"month")}function xc(a,b){return vc(a,b,"monthsShort",12,"month")}function yc(a,b){return vc(a,b,"weekdays",7,"day")}function zc(a,b){return vc(a,b,"weekdaysShort",7,"day")}function Ac(a,b){return vc(a,b,"weekdaysMin",7,"day")}function Bc(){var a=this._data;return this._milliseconds=se(this._milliseconds),this._days=se(this._days),this._months=se(this._months),a.milliseconds=se(a.milliseconds),a.seconds=se(a.seconds),a.minutes=se(a.minutes),a.hours=se(a.hours),a.months=se(a.months),a.years=se(a.years),this}function Cc(a,b,c,d){var e=Za(b,c);return a._milliseconds+=d*e._milliseconds,a._days+=d*e._days,a._months+=d*e._months,a._bubble()}function Dc(a,b){return Cc(this,a,b,1)}function Ec(a,b){return Cc(this,a,b,-1)}function Fc(a){return 0>a?Math.floor(a):Math.ceil(a)}function Gc(){var a,b,c,d,e,f=this._milliseconds,g=this._days,h=this._months,i=this._data;return f>=0&&g>=0&&h>=0||0>=f&&0>=g&&0>=h||(f+=864e5*Fc(Ic(h)+g),g=0,h=0),i.milliseconds=f%1e3,a=q(f/1e3),i.seconds=a%60,b=q(a/60),i.minutes=b%60,c=q(b/60),i.hours=c%24,g+=q(c/24),e=q(Hc(g)),h+=e,g-=Fc(Ic(e)),d=q(h/12),h%=12,i.days=g,i.months=h,i.years=d,this}function Hc(a){return 4800*a/146097}function Ic(a){return 146097*a/4800}function Jc(a){var b,c,d=this._milliseconds;if(a=B(a),"month"===a||"year"===a)return b=this._days+d/864e5,c=this._months+Hc(b),"month"===a?c:c/12;switch(b=this._days+Math.round(Ic(this._months)),a){case"week":return b/7+d/6048e5;case"day":return b+d/864e5;case"hour":return 24*b+d/36e5;case"minute":return 1440*b+d/6e4;case"second":return 86400*b+d/1e3;case"millisecond":return Math.floor(864e5*b)+d;default:throw new Error("Unknown unit "+a)}}function Kc(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*r(this._months/12)}function Lc(a){return function(){return this.as(a)}}function Mc(a){return a=B(a),this[a+"s"]()}function Nc(a){return function(){return this._data[a]}}function Oc(){return q(this.days()/7)}function Pc(a,b,c,d,e){return e.relativeTime(b||1,!!c,a,d)}function Qc(a,b,c){var d=Za(a).abs(),e=Ie(d.as("s")),f=Ie(d.as("m")),g=Ie(d.as("h")),h=Ie(d.as("d")),i=Ie(d.as("M")),j=Ie(d.as("y")),k=e<Je.s&&["s",e]||1>=f&&["m"]||f<Je.m&&["mm",f]||1>=g&&["h"]||g<Je.h&&["hh",g]||1>=h&&["d"]||h<Je.d&&["dd",h]||1>=i&&["M"]||i<Je.M&&["MM",i]||1>=j&&["y"]||["yy",j];return k[2]=b,k[3]=+a>0,k[4]=c,Pc.apply(null,k)}function Rc(a,b){return void 0===Je[a]?!1:void 0===b?Je[a]:(Je[a]=b,!0)}function Sc(a){var b=this.localeData(),c=Qc(this,!a,b);return a&&(c=b.pastFuture(+this,c)),b.postformat(c)}function Tc(){var a,b,c,d=Ke(this._milliseconds)/1e3,e=Ke(this._days),f=Ke(this._months);a=q(d/60),b=q(a/60),d%=60,a%=60,c=q(f/12),f%=12;var g=c,h=f,i=e,j=b,k=a,l=d,m=this.asSeconds();return m?(0>m?"-":"")+"P"+(g?g+"Y":"")+(h?h+"M":"")+(i?i+"D":"")+(j||k||l?"T":"")+(j?j+"H":"")+(k?k+"M":"")+(l?l+"S":""):"P0D"}var Uc,Vc,Wc=a.momentProperties=[],Xc=!1,Yc={},Zc={},$c=/(\\[[^\\[]*\\])|(\\\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,_c=/(\\[[^\\[]*\\])|(\\\\)?(LTS|LT|LL?L?L?|l{1,4})/g,ad={},bd={},cd=/\\d/,dd=/\\d\\d/,ed=/\\d{3}/,fd=/\\d{4}/,gd=/[+-]?\\d{6}/,hd=/\\d\\d?/,id=/\\d\\d\\d\\d?/,jd=/\\d\\d\\d\\d\\d\\d?/,kd=/\\d{1,3}/,ld=/\\d{1,4}/,md=/[+-]?\\d{1,6}/,nd=/\\d+/,od=/[+-]?\\d+/,pd=/Z|[+-]\\d\\d:?\\d\\d/gi,qd=/Z|[+-]\\d\\d(?::?\\d\\d)?/gi,rd=/[+-]?\\d+(\\.\\d{1,3})?/,sd=/[0-9]*[\'a-z\\u00A0-\\u05FF\\u0700-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]+|[\\u0600-\\u06FF\\/]+(\\s*?[\\u0600-\\u06FF]+){1,2}/i,td={},ud={},vd=0,wd=1,xd=2,yd=3,zd=4,Ad=5,Bd=6,Cd=7,Dd=8;J("M",["MM",2],"Mo",function(){return this.month()+1}),J("MMM",0,0,function(a){return this.localeData().monthsShort(this,a)}),J("MMMM",0,0,function(a){return this.localeData().months(this,a)}),A("month","M"),O("M",hd),O("MM",hd,dd),O("MMM",function(a,b){return b.monthsShortRegex(a)}),O("MMMM",function(a,b){return b.monthsRegex(a)}),S(["M","MM"],function(a,b){b[wd]=r(a)-1}),S(["MMM","MMMM"],function(a,b,c,d){var e=c._locale.monthsParse(a,d,c._strict);null!=e?b[wd]=e:j(c).invalidMonth=a});var Ed=/D[oD]?(\\[[^\\[\\]]*\\]|\\s+)+MMMM?/,Fd="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Gd="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Hd=sd,Id=sd,Jd={};a.suppressDeprecationWarnings=!1;var Kd=/^\\s*((?:[+-]\\d{6}|\\d{4})-(?:\\d\\d-\\d\\d|W\\d\\d-\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?::\\d\\d(?::\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?/,Ld=/^\\s*((?:[+-]\\d{6}|\\d{4})(?:\\d\\d\\d\\d|W\\d\\d\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?:\\d\\d(?:\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?/,Md=/Z|[+-]\\d\\d(?::?\\d\\d)?/,Nd=[["YYYYYY-MM-DD",/[+-]\\d{6}-\\d\\d-\\d\\d/],["YYYY-MM-DD",/\\d{4}-\\d\\d-\\d\\d/],["GGGG-[W]WW-E",/\\d{4}-W\\d\\d-\\d/],["GGGG-[W]WW",/\\d{4}-W\\d\\d/,!1],["YYYY-DDD",/\\d{4}-\\d{3}/],["YYYY-MM",/\\d{4}-\\d\\d/,!1],["YYYYYYMMDD",/[+-]\\d{10}/],["YYYYMMDD",/\\d{8}/],["GGGG[W]WWE",/\\d{4}W\\d{3}/],["GGGG[W]WW",/\\d{4}W\\d{2}/,!1],["YYYYDDD",/\\d{7}/]],Od=[["HH:mm:ss.SSSS",/\\d\\d:\\d\\d:\\d\\d\\.\\d+/],["HH:mm:ss,SSSS",/\\d\\d:\\d\\d:\\d\\d,\\d+/],["HH:mm:ss",/\\d\\d:\\d\\d:\\d\\d/],["HH:mm",/\\d\\d:\\d\\d/],["HHmmss.SSSS",/\\d\\d\\d\\d\\d\\d\\.\\d+/],["HHmmss,SSSS",/\\d\\d\\d\\d\\d\\d,\\d+/],["HHmmss",/\\d\\d\\d\\d\\d\\d/],["HHmm",/\\d\\d\\d\\d/],["HH",/\\d\\d/]],Pd=/^\\/?Date\\((\\-?\\d+)/i;a.createFromInputFallback=fa("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(a){a._d=new Date(a._i+(a._useUTC?" UTC":""))}),J("Y",0,0,function(){var a=this.year();return 9999>=a?""+a:"+"+a}),J(0,["YY",2],0,function(){return this.year()%100}),J(0,["YYYY",4],0,"year"),J(0,["YYYYY",5],0,"year"),J(0,["YYYYYY",6,!0],0,"year"),A("year","y"),O("Y",od),O("YY",hd,dd),O("YYYY",ld,fd),O("YYYYY",md,gd),O("YYYYYY",md,gd),S(["YYYYY","YYYYYY"],vd),S("YYYY",function(b,c){c[vd]=2===b.length?a.parseTwoDigitYear(b):r(b)}),S("YY",function(b,c){c[vd]=a.parseTwoDigitYear(b)}),S("Y",function(a,b){b[vd]=parseInt(a,10)}),a.parseTwoDigitYear=function(a){return r(a)+(r(a)>68?1900:2e3)};var Qd=E("FullYear",!1);a.ISO_8601=function(){};var Rd=fa("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var a=Ea.apply(null,arguments);return this.isValid()&&a.isValid()?this>a?this:a:l()}),Sd=fa("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var a=Ea.apply(null,arguments);return this.isValid()&&a.isValid()?a>this?this:a:l()}),Td=function(){return Date.now?Date.now():+new Date};Ka("Z",":"),Ka("ZZ",""),O("Z",qd),O("ZZ",qd),S(["Z","ZZ"],function(a,b,c){c._useUTC=!0,c._tzm=La(qd,a)});var Ud=/([\\+\\-]|\\d\\d)/gi;a.updateOffset=function(){};var Vd=/^(\\-)?(?:(\\d*)[. ])?(\\d+)\\:(\\d+)(?:\\:(\\d+)\\.?(\\d{3})?\\d*)?$/,Wd=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;\nZa.fn=Ia.prototype;var Xd=bb(1,"add"),Yd=bb(-1,"subtract");a.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var Zd=fa("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(a){return void 0===a?this.localeData():this.locale(a)});J(0,["gg",2],0,function(){return this.weekYear()%100}),J(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Ib("gggg","weekYear"),Ib("ggggg","weekYear"),Ib("GGGG","isoWeekYear"),Ib("GGGGG","isoWeekYear"),A("weekYear","gg"),A("isoWeekYear","GG"),O("G",od),O("g",od),O("GG",hd,dd),O("gg",hd,dd),O("GGGG",ld,fd),O("gggg",ld,fd),O("GGGGG",md,gd),O("ggggg",md,gd),T(["gggg","ggggg","GGGG","GGGGG"],function(a,b,c,d){b[d.substr(0,2)]=r(a)}),T(["gg","GG"],function(b,c,d,e){c[e]=a.parseTwoDigitYear(b)}),J("Q",0,"Qo","quarter"),A("quarter","Q"),O("Q",cd),S("Q",function(a,b){b[wd]=3*(r(a)-1)}),J("w",["ww",2],"wo","week"),J("W",["WW",2],"Wo","isoWeek"),A("week","w"),A("isoWeek","W"),O("w",hd),O("ww",hd,dd),O("W",hd),O("WW",hd,dd),T(["w","ww","W","WW"],function(a,b,c,d){b[d.substr(0,1)]=r(a)});var $d={dow:0,doy:6};J("D",["DD",2],"Do","date"),A("date","D"),O("D",hd),O("DD",hd,dd),O("Do",function(a,b){return a?b._ordinalParse:b._ordinalParseLenient}),S(["D","DD"],xd),S("Do",function(a,b){b[xd]=r(a.match(hd)[0],10)});var _d=E("Date",!0);J("d",0,"do","day"),J("dd",0,0,function(a){return this.localeData().weekdaysMin(this,a)}),J("ddd",0,0,function(a){return this.localeData().weekdaysShort(this,a)}),J("dddd",0,0,function(a){return this.localeData().weekdays(this,a)}),J("e",0,0,"weekday"),J("E",0,0,"isoWeekday"),A("day","d"),A("weekday","e"),A("isoWeekday","E"),O("d",hd),O("e",hd),O("E",hd),O("dd",sd),O("ddd",sd),O("dddd",sd),T(["dd","ddd","dddd"],function(a,b,c,d){var e=c._locale.weekdaysParse(a,d,c._strict);null!=e?b.d=e:j(c).invalidWeekday=a}),T(["d","e","E"],function(a,b,c,d){b[d]=r(a)});var ae="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),be="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),ce="Su_Mo_Tu_We_Th_Fr_Sa".split("_");J("DDD",["DDDD",3],"DDDo","dayOfYear"),A("dayOfYear","DDD"),O("DDD",kd),O("DDDD",ed),S(["DDD","DDDD"],function(a,b,c){c._dayOfYear=r(a)}),J("H",["HH",2],0,"hour"),J("h",["hh",2],0,cc),J("hmm",0,0,function(){return""+cc.apply(this)+I(this.minutes(),2)}),J("hmmss",0,0,function(){return""+cc.apply(this)+I(this.minutes(),2)+I(this.seconds(),2)}),J("Hmm",0,0,function(){return""+this.hours()+I(this.minutes(),2)}),J("Hmmss",0,0,function(){return""+this.hours()+I(this.minutes(),2)+I(this.seconds(),2)}),dc("a",!0),dc("A",!1),A("hour","h"),O("a",ec),O("A",ec),O("H",hd),O("h",hd),O("HH",hd,dd),O("hh",hd,dd),O("hmm",id),O("hmmss",jd),O("Hmm",id),O("Hmmss",jd),S(["H","HH"],yd),S(["a","A"],function(a,b,c){c._isPm=c._locale.isPM(a),c._meridiem=a}),S(["h","hh"],function(a,b,c){b[yd]=r(a),j(c).bigHour=!0}),S("hmm",function(a,b,c){var d=a.length-2;b[yd]=r(a.substr(0,d)),b[zd]=r(a.substr(d)),j(c).bigHour=!0}),S("hmmss",function(a,b,c){var d=a.length-4,e=a.length-2;b[yd]=r(a.substr(0,d)),b[zd]=r(a.substr(d,2)),b[Ad]=r(a.substr(e)),j(c).bigHour=!0}),S("Hmm",function(a,b,c){var d=a.length-2;b[yd]=r(a.substr(0,d)),b[zd]=r(a.substr(d))}),S("Hmmss",function(a,b,c){var d=a.length-4,e=a.length-2;b[yd]=r(a.substr(0,d)),b[zd]=r(a.substr(d,2)),b[Ad]=r(a.substr(e))});var de=/[ap]\\.?m?\\.?/i,ee=E("Hours",!0);J("m",["mm",2],0,"minute"),A("minute","m"),O("m",hd),O("mm",hd,dd),S(["m","mm"],zd);var fe=E("Minutes",!1);J("s",["ss",2],0,"second"),A("second","s"),O("s",hd),O("ss",hd,dd),S(["s","ss"],Ad);var ge=E("Seconds",!1);J("S",0,0,function(){return~~(this.millisecond()/100)}),J(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),J(0,["SSS",3],0,"millisecond"),J(0,["SSSS",4],0,function(){return 10*this.millisecond()}),J(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),J(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),J(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),J(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),J(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),A("millisecond","ms"),O("S",kd,cd),O("SS",kd,dd),O("SSS",kd,ed);var he;for(he="SSSS";he.length<=9;he+="S")O(he,nd);for(he="S";he.length<=9;he+="S")S(he,hc);var ie=E("Milliseconds",!1);J("z",0,0,"zoneAbbr"),J("zz",0,0,"zoneName");var je=o.prototype;je.add=Xd,je.calendar=db,je.clone=eb,je.diff=lb,je.endOf=xb,je.format=pb,je.from=qb,je.fromNow=rb,je.to=sb,je.toNow=tb,je.get=H,je.invalidAt=Gb,je.isAfter=fb,je.isBefore=gb,je.isBetween=hb,je.isSame=ib,je.isSameOrAfter=jb,je.isSameOrBefore=kb,je.isValid=Eb,je.lang=Zd,je.locale=ub,je.localeData=vb,je.max=Sd,je.min=Rd,je.parsingFlags=Fb,je.set=H,je.startOf=wb,je.subtract=Yd,je.toArray=Bb,je.toObject=Cb,je.toDate=Ab,je.toISOString=ob,je.toJSON=Db,je.toString=nb,je.unix=zb,je.valueOf=yb,je.creationData=Hb,je.year=Qd,je.isLeapYear=na,je.weekYear=Jb,je.isoWeekYear=Kb,je.quarter=je.quarters=Pb,je.month=$,je.daysInMonth=_,je.week=je.weeks=Tb,je.isoWeek=je.isoWeeks=Ub,je.weeksInYear=Mb,je.isoWeeksInYear=Lb,je.date=_d,je.day=je.days=$b,je.weekday=_b,je.isoWeekday=ac,je.dayOfYear=bc,je.hour=je.hours=ee,je.minute=je.minutes=fe,je.second=je.seconds=ge,je.millisecond=je.milliseconds=ie,je.utcOffset=Oa,je.utc=Qa,je.local=Ra,je.parseZone=Sa,je.hasAlignedHourOffset=Ta,je.isDST=Ua,je.isDSTShifted=Va,je.isLocal=Wa,je.isUtcOffset=Xa,je.isUtc=Ya,je.isUTC=Ya,je.zoneAbbr=ic,je.zoneName=jc,je.dates=fa("dates accessor is deprecated. Use date instead.",_d),je.months=fa("months accessor is deprecated. Use month instead",$),je.years=fa("years accessor is deprecated. Use year instead",Qd),je.zone=fa("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",Pa);var ke=je,le={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},me={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},ne="Invalid date",oe="%d",pe=/\\d{1,2}/,qe={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},re=t.prototype;re._calendar=le,re.calendar=mc,re._longDateFormat=me,re.longDateFormat=nc,re._invalidDate=ne,re.invalidDate=oc,re._ordinal=oe,re.ordinal=pc,re._ordinalParse=pe,re.preparse=qc,re.postformat=qc,re._relativeTime=qe,re.relativeTime=rc,re.pastFuture=sc,re.set=tc,re.months=W,re._months=Fd,re.monthsShort=X,re._monthsShort=Gd,re.monthsParse=Y,re._monthsRegex=Id,re.monthsRegex=ba,re._monthsShortRegex=Hd,re.monthsShortRegex=aa,re.week=Qb,re._week=$d,re.firstDayOfYear=Sb,re.firstDayOfWeek=Rb,re.weekdays=Wb,re._weekdays=ae,re.weekdaysMin=Yb,re._weekdaysMin=ce,re.weekdaysShort=Xb,re._weekdaysShort=be,re.weekdaysParse=Zb,re.isPM=fc,re._meridiemParse=de,re.meridiem=gc,x("en",{ordinalParse:/\\d{1,2}(th|st|nd|rd)/,ordinal:function(a){var b=a%10,c=1===r(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+c}}),a.lang=fa("moment.lang is deprecated. Use moment.locale instead.",x),a.langData=fa("moment.langData is deprecated. Use moment.localeData instead.",z);var se=Math.abs,te=Lc("ms"),ue=Lc("s"),ve=Lc("m"),we=Lc("h"),xe=Lc("d"),ye=Lc("w"),ze=Lc("M"),Ae=Lc("y"),Be=Nc("milliseconds"),Ce=Nc("seconds"),De=Nc("minutes"),Ee=Nc("hours"),Fe=Nc("days"),Ge=Nc("months"),He=Nc("years"),Ie=Math.round,Je={s:45,m:45,h:22,d:26,M:11},Ke=Math.abs,Le=Ia.prototype;Le.abs=Bc,Le.add=Dc,Le.subtract=Ec,Le.as=Jc,Le.asMilliseconds=te,Le.asSeconds=ue,Le.asMinutes=ve,Le.asHours=we,Le.asDays=xe,Le.asWeeks=ye,Le.asMonths=ze,Le.asYears=Ae,Le.valueOf=Kc,Le._bubble=Gc,Le.get=Mc,Le.milliseconds=Be,Le.seconds=Ce,Le.minutes=De,Le.hours=Ee,Le.days=Fe,Le.weeks=Oc,Le.months=Ge,Le.years=He,Le.humanize=Sc,Le.toISOString=Tc,Le.toString=Tc,Le.toJSON=Tc,Le.locale=ub,Le.localeData=vb,Le.toIsoString=fa("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Tc),Le.lang=Zd,J("X",0,0,"unix"),J("x",0,0,"valueOf"),O("x",od),O("X",rd),S("X",function(a,b,c){c._d=new Date(1e3*parseFloat(a,10))}),S("x",function(a,b,c){c._d=new Date(r(a))}),a.version="2.11.2",b(Ea),a.fn=ke,a.min=Ga,a.max=Ha,a.now=Td,a.utc=h,a.unix=kc,a.months=wc,a.isDate=d,a.locale=x,a.invalid=l,a.duration=Za,a.isMoment=p,a.weekdays=yc,a.parseZone=lc,a.localeData=z,a.isDuration=Ja,a.monthsShort=xc,a.weekdaysMin=Ac,a.defineLocale=y,a.weekdaysShort=zc,a.normalizeUnits=B,a.relativeTimeThreshold=Rc,a.prototype=ke;var Me=a;return Me});'},function(e,t,n){n(3)(n(47))},function(e,t){var n,r,a=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var c,l=[],u=!1,d=-1;function h(){u&&c&&(u=!1,c.length?l=c.concat(l):d=-1,l.length&&f())}function f(){if(!u){var e=s(h);u=!0;for(var t=l.length;t;){for(c=l,l=[];++d<t;)c&&c[d].run();d=-1,t=l.length}c=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function g(){}a.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new p(e,t)),1!==l.length||u||s(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=g,a.addListener=g,a.once=g,a.off=g,a.removeListener=g,a.removeAllListeners=g,a.emit=g,a.binding=function(e){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},function(e,t,n){(function(t){!function(){var n={},r=this,a=r.async;void 0!==e&&e.exports?e.exports=n:r.async=n,n.noConflict=function(){return r.async=a,n};var i=function(e,t){if(e.forEach)return e.forEach(t);for(var n=0;n<e.length;n+=1)t(e[n],n,e)},o=function(e,t){if(e.map)return e.map(t);var n=[];return i(e,function(e,r,a){n.push(t(e,r,a))}),n},s=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t};void 0!==t&&t.nextTick?n.nextTick=t.nextTick:n.nextTick=function(e){setTimeout(e,0)},n.forEach=function(e,t,n){if(n=n||function(){},!e.length)return n();var r=0;i(e,function(a){t(a,function(t){t?(n(t),n=function(){}):(r+=1)===e.length&&n()})})},n.forEachSeries=function(e,t,n){if(n=n||function(){},!e.length)return n();var r=0,a=function(){t(e[r],function(t){t?(n(t),n=function(){}):(r+=1)===e.length?n():a()})};a()},n.forEachLimit=function(e,t,n,r){if(r=r||function(){},!e.length||t<=0)return r();var a=0,i=0,o=0;!function s(){if(a===e.length)return r();for(;o<t&&i<e.length;)n(e[i],function(t){t?(r(t),r=function(){}):(o-=1,(a+=1)===e.length?r():s())}),i+=1,o+=1}()};var c=function(e){return function(){var t=Array.prototype.slice.call(arguments);return e.apply(null,[n.forEach].concat(t))}},l=function(e){return function(){var t=Array.prototype.slice.call(arguments);return e.apply(null,[n.forEachSeries].concat(t))}},u=function(e,t,n,r){var a=[];e(t=o(t,function(e,t){return{index:t,value:e}}),function(e,t){n(e.value,function(n,r){a[e.index]=r,t(n)})},function(e){r(e,a)})};n.map=c(u),n.mapSeries=l(u),n.reduce=function(e,t,r,a){n.forEachSeries(e,function(e,n){r(t,e,function(e,r){t=r,n(e)})},function(e){a(e,t)})},n.inject=n.reduce,n.foldl=n.reduce,n.reduceRight=function(e,t,r,a){var i=o(e,function(e){return e}).reverse();n.reduce(i,t,r,a)},n.foldr=n.reduceRight;var d=function(e,t,n,r){var a=[];e(t=o(t,function(e,t){return{index:t,value:e}}),function(e,t){n(e.value,function(n){n&&a.push(e),t()})},function(e){r(o(a.sort(function(e,t){return e.index-t.index}),function(e){return e.value}))})};n.filter=c(d),n.filterSeries=l(d),n.select=n.filter,n.selectSeries=n.filterSeries;var h=function(e,t,n,r){var a=[];e(t=o(t,function(e,t){return{index:t,value:e}}),function(e,t){n(e.value,function(n){n||a.push(e),t()})},function(e){r(o(a.sort(function(e,t){return e.index-t.index}),function(e){return e.value}))})};n.reject=c(h),n.rejectSeries=l(h);var f=function(e,t,n,r){e(t,function(e,t){n(e,function(n){n?(r(e),r=function(){}):t()})},function(e){r()})};n.detect=c(f),n.detectSeries=l(f),n.some=function(e,t,r){n.forEach(e,function(e,n){t(e,function(e){e&&(r(!0),r=function(){}),n()})},function(e){r(!1)})},n.any=n.some,n.every=function(e,t,r){n.forEach(e,function(e,n){t(e,function(e){e||(r(!1),r=function(){}),n()})},function(e){r(!0)})},n.all=n.every,n.sortBy=function(e,t,r){n.map(e,function(e,n){t(e,function(t,r){t?n(t):n(null,{value:e,criteria:r})})},function(e,t){if(e)return r(e);r(null,o(t.sort(function(e,t){var n=e.criteria,r=t.criteria;return n<r?-1:n>r?1:0}),function(e){return e.value}))})},n.auto=function(e,t){t=t||function(){};var n=s(e);if(!n.length)return t(null);var r={},a=[],o=function(e){a.unshift(e)};o(function(){s(r).length===n.length&&(t(null,r),t=function(){})}),i(n,function(n){var s=e[n]instanceof Function?[e[n]]:e[n],c=function(e){if(e)t(e),t=function(){};else{var o=Array.prototype.slice.call(arguments,1);o.length<=1&&(o=o[0]),r[n]=o,i(a.slice(0),function(e){e()})}},l=s.slice(0,Math.abs(s.length-1))||[],u=function(){return function(e,t,n){return e.reduce?e.reduce(t,n):(i(e,function(e,r,a){n=t(n,e,r,a)}),n)}(l,function(e,t){return e&&r.hasOwnProperty(t)},!0)};if(u())s[s.length-1](c,r);else{var d=function(){u()&&(!function(e){for(var t=0;t<a.length;t+=1)if(a[t]===e)return void a.splice(t,1)}(d),s[s.length-1](c,r))};o(d)}})},n.waterfall=function(e,t){if(t=t||function(){},!e.length)return t();var r=function(e){return function(a){if(a)t(a),t=function(){};else{var i=Array.prototype.slice.call(arguments,1),o=e.next();o?i.push(r(o)):i.push(t),n.nextTick(function(){e.apply(null,i)})}}};r(n.iterator(e))()},n.parallel=function(e,t){if(t=t||function(){},e.constructor===Array)n.map(e,function(e,t){e&&e(function(e){var n=Array.prototype.slice.call(arguments,1);n.length<=1&&(n=n[0]),t.call(null,e,n)})},t);else{var r={};n.forEach(s(e),function(t,n){e[t](function(e){var a=Array.prototype.slice.call(arguments,1);a.length<=1&&(a=a[0]),r[t]=a,n(e)})},function(e){t(e,r)})}},n.series=function(e,t){if(t=t||function(){},e.constructor===Array)n.mapSeries(e,function(e,t){e&&e(function(e){var n=Array.prototype.slice.call(arguments,1);n.length<=1&&(n=n[0]),t.call(null,e,n)})},t);else{var r={};n.forEachSeries(s(e),function(t,n){e[t](function(e){var a=Array.prototype.slice.call(arguments,1);a.length<=1&&(a=a[0]),r[t]=a,n(e)})},function(e){t(e,r)})}},n.iterator=function(e){var t=function(n){var r=function(){return e.length&&e[n].apply(null,arguments),r.next()};return r.next=function(){return n<e.length-1?t(n+1):null},r};return t(0)},n.apply=function(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t.concat(Array.prototype.slice.call(arguments)))}};var p=function(e,t,n,r){var a=[];e(t,function(e,t){n(e,function(e,n){a=a.concat(n||[]),t(e)})},function(e){r(e,a)})};n.concat=c(p),n.concatSeries=l(p),n.whilst=function(e,t,r){e()?t(function(a){if(a)return r(a);n.whilst(e,t,r)}):r()},n.until=function(e,t,r){e()?r():t(function(a){if(a)return r(a);n.until(e,t,r)})},n.queue=function(e,t){var r=0,a={tasks:[],concurrency:t,saturated:null,empty:null,drain:null,push:function(e,r){e.constructor!==Array&&(e=[e]),i(e,function(e){a.tasks.push({data:e,callback:"function"==typeof r?r:null}),a.saturated&&a.tasks.length==t&&a.saturated(),n.nextTick(a.process)})},process:function(){if(r<a.concurrency&&a.tasks.length){var t=a.tasks.shift();a.empty&&0==a.tasks.length&&a.empty(),r+=1,e(t.data,function(){r-=1,t.callback&&t.callback.apply(t,arguments),a.drain&&a.tasks.length+r==0&&a.drain(),a.process()})}},length:function(){return a.tasks.length},running:function(){return r}};return a};var g=function(e){return function(t){var n=Array.prototype.slice.call(arguments,1);t.apply(null,n.concat([function(t){var n=Array.prototype.slice.call(arguments,1);"undefined"!=typeof console&&(t?console.error&&console.error(t):console[e]&&i(n,function(t){console[e](t)}))}]))}};n.log=g("log"),n.dir=g("dir"),n.memoize=function(e,t){var n={},r={};t=t||function(e){return e};var a=function(){var a=Array.prototype.slice.call(arguments),i=a.pop(),o=t.apply(null,a);o in n?i.apply(null,n[o]):o in r?r[o].push(i):(r[o]=[i],e.apply(null,a.concat([function(){n[o]=arguments;var e=r[o];delete r[o];for(var t=0,a=e.length;t<a;t++)e[t].apply(null,arguments)}])))};return a.unmemoized=e,a},n.unmemoize=function(e){return function(){return(e.unmemoized||e).apply(null,arguments)}}}()}).call(this,n(49))},function(e,t,n){e.exports=n(50)},function(e,t){e.exports='\n\n\nvar Handlebars=function(){var a=function(){"use strict";function a(a){this.string=a}var b;return a.prototype.toString=function(){return""+this.string},b=a}(),b=function(a){"use strict";function b(a){return h[a]||"&amp;"}function c(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])}function d(a){return a instanceof g?a.toString():a||0===a?(a=""+a,j.test(a)?a.replace(i,b):a):""}function e(a){return a||0===a?m(a)&&0===a.length?!0:!1:!0}var f={},g=a,h={"&":"&amp;","<":"&lt;",">":"&gt;",\'"\':"&quot;","\'":"&#x27;","`":"&#x60;","=":"&#x3D;"},i=/[&<>"\'`=]/g,j=/[&<>"\'`=]/;f.extend=c;var k=Object.prototype.toString;f.toString=k;var l=function(a){return"function"==typeof a};l(/x/)&&(l=function(a){return"function"==typeof a&&"[object Function]"===k.call(a)});var l;f.isFunction=l;var m=Array.isArray||function(a){return a&&"object"==typeof a?"[object Array]"===k.call(a):!1};return f.isArray=m,f.escapeExpression=d,f.isEmpty=e,f}(a),c=function(){"use strict";function a(a,b){var d;b&&b.firstLine&&(d=b.firstLine,a+=" - "+d+":"+b.firstColumn);for(var e=Error.prototype.constructor.call(this,a),f=0;f<c.length;f++)this[c[f]]=e[c[f]];d&&(this.lineNumber=d,this.column=b.firstColumn)}var b,c=["description","fileName","lineNumber","message","name","number","stack"];return a.prototype=new Error,b=a}(),d=function(a,b){"use strict";function c(a,b){this.helpers=a||{},this.partials=b||{},d(this)}function d(a){a.registerHelper("helperMissing",function(a){if(2===arguments.length)return void 0;throw new h("Missing helper: \'"+a+"\'")}),a.registerHelper("blockHelperMissing",function(b,c){var d=c.inverse||function(){},e=c.fn;return m(b)&&(b=b.call(this)),b===!0?e(this):b===!1||null==b?d(this):l(b)?b.length>0?a.helpers.each(b,c):d(this):e(b)}),a.registerHelper("each",function(a,b){var c,d=b.fn,e=b.inverse,f=0,g="";if(m(a)&&(a=a.call(this)),b.data&&(c=q(b.data)),a&&"object"==typeof a)if(l(a))for(var h=a.length;h>f;f++)c&&(c.index=f,c.first=0===f,c.last=f===a.length-1),g+=d(a[f],{data:c});else for(var i in a)a.hasOwnProperty(i)&&(c&&(c.key=i,c.index=f,c.first=0===f),g+=d(a[i],{data:c}),f++);return 0===f&&(g=e(this)),g}),a.registerHelper("if",function(a,b){return m(a)&&(a=a.call(this)),!b.hash.includeZero&&!a||g.isEmpty(a)?b.inverse(this):b.fn(this)}),a.registerHelper("unless",function(b,c){return a.helpers["if"].call(this,b,{fn:c.inverse,inverse:c.fn,hash:c.hash})}),a.registerHelper("with",function(a,b){return m(a)&&(a=a.call(this)),g.isEmpty(a)?void 0:b.fn(a)}),a.registerHelper("log",function(b,c){var d=c.data&&null!=c.data.level?parseInt(c.data.level,10):1;a.log(d,b)})}function e(a,b){p.log(a,b)}var f={},g=a,h=b,i="1.3.0";f.VERSION=i;var j=4;f.COMPILER_REVISION=j;var k={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"};f.REVISION_CHANGES=k;var l=g.isArray,m=g.isFunction,n=g.toString,o="[object Object]";f.HandlebarsEnvironment=c,c.prototype={constructor:c,logger:p,log:e,registerHelper:function(a,b,c){if(n.call(a)===o){if(c||b)throw new h("Arg not supported with multiple helpers");g.extend(this.helpers,a)}else c&&(b.not=c),this.helpers[a]=b},registerPartial:function(a,b){n.call(a)===o?g.extend(this.partials,a):this.partials[a]=b}};var p={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(a,b){if(p.level<=a){var c=p.methodMap[a];"undefined"!=typeof console&&console[c]&&console[c].call(console,b)}}};f.logger=p,f.log=e;var q=function(a){var b={};return g.extend(b,a),b};return f.createFrame=q,f}(b,c),e=function(a,b,c){"use strict";function d(a){var b=a&&a[0]||1,c=m;if(b!==c){if(c>b){var d=n[c],e=n[b];throw new l("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+d+") or downgrade your runtime to an older version ("+e+").")}throw new l("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+a[1]+").")}}function e(a,b){if(!b)throw new l("No environment passed to template");var c=function(a,c,d,e,f,g){var h=b.VM.invokePartial.apply(this,arguments);if(null!=h)return h;if(b.compile){var i={helpers:e,partials:f,data:g};return f[c]=b.compile(a,{data:void 0!==g},b),f[c](d,i)}throw new l("The partial "+c+" could not be compiled when running in runtime-only mode")},d={escapeExpression:k.escapeExpression,invokePartial:c,programs:[],program:function(a,b,c){var d=this.programs[a];return c?d=g(a,b,c):d||(d=this.programs[a]=g(a,b)),d},merge:function(a,b){var c=a||b;return a&&b&&a!==b&&(c={},k.extend(c,b),k.extend(c,a)),c},programWithDepth:b.VM.programWithDepth,noop:b.VM.noop,compilerInfo:null};return function(c,e){e=e||{};var f,g,h=e.partial?e:b;e.partial||(f=e.helpers,g=e.partials);var i=a.call(d,h,c,f,g,e.data);return e.partial||b.VM.checkRevision(d.compilerInfo),i}}function f(a,b,c){var d=Array.prototype.slice.call(arguments,3),e=function(a,e){return e=e||{},b.apply(this,[a,e.data||c].concat(d))};return e.program=a,e.depth=d.length,e}function g(a,b,c){var d=function(a,d){return d=d||{},b(a,d.data||c)};return d.program=a,d.depth=0,d}function h(a,b,c,d,e,f){var g={partial:!0,helpers:d,partials:e,data:f};if(void 0===a)throw new l("The partial "+b+" could not be found");return a instanceof Function?a(c,g):void 0}function i(){return""}var j={},k=a,l=b,m=c.COMPILER_REVISION,n=c.REVISION_CHANGES;return j.checkRevision=d,j.template=e,j.programWithDepth=f,j.program=g,j.invokePartial=h,j.noop=i,j}(b,c,d),f=function(a,b,c,d,e){"use strict";var f,g=a,h=b,i=c,j=d,k=e,l=function(){var a=new g.HandlebarsEnvironment;return j.extend(a,g),a.SafeString=h,a.Exception=i,a.Utils=j,a.VM=k,a.template=function(b){return k.template(b,a)},a},m=l();return m.create=l,f=m}(d,a,c,b,e),g=function(a){"use strict";function b(a){a=a||{},this.firstLine=a.first_line,this.firstColumn=a.first_column,this.lastColumn=a.last_column,this.lastLine=a.last_line}var c,d=a,e={ProgramNode:function(a,c,d,f){var g,h;3===arguments.length?(f=d,d=null):2===arguments.length&&(f=c,c=null),b.call(this,f),this.type="program",this.statements=a,this.strip={},d?(h=d[0],h?(g={first_line:h.firstLine,last_line:h.lastLine,last_column:h.lastColumn,first_column:h.firstColumn},this.inverse=new e.ProgramNode(d,c,g)):this.inverse=new e.ProgramNode(d,c),this.strip.right=c.left):c&&(this.strip.left=c.right)},MustacheNode:function(a,c,d,f,g){if(b.call(this,g),this.type="mustache",this.strip=f,null!=d&&d.charAt){var h=d.charAt(3)||d.charAt(2);this.escaped="{"!==h&&"&"!==h}else this.escaped=!!d;a instanceof e.SexprNode?this.sexpr=a:this.sexpr=new e.SexprNode(a,c),this.sexpr.isRoot=!0,this.id=this.sexpr.id,this.params=this.sexpr.params,this.hash=this.sexpr.hash,this.eligibleHelper=this.sexpr.eligibleHelper,this.isHelper=this.sexpr.isHelper},SexprNode:function(a,c,d){b.call(this,d),this.type="sexpr",this.hash=c;var e=this.id=a[0],f=this.params=a.slice(1),g=this.eligibleHelper=e.isSimple;this.isHelper=g&&(f.length||c)},PartialNode:function(a,c,d,e){b.call(this,e),this.type="partial",this.partialName=a,this.context=c,this.strip=d},BlockNode:function(a,c,e,f,g){if(b.call(this,g),a.sexpr.id.original!==f.path.original)throw new d(a.sexpr.id.original+" doesn\'t match "+f.path.original,this);this.type="block",this.mustache=a,this.program=c,this.inverse=e,this.strip={left:a.strip.left,right:f.strip.right},(c||e).strip.left=a.strip.right,(e||c).strip.right=f.strip.left,e&&!c&&(this.isInverse=!0)},ContentNode:function(a,c){b.call(this,c),this.type="content",this.string=a},HashNode:function(a,c){b.call(this,c),this.type="hash",this.pairs=a},IdNode:function(a,c){b.call(this,c),this.type="ID";for(var e="",f=[],g=0,h=0,i=a.length;i>h;h++){var j=a[h].part;if(e+=(a[h].separator||"")+j,".."===j||"."===j||"this"===j){if(f.length>0)throw new d("Invalid path: "+e,this);".."===j?g++:this.isScoped=!0}else f.push(j)}this.original=e,this.parts=f,this.string=f.join("."),this.depth=g,this.isSimple=1===a.length&&!this.isScoped&&0===g,this.stringModeValue=this.string},PartialNameNode:function(a,c){b.call(this,c),this.type="PARTIAL_NAME",this.name=a.original},DataNode:function(a,c){b.call(this,c),this.type="DATA",this.id=a},StringNode:function(a,c){b.call(this,c),this.type="STRING",this.original=this.string=this.stringModeValue=a},IntegerNode:function(a,c){b.call(this,c),this.type="INTEGER",this.original=this.integer=a,this.stringModeValue=Number(a)},BooleanNode:function(a,c){b.call(this,c),this.type="BOOLEAN",this.bool=a,this.stringModeValue="true"===a},CommentNode:function(a,c){b.call(this,c),this.type="comment",this.comment=a}};return c=e}(c),h=function(){"use strict";var a,b=function(){function a(a,b){return{left:"~"===a.charAt(2),right:"~"===b.charAt(0)||"~"===b.charAt(1)}}function b(){this.yy={}}var c={trace:function(){},yy:{},symbols_:{error:2,root:3,statements:4,EOF:5,program:6,simpleInverse:7,statement:8,openInverse:9,closeBlock:10,openBlock:11,mustache:12,partial:13,CONTENT:14,COMMENT:15,OPEN_BLOCK:16,sexpr:17,CLOSE:18,OPEN_INVERSE:19,OPEN_ENDBLOCK:20,path:21,OPEN:22,OPEN_UNESCAPED:23,CLOSE_UNESCAPED:24,OPEN_PARTIAL:25,partialName:26,partial_option0:27,sexpr_repetition0:28,sexpr_option0:29,dataName:30,param:31,STRING:32,INTEGER:33,BOOLEAN:34,OPEN_SEXPR:35,CLOSE_SEXPR:36,hash:37,hash_repetition_plus0:38,hashSegment:39,ID:40,EQUALS:41,DATA:42,pathSegments:43,SEP:44,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"CONTENT",15:"COMMENT",16:"OPEN_BLOCK",18:"CLOSE",19:"OPEN_INVERSE",20:"OPEN_ENDBLOCK",22:"OPEN",23:"OPEN_UNESCAPED",24:"CLOSE_UNESCAPED",25:"OPEN_PARTIAL",32:"STRING",33:"INTEGER",34:"BOOLEAN",35:"OPEN_SEXPR",36:"CLOSE_SEXPR",40:"ID",41:"EQUALS",42:"DATA",44:"SEP"},productions_:[0,[3,2],[3,1],[6,2],[6,3],[6,2],[6,1],[6,1],[6,0],[4,1],[4,2],[8,3],[8,3],[8,1],[8,1],[8,1],[8,1],[11,3],[9,3],[10,3],[12,3],[12,3],[13,4],[7,2],[17,3],[17,1],[31,1],[31,1],[31,1],[31,1],[31,1],[31,3],[37,1],[39,3],[26,1],[26,1],[26,1],[30,2],[21,1],[43,3],[43,1],[27,0],[27,1],[28,0],[28,2],[29,0],[29,1],[38,1],[38,2]],performAction:function(b,c,d,e,f,g,h){var i=g.length-1;switch(f){case 1:return new e.ProgramNode(g[i-1],this._$);case 2:return new e.ProgramNode([],this._$);case 3:this.$=new e.ProgramNode([],g[i-1],g[i],this._$);break;case 4:this.$=new e.ProgramNode(g[i-2],g[i-1],g[i],this._$);break;case 5:this.$=new e.ProgramNode(g[i-1],g[i],[],this._$);break;case 6:this.$=new e.ProgramNode(g[i],this._$);break;case 7:this.$=new e.ProgramNode([],this._$);break;case 8:this.$=new e.ProgramNode([],this._$);break;case 9:this.$=[g[i]];break;case 10:g[i-1].push(g[i]),this.$=g[i-1];break;case 11:this.$=new e.BlockNode(g[i-2],g[i-1].inverse,g[i-1],g[i],this._$);break;case 12:this.$=new e.BlockNode(g[i-2],g[i-1],g[i-1].inverse,g[i],this._$);break;case 13:this.$=g[i];break;case 14:this.$=g[i];break;case 15:this.$=new e.ContentNode(g[i],this._$);break;case 16:this.$=new e.CommentNode(g[i],this._$);break;case 17:this.$=new e.MustacheNode(g[i-1],null,g[i-2],a(g[i-2],g[i]),this._$);break;case 18:this.$=new e.MustacheNode(g[i-1],null,g[i-2],a(g[i-2],g[i]),this._$);break;case 19:this.$={path:g[i-1],strip:a(g[i-2],g[i])};break;case 20:this.$=new e.MustacheNode(g[i-1],null,g[i-2],a(g[i-2],g[i]),this._$);break;case 21:this.$=new e.MustacheNode(g[i-1],null,g[i-2],a(g[i-2],g[i]),this._$);break;case 22:this.$=new e.PartialNode(g[i-2],g[i-1],a(g[i-3],g[i]),this._$);break;case 23:this.$=a(g[i-1],g[i]);break;case 24:this.$=new e.SexprNode([g[i-2]].concat(g[i-1]),g[i],this._$);break;case 25:this.$=new e.SexprNode([g[i]],null,this._$);break;case 26:this.$=g[i];break;case 27:this.$=new e.StringNode(g[i],this._$);break;case 28:this.$=new e.IntegerNode(g[i],this._$);break;case 29:this.$=new e.BooleanNode(g[i],this._$);break;case 30:this.$=g[i];break;case 31:g[i-1].isHelper=!0,this.$=g[i-1];break;case 32:this.$=new e.HashNode(g[i],this._$);break;case 33:this.$=[g[i-2],g[i]];break;case 34:this.$=new e.PartialNameNode(g[i],this._$);break;case 35:this.$=new e.PartialNameNode(new e.StringNode(g[i],this._$),this._$);break;case 36:this.$=new e.PartialNameNode(new e.IntegerNode(g[i],this._$));break;case 37:this.$=new e.DataNode(g[i],this._$);break;case 38:this.$=new e.IdNode(g[i],this._$);break;case 39:g[i-2].push({part:g[i],separator:g[i-1]}),this.$=g[i-2];break;case 40:this.$=[{part:g[i]}];break;case 43:this.$=[];break;case 44:g[i-1].push(g[i]);break;case 47:this.$=[g[i]];break;case 48:g[i-1].push(g[i])}},table:[{3:1,4:2,5:[1,3],8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],25:[1,15]},{1:[3]},{5:[1,16],8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],25:[1,15]},{1:[2,2]},{5:[2,9],14:[2,9],15:[2,9],16:[2,9],19:[2,9],20:[2,9],22:[2,9],23:[2,9],25:[2,9]},{4:20,6:18,7:19,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,8],22:[1,13],23:[1,14],25:[1,15]},{4:20,6:22,7:19,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,8],22:[1,13],23:[1,14],25:[1,15]},{5:[2,13],14:[2,13],15:[2,13],16:[2,13],19:[2,13],20:[2,13],22:[2,13],23:[2,13],25:[2,13]},{5:[2,14],14:[2,14],15:[2,14],16:[2,14],19:[2,14],20:[2,14],22:[2,14],23:[2,14],25:[2,14]},{5:[2,15],14:[2,15],15:[2,15],16:[2,15],19:[2,15],20:[2,15],22:[2,15],23:[2,15],25:[2,15]},{5:[2,16],14:[2,16],15:[2,16],16:[2,16],19:[2,16],20:[2,16],22:[2,16],23:[2,16],25:[2,16]},{17:23,21:24,30:25,40:[1,28],42:[1,27],43:26},{17:29,21:24,30:25,40:[1,28],42:[1,27],43:26},{17:30,21:24,30:25,40:[1,28],42:[1,27],43:26},{17:31,21:24,30:25,40:[1,28],42:[1,27],43:26},{21:33,26:32,32:[1,34],33:[1,35],40:[1,28],43:26},{1:[2,1]},{5:[2,10],14:[2,10],15:[2,10],16:[2,10],19:[2,10],20:[2,10],22:[2,10],23:[2,10],25:[2,10]},{10:36,20:[1,37]},{4:38,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,7],22:[1,13],23:[1,14],25:[1,15]},{7:39,8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,6],22:[1,13],23:[1,14],25:[1,15]},{17:23,18:[1,40],21:24,30:25,40:[1,28],42:[1,27],43:26},{10:41,20:[1,37]},{18:[1,42]},{18:[2,43],24:[2,43],28:43,32:[2,43],33:[2,43],34:[2,43],35:[2,43],36:[2,43],40:[2,43],42:[2,43]},{18:[2,25],24:[2,25],36:[2,25]},{18:[2,38],24:[2,38],32:[2,38],33:[2,38],34:[2,38],35:[2,38],36:[2,38],40:[2,38],42:[2,38],44:[1,44]},{21:45,40:[1,28],43:26},{18:[2,40],24:[2,40],32:[2,40],33:[2,40],34:[2,40],35:[2,40],36:[2,40],40:[2,40],42:[2,40],44:[2,40]},{18:[1,46]},{18:[1,47]},{24:[1,48]},{18:[2,41],21:50,27:49,40:[1,28],43:26},{18:[2,34],40:[2,34]},{18:[2,35],40:[2,35]},{18:[2,36],40:[2,36]},{5:[2,11],14:[2,11],15:[2,11],16:[2,11],19:[2,11],20:[2,11],22:[2,11],23:[2,11],25:[2,11]},{21:51,40:[1,28],43:26},{8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,3],22:[1,13],23:[1,14],25:[1,15]},{4:52,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,5],22:[1,13],23:[1,14],25:[1,15]},{14:[2,23],15:[2,23],16:[2,23],19:[2,23],20:[2,23],22:[2,23],23:[2,23],25:[2,23]},{5:[2,12],14:[2,12],15:[2,12],16:[2,12],19:[2,12],20:[2,12],22:[2,12],23:[2,12],25:[2,12]},{14:[2,18],15:[2,18],16:[2,18],19:[2,18],20:[2,18],22:[2,18],23:[2,18],25:[2,18]},{18:[2,45],21:56,24:[2,45],29:53,30:60,31:54,32:[1,57],33:[1,58],34:[1,59],35:[1,61],36:[2,45],37:55,38:62,39:63,40:[1,64],42:[1,27],43:26},{40:[1,65]},{18:[2,37],24:[2,37],32:[2,37],33:[2,37],34:[2,37],35:[2,37],36:[2,37],40:[2,37],42:[2,37]},{14:[2,17],15:[2,17],16:[2,17],19:[2,17],20:[2,17],22:[2,17],23:[2,17],25:[2,17]},{5:[2,20],14:[2,20],15:[2,20],16:[2,20],19:[2,20],20:[2,20],22:[2,20],23:[2,20],25:[2,20]},{5:[2,21],14:[2,21],15:[2,21],16:[2,21],19:[2,21],20:[2,21],22:[2,21],23:[2,21],25:[2,21]},{18:[1,66]},{18:[2,42]},{18:[1,67]},{8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,4],22:[1,13],23:[1,14],25:[1,15]},{18:[2,24],24:[2,24],36:[2,24]},{18:[2,44],24:[2,44],32:[2,44],33:[2,44],34:[2,44],35:[2,44],36:[2,44],40:[2,44],42:[2,44]},{18:[2,46],24:[2,46],36:[2,46]},{18:[2,26],24:[2,26],32:[2,26],33:[2,26],34:[2,26],35:[2,26],36:[2,26],40:[2,26],42:[2,26]},{18:[2,27],24:[2,27],32:[2,27],33:[2,27],34:[2,27],35:[2,27],36:[2,27],40:[2,27],42:[2,27]},{18:[2,28],24:[2,28],32:[2,28],33:[2,28],34:[2,28],35:[2,28],36:[2,28],40:[2,28],42:[2,28]},{18:[2,29],24:[2,29],32:[2,29],33:[2,29],34:[2,29],35:[2,29],36:[2,29],40:[2,29],42:[2,29]},{18:[2,30],24:[2,30],32:[2,30],33:[2,30],34:[2,30],35:[2,30],36:[2,30],40:[2,30],42:[2,30]},{17:68,21:24,30:25,40:[1,28],42:[1,27],43:26},{18:[2,32],24:[2,32],36:[2,32],39:69,40:[1,70]},{18:[2,47],24:[2,47],36:[2,47],40:[2,47]},{18:[2,40],24:[2,40],32:[2,40],33:[2,40],34:[2,40],35:[2,40],36:[2,40],40:[2,40],41:[1,71],42:[2,40],44:[2,40]},{18:[2,39],24:[2,39],32:[2,39],33:[2,39],34:[2,39],35:[2,39],36:[2,39],40:[2,39],42:[2,39],44:[2,39]},{5:[2,22],14:[2,22],15:[2,22],16:[2,22],19:[2,22],20:[2,22],22:[2,22],23:[2,22],25:[2,22]},{5:[2,19],14:[2,19],15:[2,19],16:[2,19],19:[2,19],20:[2,19],22:[2,19],23:[2,19],25:[2,19]},{36:[1,72]},{18:[2,48],24:[2,48],36:[2,48],40:[2,48]},{41:[1,71]},{21:56,30:60,31:73,32:[1,57],33:[1,58],34:[1,59],35:[1,61],40:[1,28],42:[1,27],43:26},{18:[2,31],24:[2,31],32:[2,31],33:[2,31],34:[2,31],35:[2,31],36:[2,31],40:[2,31],42:[2,31]},{18:[2,33],24:[2,33],36:[2,33],40:[2,33]}],defaultActions:{3:[2,2],16:[2,1],50:[2,42]},parseError:function(a,b){throw new Error(a)},parse:function(a){function b(){var a;return a=c.lexer.lex()||1,"number"!=typeof a&&(a=c.symbols_[a]||a),a}var c=this,d=[0],e=[null],f=[],g=this.table,h="",i=0,j=0,k=0;this.lexer.setInput(a),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,"undefined"==typeof this.lexer.yylloc&&(this.lexer.yylloc={});var l=this.lexer.yylloc;f.push(l);var m=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var n,o,p,q,r,s,t,u,v,w={};;){if(p=d[d.length-1],this.defaultActions[p]?q=this.defaultActions[p]:((null===n||"undefined"==typeof n)&&(n=b()),q=g[p]&&g[p][n]),"undefined"==typeof q||!q.length||!q[0]){var x="";if(!k){v=[];for(s in g[p])this.terminals_[s]&&s>2&&v.push("\'"+this.terminals_[s]+"\'");x=this.lexer.showPosition?"Parse error on line "+(i+1)+":\\n"+this.lexer.showPosition()+"\\nExpecting "+v.join(", ")+", got \'"+(this.terminals_[n]||n)+"\'":"Parse error on line "+(i+1)+": Unexpected "+(1==n?"end of input":"\'"+(this.terminals_[n]||n)+"\'"),this.parseError(x,{text:this.lexer.match,token:this.terminals_[n]||n,line:this.lexer.yylineno,loc:l,expected:v})}}if(q[0]instanceof Array&&q.length>1)throw new Error("Parse Error: multiple actions possible at state: "+p+", token: "+n);switch(q[0]){case 1:d.push(n),e.push(this.lexer.yytext),f.push(this.lexer.yylloc),d.push(q[1]),n=null,o?(n=o,o=null):(j=this.lexer.yyleng,h=this.lexer.yytext,i=this.lexer.yylineno,l=this.lexer.yylloc,k>0&&k--);break;case 2:if(t=this.productions_[q[1]][1],w.$=e[e.length-t],w._$={first_line:f[f.length-(t||1)].first_line,last_line:f[f.length-1].last_line,first_column:f[f.length-(t||1)].first_column,last_column:f[f.length-1].last_column},m&&(w._$.range=[f[f.length-(t||1)].range[0],f[f.length-1].range[1]]),r=this.performAction.call(w,h,j,i,this.yy,q[1],e,f),"undefined"!=typeof r)return r;t&&(d=d.slice(0,-1*t*2),e=e.slice(0,-1*t),f=f.slice(0,-1*t)),d.push(this.productions_[q[1]][0]),e.push(w.$),f.push(w._$),u=g[d[d.length-2]][d[d.length-1]],d.push(u);break;case 3:return!0}}return!0}},d=function(){var a={EOF:1,parseError:function(a,b){if(!this.yy.parser)throw new Error(a);this.yy.parser.parseError(a,b)},setInput:function(a){return this._input=a,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var a=this._input[0];this.yytext+=a,this.yyleng++,this.offset++,this.match+=a,this.matched+=a;var b=a.match(/(?:\\r\\n?|\\n).*/g);return b?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),a},unput:function(a){var b=a.length,c=a.split(/(?:\\r\\n?|\\n)/g);this._input=a+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-b-1),this.offset-=b;var d=this.match.split(/(?:\\r\\n?|\\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),c.length-1&&(this.yylineno-=c.length-1);var e=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:c?(c.length===d.length?this.yylloc.first_column:0)+d[d.length-c.length].length-c[0].length:this.yylloc.first_column-b},this.options.ranges&&(this.yylloc.range=[e[0],e[0]+this.yyleng-b]),this},more:function(){return this._more=!0,this},less:function(a){this.unput(this.match.slice(a))},pastInput:function(){var a=this.matched.substr(0,this.matched.length-this.match.length);return(a.length>20?"...":"")+a.substr(-20).replace(/\\n/g,"")},upcomingInput:function(){var a=this.match;return a.length<20&&(a+=this._input.substr(0,20-a.length)),(a.substr(0,20)+(a.length>20?"...":"")).replace(/\\n/g,"")},showPosition:function(){var a=this.pastInput(),b=new Array(a.length+1).join("-");return a+this.upcomingInput()+"\\n"+b+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var a,b,c,d,e;this._more||(this.yytext="",this.match="");for(var f=this._currentRules(),g=0;g<f.length&&(c=this._input.match(this.rules[f[g]]),!c||b&&!(c[0].length>b[0].length)||(b=c,d=g,this.options.flex));g++);return b?(e=b[0].match(/(?:\\r\\n?|\\n).*/g),e&&(this.yylineno+=e.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:e?e[e.length-1].length-e[e.length-1].match(/\\r?\\n?/)[0].length:this.yylloc.last_column+b[0].length},this.yytext+=b[0],this.match+=b[0],this.matches=b,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(b[0].length),this.matched+=b[0],a=this.performAction.call(this,this.yy,this,f[d],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),a?a:void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var a=this.next();return"undefined"!=typeof a?a:this.lex()},begin:function(a){this.conditionStack.push(a)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(a){this.begin(a)}};return a.options={},a.performAction=function(a,b,c,d){function e(a,c){return b.yytext=b.yytext.substr(a,b.yyleng-c)}switch(c){case 0:if("\\\\\\\\"===b.yytext.slice(-2)?(e(0,1),this.begin("mu")):"\\\\"===b.yytext.slice(-1)?(e(0,1),this.begin("emu")):this.begin("mu"),b.yytext)return 14;break;case 1:return 14;case 2:return this.popState(),14;case 3:return e(0,4),this.popState(),15;case 4:return 35;case 5:return 36;case 6:return 25;case 7:return 16;case 8:return 20;case 9:return 19;case 10:return 19;case 11:return 23;case 12:return 22;case 13:this.popState(),this.begin("com");break;case 14:return e(3,5),this.popState(),15;case 15:return 22;case 16:return 41;case 17:return 40;case 18:return 40;case 19:return 44;case 20:break;case 21:return this.popState(),24;case 22:return this.popState(),18;case 23:return b.yytext=e(1,2).replace(/\\\\"/g,\'"\'),32;case 24:return b.yytext=e(1,2).replace(/\\\\\'/g,"\'"),32;case 25:return 42;case 26:return 34;case 27:return 34;case 28:return 33;case 29:return 40;case 30:return b.yytext=e(1,2),40;case 31:return"INVALID";case 32:return 5}},a.rules=[/^(?:[^\\x00]*?(?=(\\{\\{)))/,/^(?:[^\\x00]+)/,/^(?:[^\\x00]{2,}?(?=(\\{\\{|\\\\\\{\\{|\\\\\\\\\\{\\{|$)))/,/^(?:[\\s\\S]*?--\\}\\})/,/^(?:\\()/,/^(?:\\))/,/^(?:\\{\\{(~)?>)/,/^(?:\\{\\{(~)?#)/,/^(?:\\{\\{(~)?\\/)/,/^(?:\\{\\{(~)?\\^)/,/^(?:\\{\\{(~)?\\s*else\\b)/,/^(?:\\{\\{(~)?\\{)/,/^(?:\\{\\{(~)?&)/,/^(?:\\{\\{!--)/,/^(?:\\{\\{![\\s\\S]*?\\}\\})/,/^(?:\\{\\{(~)?)/,/^(?:=)/,/^(?:\\.\\.)/,/^(?:\\.(?=([=~}\\s\\/.)])))/,/^(?:[\\/.])/,/^(?:\\s+)/,/^(?:\\}(~)?\\}\\})/,/^(?:(~)?\\}\\})/,/^(?:"(\\\\["]|[^"])*")/,/^(?:\'(\\\\[\']|[^\'])*\')/,/^(?:@)/,/^(?:true(?=([~}\\s)])))/,/^(?:false(?=([~}\\s)])))/,/^(?:-?[0-9]+(?=([~}\\s)])))/,/^(?:([^\\s!"#%-,\\.\\/;->@\\[-\\^`\\{-~]+(?=([=~}\\s\\/.)]))))/,/^(?:\\[[^\\]]*\\])/,/^(?:.)/,/^(?:$)/],a.conditions={mu:{rules:[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[3],inclusive:!1},INITIAL:{rules:[0,1,32],inclusive:!0}},a}();return c.lexer=d,b.prototype=c,c.Parser=b,new b}();return a=b}(),i=function(a,b){"use strict";function c(a){return a.constructor===f.ProgramNode?a:(e.yy=f,e.parse(a))}var d={},e=a,f=b;return d.parser=e,d.parse=c,d}(h,g),j=function(a){"use strict";function b(){}function c(a,b,c){if(null==a||"string"!=typeof a&&a.constructor!==c.AST.ProgramNode)throw new f("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+a);b=b||{},"data"in b||(b.data=!0);var d=c.parse(a),e=(new c.Compiler).compile(d,b);return(new c.JavaScriptCompiler).compile(e,b)}function d(a,b,c){function d(){var d=c.parse(a),e=(new c.Compiler).compile(d,b),f=(new c.JavaScriptCompiler).compile(e,b,void 0,!0);return c.template(f)}if(null==a||"string"!=typeof a&&a.constructor!==c.AST.ProgramNode)throw new f("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+a);b=b||{},"data"in b||(b.data=!0);var e;return function(a,b){return e||(e=d()),e.call(this,a,b)}}var e={},f=a;return e.Compiler=b,b.prototype={compiler:b,disassemble:function(){for(var a,b,c,d=this.opcodes,e=[],f=0,g=d.length;g>f;f++)if(a=d[f],"DECLARE"===a.opcode)e.push("DECLARE "+a.name+"="+a.value);else{b=[];for(var h=0;h<a.args.length;h++)c=a.args[h],"string"==typeof c&&(c=\'"\'+c.replace("\\n","\\\\n")+\'"\'),b.push(c);e.push(a.opcode+" "+b.join(" "))}return e.join("\\n")},equals:function(a){var b=this.opcodes.length;if(a.opcodes.length!==b)return!1;for(var c=0;b>c;c++){var d=this.opcodes[c],e=a.opcodes[c];if(d.opcode!==e.opcode||d.args.length!==e.args.length)return!1;for(var f=0;f<d.args.length;f++)if(d.args[f]!==e.args[f])return!1}if(b=this.children.length,a.children.length!==b)return!1;for(c=0;b>c;c++)if(!this.children[c].equals(a.children[c]))return!1;return!0},guid:0,compile:function(a,b){this.opcodes=[],this.children=[],this.depths={list:[]},this.options=b;var c=this.options.knownHelpers;if(this.options.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,"if":!0,unless:!0,"with":!0,log:!0},c)for(var d in c)this.options.knownHelpers[d]=c[d];return this.accept(a)},accept:function(a){var b,c=a.strip||{};return c.left&&this.opcode("strip"),b=this[a.type](a),c.right&&this.opcode("strip"),b},program:function(a){for(var b=a.statements,c=0,d=b.length;d>c;c++)this.accept(b[c]);return this.isSimple=1===d,this.depths.list=this.depths.list.sort(function(a,b){return a-b}),this},compileProgram:function(a){var b,c=(new this.compiler).compile(a,this.options),d=this.guid++;this.usePartial=this.usePartial||c.usePartial,this.children[d]=c;for(var e=0,f=c.depths.list.length;f>e;e++)b=c.depths.list[e],2>b||this.addDepth(b-1);return d},block:function(a){var b=a.mustache,c=a.program,d=a.inverse;c&&(c=this.compileProgram(c)),d&&(d=this.compileProgram(d));var e=b.sexpr,f=this.classifySexpr(e);"helper"===f?this.helperSexpr(e,c,d):"simple"===f?(this.simpleSexpr(e),this.opcode("pushProgram",c),this.opcode("pushProgram",d),this.opcode("emptyHash"),this.opcode("blockValue")):(this.ambiguousSexpr(e,c,d),this.opcode("pushProgram",c),this.opcode("pushProgram",d),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},hash:function(a){var b,c,d=a.pairs;this.opcode("pushHash");for(var e=0,f=d.length;f>e;e++)b=d[e],c=b[1],this.options.stringParams?(c.depth&&this.addDepth(c.depth),this.opcode("getContext",c.depth||0),this.opcode("pushStringParam",c.stringModeValue,c.type),"sexpr"===c.type&&this.sexpr(c)):this.accept(c),this.opcode("assignToHash",b[0]);this.opcode("popHash")},partial:function(a){var b=a.partialName;this.usePartial=!0,a.context?this.ID(a.context):this.opcode("push","depth0"),this.opcode("invokePartial",b.name),this.opcode("append")},content:function(a){this.opcode("appendContent",a.string)},mustache:function(a){this.sexpr(a.sexpr),a.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},ambiguousSexpr:function(a,b,c){var d=a.id,e=d.parts[0],f=null!=b||null!=c;this.opcode("getContext",d.depth),this.opcode("pushProgram",b),this.opcode("pushProgram",c),this.opcode("invokeAmbiguous",e,f)},simpleSexpr:function(a){var b=a.id;"DATA"===b.type?this.DATA(b):b.parts.length?this.ID(b):(this.addDepth(b.depth),this.opcode("getContext",b.depth),this.opcode("pushContext")),this.opcode("resolvePossibleLambda")},helperSexpr:function(a,b,c){var d=this.setupFullMustacheParams(a,b,c),e=a.id.parts[0];if(this.options.knownHelpers[e])this.opcode("invokeKnownHelper",d.length,e);else{if(this.options.knownHelpersOnly)throw new f("You specified knownHelpersOnly, but used the unknown helper "+e,a);this.opcode("invokeHelper",d.length,e,a.isRoot)}},sexpr:function(a){var b=this.classifySexpr(a);"simple"===b?this.simpleSexpr(a):"helper"===b?this.helperSexpr(a):this.ambiguousSexpr(a)},ID:function(a){this.addDepth(a.depth),this.opcode("getContext",a.depth);var b=a.parts[0];b?this.opcode("lookupOnContext",a.parts[0]):this.opcode("pushContext");for(var c=1,d=a.parts.length;d>c;c++)this.opcode("lookup",a.parts[c])},DATA:function(a){if(this.options.data=!0,a.id.isScoped||a.id.depth)throw new f("Scoped data references are not supported: "+a.original,a);this.opcode("lookupData");for(var b=a.id.parts,c=0,d=b.length;d>c;c++)this.opcode("lookup",b[c])},STRING:function(a){this.opcode("pushString",a.string)},INTEGER:function(a){this.opcode("pushLiteral",a.integer)},BOOLEAN:function(a){this.opcode("pushLiteral",a.bool)},comment:function(){},opcode:function(a){this.opcodes.push({opcode:a,args:[].slice.call(arguments,1)})},declare:function(a,b){this.opcodes.push({opcode:"DECLARE",name:a,value:b})},addDepth:function(a){0!==a&&(this.depths[a]||(this.depths[a]=!0,this.depths.list.push(a)))},classifySexpr:function(a){var b=a.isHelper,c=a.eligibleHelper,d=this.options;if(c&&!b){var e=a.id.parts[0];d.knownHelpers[e]?b=!0:d.knownHelpersOnly&&(c=!1)}return b?"helper":c?"ambiguous":"simple"},pushParams:function(a){for(var b,c=a.length;c--;)b=a[c],this.options.stringParams?(b.depth&&this.addDepth(b.depth),this.opcode("getContext",b.depth||0),this.opcode("pushStringParam",b.stringModeValue,b.type),"sexpr"===b.type&&this.sexpr(b)):this[b.type](b)},setupFullMustacheParams:function(a,b,c){var d=a.params;return this.pushParams(d),this.opcode("pushProgram",b),this.opcode("pushProgram",c),a.hash?this.hash(a.hash):this.opcode("emptyHash"),d}},e.precompile=c,e.compile=d,e}(c),k=function(a,b){"use strict";function c(a){this.value=a}function d(){}var e,f=a.COMPILER_REVISION,g=a.REVISION_CHANGES,h=a.log,i=b;d.prototype={nameLookup:function(a,b){var c,e;return 0===a.indexOf("depth")&&(c=!0),e=/^[0-9]+$/.test(b)?a+"["+b+"]":d.isValidJavaScriptVariableName(b)?a+"."+b:a+"[\'"+b+"\']",c?"("+a+" && "+e+")":e},compilerInfo:function(){var a=f,b=g[a];return"this.compilerInfo = ["+a+",\'"+b+"\'];\\n"},appendToBuffer:function(a){return this.environment.isSimple?"return "+a+";":{appendToBuffer:!0,content:a,toString:function(){return"buffer += "+a+";"}}},initializeBuffer:function(){return this.quotedString("")},namespace:"Handlebars",compile:function(a,b,c,d){this.environment=a,this.options=b||{},h("debug",this.environment.disassemble()+"\\n\\n"),this.name=this.environment.name,this.isChild=!!c,this.context=c||{programs:[],environments:[],aliases:{}},this.preamble(),this.stackSlot=0,this.stackVars=[],this.registers={list:[]\n},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.compileChildren(a,b);var e,f=a.opcodes;this.i=0;for(var g=f.length;this.i<g;this.i++)e=f[this.i],"DECLARE"===e.opcode?this[e.name]=e.value:this[e.opcode].apply(this,e.args),e.opcode!==this.stripNext&&(this.stripNext=!1);if(this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new i("Compile completed with content left on stack");return this.createFunctionContext(d)},preamble:function(){var a=[];if(this.isChild)a.push("");else{var b=this.namespace,c="helpers = this.merge(helpers, "+b+".helpers);";this.environment.usePartial&&(c=c+" partials = this.merge(partials, "+b+".partials);"),this.options.data&&(c+=" data = data || {};"),a.push(c)}this.environment.isSimple?a.push(""):a.push(", buffer = "+this.initializeBuffer()),this.lastContext=0,this.source=a},createFunctionContext:function(a){var b=this.stackVars.concat(this.registers.list);if(b.length>0&&(this.source[1]=this.source[1]+", "+b.join(", ")),!this.isChild)for(var c in this.context.aliases)this.context.aliases.hasOwnProperty(c)&&(this.source[1]=this.source[1]+", "+c+"="+this.context.aliases[c]);this.source[1]&&(this.source[1]="var "+this.source[1].substring(2)+";"),this.isChild||(this.source[1]+="\\n"+this.context.programs.join("\\n")+"\\n"),this.environment.isSimple||this.pushSource("return buffer;");for(var d=this.isChild?["depth0","data"]:["Handlebars","depth0","helpers","partials","data"],e=0,f=this.environment.depths.list.length;f>e;e++)d.push("depth"+this.environment.depths.list[e]);var g=this.mergeSource();if(this.isChild||(g=this.compilerInfo()+g),a)return d.push(g),Function.apply(this,d);var i="function "+(this.name||"")+"("+d.join(",")+") {\\n  "+g+"}";return h("debug",i+"\\n\\n"),i},mergeSource:function(){for(var a,b="",c=0,d=this.source.length;d>c;c++){var e=this.source[c];e.appendToBuffer?a=a?a+"\\n  + "+e.content:e.content:(a&&(b+="buffer += "+a+";\\n  ",a=void 0),b+=e+"\\n  ")}return b},blockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var a=["depth0"];this.setupParams(0,a),this.replaceStack(function(b){return a.splice(1,0,b),"blockHelperMissing.call("+a.join(", ")+")"})},ambiguousBlockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var a=["depth0"];this.setupParams(0,a);var b=this.topStack();a.splice(1,0,b),this.pushSource("if (!"+this.lastHelper+") { "+b+" = blockHelperMissing.call("+a.join(", ")+"); }")},appendContent:function(a){this.pendingContent&&(a=this.pendingContent+a),this.stripNext&&(a=a.replace(/^\\s+/,"")),this.pendingContent=a},strip:function(){this.pendingContent&&(this.pendingContent=this.pendingContent.replace(/\\s+$/,"")),this.stripNext="strip"},append:function(){this.flushInline();var a=this.popStack();this.pushSource("if("+a+" || "+a+" === 0) { "+this.appendToBuffer(a)+" }"),this.environment.isSimple&&this.pushSource("else { "+this.appendToBuffer("\'\'")+" }")},appendEscaped:function(){this.context.aliases.escapeExpression="this.escapeExpression",this.pushSource(this.appendToBuffer("escapeExpression("+this.popStack()+")"))},getContext:function(a){this.lastContext!==a&&(this.lastContext=a)},lookupOnContext:function(a){this.push(this.nameLookup("depth"+this.lastContext,a,"context"))},pushContext:function(){this.pushStackLiteral("depth"+this.lastContext)},resolvePossibleLambda:function(){this.context.aliases.functionType=\'"function"\',this.replaceStack(function(a){return"typeof "+a+" === functionType ? "+a+".apply(depth0) : "+a})},lookup:function(a){this.replaceStack(function(b){return b+" == null || "+b+" === false ? "+b+" : "+this.nameLookup(b,a,"context")})},lookupData:function(){this.pushStackLiteral("data")},pushStringParam:function(a,b){this.pushStackLiteral("depth"+this.lastContext),this.pushString(b),"sexpr"!==b&&("string"==typeof a?this.pushString(a):this.pushStackLiteral(a))},emptyHash:function(){this.pushStackLiteral("{}"),this.options.stringParams&&(this.push("{}"),this.push("{}"))},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:[],types:[],contexts:[]}},popHash:function(){var a=this.hash;this.hash=this.hashes.pop(),this.options.stringParams&&(this.push("{"+a.contexts.join(",")+"}"),this.push("{"+a.types.join(",")+"}")),this.push("{\\n  "+a.values.join(",\\n  ")+"\\n  }")},pushString:function(a){this.pushStackLiteral(this.quotedString(a))},push:function(a){return this.inlineStack.push(a),a},pushLiteral:function(a){this.pushStackLiteral(a)},pushProgram:function(a){null!=a?this.pushStackLiteral(this.programExpression(a)):this.pushStackLiteral(null)},invokeHelper:function(a,b,c){this.context.aliases.helperMissing="helpers.helperMissing",this.useRegister("helper");var d=this.lastHelper=this.setupHelper(a,b,!0),e=this.nameLookup("depth"+this.lastContext,b,"context"),f="helper = "+d.name+" || "+e;d.paramsInit&&(f+=","+d.paramsInit),this.push("("+f+",helper ? helper.call("+d.callParams+") : helperMissing.call("+d.helperMissingParams+"))"),c||this.flushInline()},invokeKnownHelper:function(a,b){var c=this.setupHelper(a,b);this.push(c.name+".call("+c.callParams+")")},invokeAmbiguous:function(a,b){this.context.aliases.functionType=\'"function"\',this.useRegister("helper"),this.emptyHash();var c=this.setupHelper(0,a,b),d=this.lastHelper=this.nameLookup("helpers",a,"helper"),e=this.nameLookup("depth"+this.lastContext,a,"context"),f=this.nextStack();c.paramsInit&&this.pushSource(c.paramsInit),this.pushSource("if (helper = "+d+") { "+f+" = helper.call("+c.callParams+"); }"),this.pushSource("else { helper = "+e+"; "+f+" = typeof helper === functionType ? helper.call("+c.callParams+") : helper; }")},invokePartial:function(a){var b=[this.nameLookup("partials",a,"partial"),"\'"+a+"\'",this.popStack(),"helpers","partials"];this.options.data&&b.push("data"),this.context.aliases.self="this",this.push("self.invokePartial("+b.join(", ")+")")},assignToHash:function(a){var b,c,d=this.popStack();this.options.stringParams&&(c=this.popStack(),b=this.popStack());var e=this.hash;b&&e.contexts.push("\'"+a+"\': "+b),c&&e.types.push("\'"+a+"\': "+c),e.values.push("\'"+a+"\': ("+d+")")},compiler:d,compileChildren:function(a,b){for(var c,d,e=a.children,f=0,g=e.length;g>f;f++){c=e[f],d=new this.compiler;var h=this.matchExistingProgram(c);null==h?(this.context.programs.push(""),h=this.context.programs.length,c.index=h,c.name="program"+h,this.context.programs[h]=d.compile(c,b,this.context),this.context.environments[h]=c):(c.index=h,c.name="program"+h)}},matchExistingProgram:function(a){for(var b=0,c=this.context.environments.length;c>b;b++){var d=this.context.environments[b];if(d&&d.equals(a))return b}},programExpression:function(a){if(this.context.aliases.self="this",null==a)return"self.noop";for(var b,c=this.environment.children[a],d=c.depths.list,e=[c.index,c.name,"data"],f=0,g=d.length;g>f;f++)b=d[f],1===b?e.push("depth0"):e.push("depth"+(b-1));return(0===d.length?"self.program(":"self.programWithDepth(")+e.join(", ")+")"},register:function(a,b){this.useRegister(a),this.pushSource(a+" = "+b+";")},useRegister:function(a){this.registers[a]||(this.registers[a]=!0,this.registers.list.push(a))},pushStackLiteral:function(a){return this.push(new c(a))},pushSource:function(a){this.pendingContent&&(this.source.push(this.appendToBuffer(this.quotedString(this.pendingContent))),this.pendingContent=void 0),a&&this.source.push(a)},pushStack:function(a){this.flushInline();var b=this.incrStack();return a&&this.pushSource(b+" = "+a+";"),this.compileStack.push(b),b},replaceStack:function(a){var b,d,e,f="",g=this.isInline();if(g){var h=this.popStack(!0);if(h instanceof c)b=h.value,e=!0;else{d=!this.stackSlot;var i=d?this.incrStack():this.topStackName();f="("+this.push(i)+" = "+h+"),",b=this.topStack()}}else b=this.topStack();var j=a.call(this,b);return g?(e||this.popStack(),d&&this.stackSlot--,this.push("("+f+j+")")):(/^stack/.test(b)||(b=this.nextStack()),this.pushSource(b+" = ("+f+j+");")),b},nextStack:function(){return this.pushStack()},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var a=this.inlineStack;if(a.length){this.inlineStack=[];for(var b=0,d=a.length;d>b;b++){var e=a[b];e instanceof c?this.compileStack.push(e):this.pushStack(e)}}},isInline:function(){return this.inlineStack.length},popStack:function(a){var b=this.isInline(),d=(b?this.inlineStack:this.compileStack).pop();if(!a&&d instanceof c)return d.value;if(!b){if(!this.stackSlot)throw new i("Invalid stack pop");this.stackSlot--}return d},topStack:function(a){var b=this.isInline()?this.inlineStack:this.compileStack,d=b[b.length-1];return!a&&d instanceof c?d.value:d},quotedString:function(a){return\'"\'+a.replace(/\\\\/g,"\\\\\\\\").replace(/"/g,\'\\\\"\').replace(/\\n/g,"\\\\n").replace(/\\r/g,"\\\\r").replace(/\\u2028/g,"\\\\u2028").replace(/\\u2029/g,"\\\\u2029")+\'"\'},setupHelper:function(a,b,c){var d=[],e=this.setupParams(a,d,c),f=this.nameLookup("helpers",b,"helper");return{params:d,paramsInit:e,name:f,callParams:["depth0"].concat(d).join(", "),helperMissingParams:c&&["depth0",this.quotedString(b)].concat(d).join(", ")}},setupOptions:function(a,b){var c,d,e,f=[],g=[],h=[];f.push("hash:"+this.popStack()),this.options.stringParams&&(f.push("hashTypes:"+this.popStack()),f.push("hashContexts:"+this.popStack())),d=this.popStack(),e=this.popStack(),(e||d)&&(e||(this.context.aliases.self="this",e="self.noop"),d||(this.context.aliases.self="this",d="self.noop"),f.push("inverse:"+d),f.push("fn:"+e));for(var i=0;a>i;i++)c=this.popStack(),b.push(c),this.options.stringParams&&(h.push(this.popStack()),g.push(this.popStack()));return this.options.stringParams&&(f.push("contexts:["+g.join(",")+"]"),f.push("types:["+h.join(",")+"]")),this.options.data&&f.push("data:data"),f},setupParams:function(a,b,c){var d="{"+this.setupOptions(a,b).join(",")+"}";return c?(this.useRegister("options"),b.push("options"),"options="+d):(b.push(d),"")}};for(var j="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield".split(" "),k=d.RESERVED_WORDS={},l=0,m=j.length;m>l;l++)k[j[l]]=!0;return d.isValidJavaScriptVariableName=function(a){return!d.RESERVED_WORDS[a]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(a)?!0:!1},e=d}(d,c),l=function(a,b,c,d,e){"use strict";var f,g=a,h=b,i=c.parser,j=c.parse,k=d.Compiler,l=d.compile,m=d.precompile,n=e,o=g.create,p=function(){var a=o();return a.compile=function(b,c){return l(b,c,a)},a.precompile=function(b,c){return m(b,c,a)},a.AST=h,a.Compiler=k,a.JavaScriptCompiler=n,a.Parser=i,a.parse=j,a};return g=p(),g.create=p,f=g}(f,g,i,j,k);return l}();'},function(e,t,n){n(3)(n(52))},function(e,t){e.exports="// Backbone.js 1.3.3\n\n// (c) 2010-2016 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n// Backbone may be freely distributed under the MIT license.\n// For all details and documentation:\n// http://backbonejs.org\n\n(function(factory) {\n\n  // Establish the root object, `window` (`self`) in the browser, or `global` on the server.\n  // We use `self` instead of `window` for `WebWorker` support.\n  var root = (typeof self == 'object' && self.self === self && self) ||\n  (typeof global == 'object' && global.global === global && global);\n\n  // Set up Backbone appropriately for the environment. Start with AMD.\n  if (typeof define === 'function' && define.amd) {\n  define(['underscore', 'jquery', 'exports'], function(_, $, exports) {\n  // Export global even in AMD case in case this script is loaded with\n  // others that may still expect a global Backbone.\n  root.Backbone = factory(root, exports, _, $);\n  });\n\n  // Next for Node.js or CommonJS. jQuery may not be needed as a module.\n  } else if (typeof exports !== 'undefined') {\n  var _ = require('underscore'), $;\n  try { $ = require('jquery'); } catch (e) {}\n  factory(root, exports, _, $);\n\n  // Finally, as a browser global.\n  } else {\n  root.Backbone = factory(root, {}, root._, (root.jQuery || root.Zepto || root.ender || root.$));\n  }\n\n})(function(root, Backbone, _, $) {\n\n  // Initial Setup\n  // -------------\n\n  // Save the previous value of the `Backbone` variable, so that it can be\n  // restored later on, if `noConflict` is used.\n  var previousBackbone = root.Backbone;\n\n  // Create a local reference to a common array method we'll want to use later.\n  var slice = Array.prototype.slice;\n\n  // Current version of the library. Keep in sync with `package.json`.\n  Backbone.VERSION = '1.3.3';\n\n  // For Backbone's purposes, jQuery, Zepto, Ender, or My Library (kidding) owns\n  // the `$` variable.\n  Backbone.$ = $;\n\n  // Runs Backbone.js in *noConflict* mode, returning the `Backbone` variable\n  // to its previous owner. Returns a reference to this Backbone object.\n  Backbone.noConflict = function() {\n  root.Backbone = previousBackbone;\n  return this;\n  };\n\n  // Turn on `emulateHTTP` to support legacy HTTP servers. Setting this option\n  // will fake `\"PATCH\"`, `\"PUT\"` and `\"DELETE\"` requests via the `_method` parameter and\n  // set a `X-Http-Method-Override` header.\n  Backbone.emulateHTTP = false;\n\n  // Turn on `emulateJSON` to support legacy servers that can't deal with direct\n  // `application/json` requests ... this will encode the body as\n  // `application/x-www-form-urlencoded` instead and will send the model in a\n  // form param named `model`.\n  Backbone.emulateJSON = false;\n\n  // Proxy Backbone class methods to Underscore functions, wrapping the model's\n  // `attributes` object or collection's `models` array behind the scenes.\n  //\n  // collection.filter(function(model) { return model.get('age') > 10 });\n  // collection.each(this.addView);\n  //\n  // `Function#apply` can be slow so we use the method's arg count, if we know it.\n  var addMethod = function(length, method, attribute) {\n  switch (length) {\n  case 1: return function() {\n  return _[method](this[attribute]);\n  };\n  case 2: return function(value) {\n  return _[method](this[attribute], value);\n  };\n  case 3: return function(iteratee, context) {\n  return _[method](this[attribute], cb(iteratee, this), context);\n  };\n  case 4: return function(iteratee, defaultVal, context) {\n  return _[method](this[attribute], cb(iteratee, this), defaultVal, context);\n  };\n  default: return function() {\n  var args = slice.call(arguments);\n  args.unshift(this[attribute]);\n  return _[method].apply(_, args);\n  };\n  }\n  };\n  var addUnderscoreMethods = function(Class, methods, attribute) {\n  _.each(methods, function(length, method) {\n  if (_[method]) Class.prototype[method] = addMethod(length, method, attribute);\n  });\n  };\n\n  // Support `collection.sortBy('attr')` and `collection.findWhere({id: 1})`.\n  var cb = function(iteratee, instance) {\n  if (_.isFunction(iteratee)) return iteratee;\n  if (_.isObject(iteratee) && !instance._isModel(iteratee)) return modelMatcher(iteratee);\n  if (_.isString(iteratee)) return function(model) { return model.get(iteratee); };\n  return iteratee;\n  };\n  var modelMatcher = function(attrs) {\n  var matcher = _.matches(attrs);\n  return function(model) {\n  return matcher(model.attributes);\n  };\n  };\n\n  // Backbone.Events\n  // ---------------\n\n  // A module that can be mixed in to *any object* in order to provide it with\n  // a custom event channel. You may bind a callback to an event with `on` or\n  // remove with `off`; `trigger`-ing an event fires all callbacks in\n  // succession.\n  //\n  // var object = {};\n  // _.extend(object, Backbone.Events);\n  // object.on('expand', function(){ alert('expanded'); });\n  // object.trigger('expand');\n  //\n  var Events = Backbone.Events = {};\n\n  // Regular expression used to split event strings.\n  var eventSplitter = /\\s+/;\n\n  // Iterates over the standard `event, callback` (as well as the fancy multiple\n  // space-separated events `\"change blur\", callback` and jQuery-style event\n  // maps `{event: callback}`).\n  var eventsApi = function(iteratee, events, name, callback, opts) {\n  var i = 0, names;\n  if (name && typeof name === 'object') {\n  // Handle event maps.\n  if (callback !== void 0 && 'context' in opts && opts.context === void 0) opts.context = callback;\n  for (names = _.keys(name); i < names.length ; i++) {\n  events = eventsApi(iteratee, events, names[i], name[names[i]], opts);\n  }\n  } else if (name && eventSplitter.test(name)) {\n  // Handle space-separated event names by delegating them individually.\n  for (names = name.split(eventSplitter); i < names.length; i++) {\n  events = iteratee(events, names[i], callback, opts);\n  }\n  } else {\n  // Finally, standard events.\n  events = iteratee(events, name, callback, opts);\n  }\n  return events;\n  };\n\n  // Bind an event to a `callback` function. Passing `\"all\"` will bind\n  // the callback to all events fired.\n  Events.on = function(name, callback, context) {\n  return internalOn(this, name, callback, context);\n  };\n\n  // Guard the `listening` argument from the public API.\n  var internalOn = function(obj, name, callback, context, listening) {\n  obj._events = eventsApi(onApi, obj._events || {}, name, callback, {\n  context: context,\n  ctx: obj,\n  listening: listening\n  });\n\n  if (listening) {\n  var listeners = obj._listeners || (obj._listeners = {});\n  listeners[listening.id] = listening;\n  }\n\n  return obj;\n  };\n\n  // Inversion-of-control versions of `on`. Tell *this* object to listen to\n  // an event in another object... keeping track of what it's listening to\n  // for easier unbinding later.\n  Events.listenTo = function(obj, name, callback) {\n  if (!obj) return this;\n  var id = obj._listenId || (obj._listenId = _.uniqueId('l'));\n  var listeningTo = this._listeningTo || (this._listeningTo = {});\n  var listening = listeningTo[id];\n\n  // This object is not listening to any other events on `obj` yet.\n  // Setup the necessary references to track the listening callbacks.\n  if (!listening) {\n  var thisId = this._listenId || (this._listenId = _.uniqueId('l'));\n  listening = listeningTo[id] = {obj: obj, objId: id, id: thisId, listeningTo: listeningTo, count: 0};\n  }\n\n  // Bind callbacks on obj, and keep track of them on listening.\n  internalOn(obj, name, callback, this, listening);\n  return this;\n  };\n\n  // The reducing API that adds a callback to the `events` object.\n  var onApi = function(events, name, callback, options) {\n  if (callback) {\n  var handlers = events[name] || (events[name] = []);\n  var context = options.context, ctx = options.ctx, listening = options.listening;\n  if (listening) listening.count++;\n\n  handlers.push({callback: callback, context: context, ctx: context || ctx, listening: listening});\n  }\n  return events;\n  };\n\n  // Remove one or many callbacks. If `context` is null, removes all\n  // callbacks with that function. If `callback` is null, removes all\n  // callbacks for the event. If `name` is null, removes all bound\n  // callbacks for all events.\n  Events.off = function(name, callback, context) {\n  if (!this._events) return this;\n  this._events = eventsApi(offApi, this._events, name, callback, {\n  context: context,\n  listeners: this._listeners\n  });\n  return this;\n  };\n\n  // Tell this object to stop listening to either specific events ... or\n  // to every object it's currently listening to.\n  Events.stopListening = function(obj, name, callback) {\n  var listeningTo = this._listeningTo;\n  if (!listeningTo) return this;\n\n  var ids = obj ? [obj._listenId] : _.keys(listeningTo);\n\n  for (var i = 0; i < ids.length; i++) {\n  var listening = listeningTo[ids[i]];\n\n  // If listening doesn't exist, this object is not currently\n  // listening to obj. Break out early.\n  if (!listening) break;\n\n  listening.obj.off(name, callback, this);\n  }\n\n  return this;\n  };\n\n  // The reducing API that removes a callback from the `events` object.\n  var offApi = function(events, name, callback, options) {\n  if (!events) return;\n\n  var i = 0, listening;\n  var context = options.context, listeners = options.listeners;\n\n  // Delete all events listeners and \"drop\" events.\n  if (!name && !callback && !context) {\n  var ids = _.keys(listeners);\n  for (; i < ids.length; i++) {\n  listening = listeners[ids[i]];\n  delete listeners[listening.id];\n  delete listening.listeningTo[listening.objId];\n  }\n  return;\n  }\n\n  var names = name ? [name] : _.keys(events);\n  for (; i < names.length; i++) {\n  name = names[i];\n  var handlers = events[name];\n\n  // Bail out if there are no events stored.\n  if (!handlers) break;\n\n  // Replace events if there are any remaining.  Otherwise, clean up.\n  var remaining = [];\n  for (var j = 0; j < handlers.length; j++) {\n  var handler = handlers[j];\n  if (\n  callback && callback !== handler.callback &&\n  callback !== handler.callback._callback ||\n  context && context !== handler.context\n  ) {\n  remaining.push(handler);\n  } else {\n  listening = handler.listening;\n  if (listening && --listening.count === 0) {\n  delete listeners[listening.id];\n  delete listening.listeningTo[listening.objId];\n  }\n  }\n  }\n\n  // Update tail event if the list has any events.  Otherwise, clean up.\n  if (remaining.length) {\n  events[name] = remaining;\n  } else {\n  delete events[name];\n  }\n  }\n  return events;\n  };\n\n  // Bind an event to only be triggered a single time. After the first time\n  // the callback is invoked, its listener will be removed. If multiple events\n  // are passed in using the space-separated syntax, the handler will fire\n  // once for each event, not once for a combination of all events.\n  Events.once = function(name, callback, context) {\n  // Map the event into a `{event: once}` object.\n  var events = eventsApi(onceMap, {}, name, callback, _.bind(this.off, this));\n  if (typeof name === 'string' && context == null) callback = void 0;\n  return this.on(events, callback, context);\n  };\n\n  // Inversion-of-control versions of `once`.\n  Events.listenToOnce = function(obj, name, callback) {\n  // Map the event into a `{event: once}` object.\n  var events = eventsApi(onceMap, {}, name, callback, _.bind(this.stopListening, this, obj));\n  return this.listenTo(obj, events);\n  };\n\n  // Reduces the event callbacks into a map of `{event: onceWrapper}`.\n  // `offer` unbinds the `onceWrapper` after it has been called.\n  var onceMap = function(map, name, callback, offer) {\n  if (callback) {\n  var once = map[name] = _.once(function() {\n  offer(name, once);\n  callback.apply(this, arguments);\n  });\n  once._callback = callback;\n  }\n  return map;\n  };\n\n  // Trigger one or many events, firing all bound callbacks. Callbacks are\n  // passed the same arguments as `trigger` is, apart from the event name\n  // (unless you're listening on `\"all\"`, which will cause your callback to\n  // receive the true name of the event as the first argument).\n  Events.trigger = function(name) {\n  if (!this._events) return this;\n\n  var length = Math.max(0, arguments.length - 1);\n  var args = Array(length);\n  for (var i = 0; i < length; i++) args[i] = arguments[i + 1];\n\n  eventsApi(triggerApi, this._events, name, void 0, args);\n  return this;\n  };\n\n  // Handles triggering the appropriate event callbacks.\n  var triggerApi = function(objEvents, name, callback, args) {\n  if (objEvents) {\n  var events = objEvents[name];\n  var allEvents = objEvents.all;\n  if (events && allEvents) allEvents = allEvents.slice();\n  if (events) triggerEvents(events, args);\n  if (allEvents) triggerEvents(allEvents, [name].concat(args));\n  }\n  return objEvents;\n  };\n\n  // A difficult-to-believe, but optimized internal dispatch function for\n  // triggering events. Tries to keep the usual cases speedy (most internal\n  // Backbone events have 3 arguments).\n  var triggerEvents = function(events, args) {\n  var ev, i = -1, l = events.length, a1 = args[0], a2 = args[1], a3 = args[2];\n  switch (args.length) {\n  case 0: while (++i < l) (ev = events[i]).callback.call(ev.ctx); return;\n  case 1: while (++i < l) (ev = events[i]).callback.call(ev.ctx, a1); return;\n  case 2: while (++i < l) (ev = events[i]).callback.call(ev.ctx, a1, a2); return;\n  case 3: while (++i < l) (ev = events[i]).callback.call(ev.ctx, a1, a2, a3); return;\n  default: while (++i < l) (ev = events[i]).callback.apply(ev.ctx, args); return;\n  }\n  };\n\n  // Aliases for backwards compatibility.\n  Events.bind = Events.on;\n  Events.unbind = Events.off;\n\n  // Allow the `Backbone` object to serve as a global event bus, for folks who\n  // want global \"pubsub\" in a convenient place.\n  _.extend(Backbone, Events);\n\n  // Backbone.Model\n  // --------------\n\n  // Backbone **Models** are the basic data object in the framework --\n  // frequently representing a row in a table in a database on your server.\n  // A discrete chunk of data and a bunch of useful, related methods for\n  // performing computations and transformations on that data.\n\n  // Create a new model with the specified attributes. A client id (`cid`)\n  // is automatically generated and assigned for you.\n  var Model = Backbone.Model = function(attributes, options) {\n  var attrs = attributes || {};\n  options || (options = {});\n  this.cid = _.uniqueId(this.cidPrefix);\n  this.attributes = {};\n  if (options.collection) this.collection = options.collection;\n  if (options.parse) attrs = this.parse(attrs, options) || {};\n  var defaults = _.result(this, 'defaults');\n  attrs = _.defaults(_.extend({}, defaults, attrs), defaults);\n  this.set(attrs, options);\n  this.changed = {};\n  this.initialize.apply(this, arguments);\n  };\n\n  // Attach all inheritable methods to the Model prototype.\n  _.extend(Model.prototype, Events, {\n\n  // A hash of attributes whose current and previous value differ.\n  changed: null,\n\n  // The value returned during the last failed validation.\n  validationError: null,\n\n  // The default name for the JSON `id` attribute is `\"id\"`. MongoDB and\n  // CouchDB users may want to set this to `\"_id\"`.\n  idAttribute: 'id',\n\n  // The prefix is used to create the client id which is used to identify models locally.\n  // You may want to override this if you're experiencing name clashes with model ids.\n  cidPrefix: 'c',\n\n  // Initialize is an empty function by default. Override it with your own\n  // initialization logic.\n  initialize: function(){},\n\n  // Return a copy of the model's `attributes` object.\n  toJSON: function(options) {\n  return _.clone(this.attributes);\n  },\n\n  // Proxy `Backbone.sync` by default -- but override this if you need\n  // custom syncing semantics for *this* particular model.\n  sync: function() {\n  return Backbone.sync.apply(this, arguments);\n  },\n\n  // Get the value of an attribute.\n  get: function(attr) {\n  return this.attributes[attr];\n  },\n\n  // Get the HTML-escaped value of an attribute.\n  escape: function(attr) {\n  return _.escape(this.get(attr));\n  },\n\n  // Returns `true` if the attribute contains a value that is not null\n  // or undefined.\n  has: function(attr) {\n  return this.get(attr) != null;\n  },\n\n  // Special-cased proxy to underscore's `_.matches` method.\n  matches: function(attrs) {\n  return !!_.iteratee(attrs, this)(this.attributes);\n  },\n\n  // Set a hash of model attributes on the object, firing `\"change\"`. This is\n  // the core primitive operation of a model, updating the data and notifying\n  // anyone who needs to know about the change in state. The heart of the beast.\n  set: function(key, val, options) {\n  if (key == null) return this;\n\n  // Handle both `\"key\", value` and `{key: value}` -style arguments.\n  var attrs;\n  if (typeof key === 'object') {\n  attrs = key;\n  options = val;\n  } else {\n  (attrs = {})[key] = val;\n  }\n\n  options || (options = {});\n\n  // Run validation.\n  if (!this._validate(attrs, options)) return false;\n\n  // Extract attributes and options.\n  var unset  = options.unset;\n  var silent = options.silent;\n  var changes  = [];\n  var changing = this._changing;\n  this._changing = true;\n\n  if (!changing) {\n  this._previousAttributes = _.clone(this.attributes);\n  this.changed = {};\n  }\n\n  var current = this.attributes;\n  var changed = this.changed;\n  var prev  = this._previousAttributes;\n\n  // For each `set` attribute, update or delete the current value.\n  for (var attr in attrs) {\n  val = attrs[attr];\n  if (!_.isEqual(current[attr], val)) changes.push(attr);\n  if (!_.isEqual(prev[attr], val)) {\n  changed[attr] = val;\n  } else {\n  delete changed[attr];\n  }\n  unset ? delete current[attr] : current[attr] = val;\n  }\n\n  // Update the `id`.\n  if (this.idAttribute in attrs) this.id = this.get(this.idAttribute);\n\n  // Trigger all relevant attribute changes.\n  if (!silent) {\n  if (changes.length) this._pending = options;\n  for (var i = 0; i < changes.length; i++) {\n  this.trigger('change:' + changes[i], this, current[changes[i]], options);\n  }\n  }\n\n  // You might be wondering why there's a `while` loop here. Changes can\n  // be recursively nested within `\"change\"` events.\n  if (changing) return this;\n  if (!silent) {\n  while (this._pending) {\n  options = this._pending;\n  this._pending = false;\n  this.trigger('change', this, options);\n  }\n  }\n  this._pending = false;\n  this._changing = false;\n  return this;\n  },\n\n  // Remove an attribute from the model, firing `\"change\"`. `unset` is a noop\n  // if the attribute doesn't exist.\n  unset: function(attr, options) {\n  return this.set(attr, void 0, _.extend({}, options, {unset: true}));\n  },\n\n  // Clear all attributes on the model, firing `\"change\"`.\n  clear: function(options) {\n  var attrs = {};\n  for (var key in this.attributes) attrs[key] = void 0;\n  return this.set(attrs, _.extend({}, options, {unset: true}));\n  },\n\n  // Determine if the model has changed since the last `\"change\"` event.\n  // If you specify an attribute name, determine if that attribute has changed.\n  hasChanged: function(attr) {\n  if (attr == null) return !_.isEmpty(this.changed);\n  return _.has(this.changed, attr);\n  },\n\n  // Return an object containing all the attributes that have changed, or\n  // false if there are no changed attributes. Useful for determining what\n  // parts of a view need to be updated and/or what attributes need to be\n  // persisted to the server. Unset attributes will be set to undefined.\n  // You can also pass an attributes object to diff against the model,\n  // determining if there *would be* a change.\n  changedAttributes: function(diff) {\n  if (!diff) return this.hasChanged() ? _.clone(this.changed) : false;\n  var old = this._changing ? this._previousAttributes : this.attributes;\n  var changed = {};\n  for (var attr in diff) {\n  var val = diff[attr];\n  if (_.isEqual(old[attr], val)) continue;\n  changed[attr] = val;\n  }\n  return _.size(changed) ? changed : false;\n  },\n\n  // Get the previous value of an attribute, recorded at the time the last\n  // `\"change\"` event was fired.\n  previous: function(attr) {\n  if (attr == null || !this._previousAttributes) return null;\n  return this._previousAttributes[attr];\n  },\n\n  // Get all of the attributes of the model at the time of the previous\n  // `\"change\"` event.\n  previousAttributes: function() {\n  return _.clone(this._previousAttributes);\n  },\n\n  // Fetch the model from the server, merging the response with the model's\n  // local attributes. Any changed attributes will trigger a \"change\" event.\n  fetch: function(options) {\n  options = _.extend({parse: true}, options);\n  var model = this;\n  var success = options.success;\n  options.success = function(resp) {\n  var serverAttrs = options.parse ? model.parse(resp, options) : resp;\n  if (!model.set(serverAttrs, options)) return false;\n  if (success) success.call(options.context, model, resp, options);\n  model.trigger('sync', model, resp, options);\n  };\n  wrapError(this, options);\n  return this.sync('read', this, options);\n  },\n\n  // Set a hash of model attributes, and sync the model to the server.\n  // If the server returns an attributes hash that differs, the model's\n  // state will be `set` again.\n  save: function(key, val, options) {\n  // Handle both `\"key\", value` and `{key: value}` -style arguments.\n  var attrs;\n  if (key == null || typeof key === 'object') {\n  attrs = key;\n  options = val;\n  } else {\n  (attrs = {})[key] = val;\n  }\n\n  options = _.extend({validate: true, parse: true}, options);\n  var wait = options.wait;\n\n  // If we're not waiting and attributes exist, save acts as\n  // `set(attr).save(null, opts)` with validation. Otherwise, check if\n  // the model will be valid when the attributes, if any, are set.\n  if (attrs && !wait) {\n  if (!this.set(attrs, options)) return false;\n  } else if (!this._validate(attrs, options)) {\n  return false;\n  }\n\n  // After a successful server-side save, the client is (optionally)\n  // updated with the server-side state.\n  var model = this;\n  var success = options.success;\n  var attributes = this.attributes;\n  options.success = function(resp) {\n  // Ensure attributes are restored during synchronous saves.\n  model.attributes = attributes;\n  var serverAttrs = options.parse ? model.parse(resp, options) : resp;\n  if (wait) serverAttrs = _.extend({}, attrs, serverAttrs);\n  if (serverAttrs && !model.set(serverAttrs, options)) return false;\n  if (success) success.call(options.context, model, resp, options);\n  model.trigger('sync', model, resp, options);\n  };\n  wrapError(this, options);\n\n  // Set temporary attributes if `{wait: true}` to properly find new ids.\n  if (attrs && wait) this.attributes = _.extend({}, attributes, attrs);\n\n  var method = this.isNew() ? 'create' : (options.patch ? 'patch' : 'update');\n  if (method === 'patch' && !options.attrs) options.attrs = attrs;\n  var xhr = this.sync(method, this, options);\n\n  // Restore attributes.\n  this.attributes = attributes;\n\n  return xhr;\n  },\n\n  // Destroy this model on the server if it was already persisted.\n  // Optimistically removes the model from its collection, if it has one.\n  // If `wait: true` is passed, waits for the server to respond before removal.\n  destroy: function(options) {\n  options = options ? _.clone(options) : {};\n  var model = this;\n  var success = options.success;\n  var wait = options.wait;\n\n  var destroy = function() {\n  model.stopListening();\n  model.trigger('destroy', model, model.collection, options);\n  };\n\n  options.success = function(resp) {\n  if (wait) destroy();\n  if (success) success.call(options.context, model, resp, options);\n  if (!model.isNew()) model.trigger('sync', model, resp, options);\n  };\n\n  var xhr = false;\n  if (this.isNew()) {\n  _.defer(options.success);\n  } else {\n  wrapError(this, options);\n  xhr = this.sync('delete', this, options);\n  }\n  if (!wait) destroy();\n  return xhr;\n  },\n\n  // Default URL for the model's representation on the server -- if you're\n  // using Backbone's restful methods, override this to change the endpoint\n  // that will be called.\n  url: function() {\n  var base =\n  _.result(this, 'urlRoot') ||\n  _.result(this.collection, 'url') ||\n  urlError();\n  if (this.isNew()) return base;\n  var id = this.get(this.idAttribute);\n  return base.replace(/[^\\/]$/, '$&/') + encodeURIComponent(id);\n  },\n\n  // **parse** converts a response into the hash of attributes to be `set` on\n  // the model. The default implementation is just to pass the response along.\n  parse: function(resp, options) {\n  return resp;\n  },\n\n  // Create a new model with identical attributes to this one.\n  clone: function() {\n  return new this.constructor(this.attributes);\n  },\n\n  // A model is new if it has never been saved to the server, and lacks an id.\n  isNew: function() {\n  return !this.has(this.idAttribute);\n  },\n\n  // Check if the model is currently in a valid state.\n  isValid: function(options) {\n  return this._validate({}, _.extend({}, options, {validate: true}));\n  },\n\n  // Run validation against the next complete set of model attributes,\n  // returning `true` if all is well. Otherwise, fire an `\"invalid\"` event.\n  _validate: function(attrs, options) {\n  if (!options.validate || !this.validate) return true;\n  attrs = _.extend({}, this.attributes, attrs);\n  var error = this.validationError = this.validate(attrs, options) || null;\n  if (!error) return true;\n  this.trigger('invalid', this, error, _.extend(options, {validationError: error}));\n  return false;\n  }\n\n  });\n\n  // Underscore methods that we want to implement on the Model, mapped to the\n  // number of arguments they take.\n  var modelMethods = {keys: 1, values: 1, pairs: 1, invert: 1, pick: 0,\n  omit: 0, chain: 1, isEmpty: 1};\n\n  // Mix in each Underscore method as a proxy to `Model#attributes`.\n  addUnderscoreMethods(Model, modelMethods, 'attributes');\n\n  // Backbone.Collection\n  // -------------------\n\n  // If models tend to represent a single row of data, a Backbone Collection is\n  // more analogous to a table full of data ... or a small slice or page of that\n  // table, or a collection of rows that belong together for a particular reason\n  // -- all of the messages in this particular folder, all of the documents\n  // belonging to this particular author, and so on. Collections maintain\n  // indexes of their models, both in order, and for lookup by `id`.\n\n  // Create a new **Collection**, perhaps to contain a specific type of `model`.\n  // If a `comparator` is specified, the Collection will maintain\n  // its models in sort order, as they're added and removed.\n  var Collection = Backbone.Collection = function(models, options) {\n  options || (options = {});\n  if (options.model) this.model = options.model;\n  if (options.comparator !== void 0) this.comparator = options.comparator;\n  this._reset();\n  this.initialize.apply(this, arguments);\n  if (models) this.reset(models, _.extend({silent: true}, options));\n  };\n\n  // Default options for `Collection#set`.\n  var setOptions = {add: true, remove: true, merge: true};\n  var addOptions = {add: true, remove: false};\n\n  // Splices `insert` into `array` at index `at`.\n  var splice = function(array, insert, at) {\n  at = Math.min(Math.max(at, 0), array.length);\n  var tail = Array(array.length - at);\n  var length = insert.length;\n  var i;\n  for (i = 0; i < tail.length; i++) tail[i] = array[i + at];\n  for (i = 0; i < length; i++) array[i + at] = insert[i];\n  for (i = 0; i < tail.length; i++) array[i + length + at] = tail[i];\n  };\n\n  // Define the Collection's inheritable methods.\n  _.extend(Collection.prototype, Events, {\n\n  // The default model for a collection is just a **Backbone.Model**.\n  // This should be overridden in most cases.\n  model: Model,\n\n  // Initialize is an empty function by default. Override it with your own\n  // initialization logic.\n  initialize: function(){},\n\n  // The JSON representation of a Collection is an array of the\n  // models' attributes.\n  toJSON: function(options) {\n  return this.map(function(model) { return model.toJSON(options); });\n  },\n\n  // Proxy `Backbone.sync` by default.\n  sync: function() {\n  return Backbone.sync.apply(this, arguments);\n  },\n\n  // Add a model, or list of models to the set. `models` may be Backbone\n  // Models or raw JavaScript objects to be converted to Models, or any\n  // combination of the two.\n  add: function(models, options) {\n  return this.set(models, _.extend({merge: false}, options, addOptions));\n  },\n\n  // Remove a model, or a list of models from the set.\n  remove: function(models, options) {\n  options = _.extend({}, options);\n  var singular = !_.isArray(models);\n  models = singular ? [models] : models.slice();\n  var removed = this._removeModels(models, options);\n  if (!options.silent && removed.length) {\n  options.changes = {added: [], merged: [], removed: removed};\n  this.trigger('update', this, options);\n  }\n  return singular ? removed[0] : removed;\n  },\n\n  // Update a collection by `set`-ing a new list of models, adding new ones,\n  // removing models that are no longer present, and merging models that\n  // already exist in the collection, as necessary. Similar to **Model#set**,\n  // the core operation for updating the data contained by the collection.\n  set: function(models, options) {\n  if (models == null) return;\n\n  options = _.extend({}, setOptions, options);\n  if (options.parse && !this._isModel(models)) {\n  models = this.parse(models, options) || [];\n  }\n\n  var singular = !_.isArray(models);\n  models = singular ? [models] : models.slice();\n\n  var at = options.at;\n  if (at != null) at = +at;\n  if (at > this.length) at = this.length;\n  if (at < 0) at += this.length + 1;\n\n  var set = [];\n  var toAdd = [];\n  var toMerge = [];\n  var toRemove = [];\n  var modelMap = {};\n\n  var add = options.add;\n  var merge = options.merge;\n  var remove = options.remove;\n\n  var sort = false;\n  var sortable = this.comparator && at == null && options.sort !== false;\n  var sortAttr = _.isString(this.comparator) ? this.comparator : null;\n\n  // Turn bare objects into model references, and prevent invalid models\n  // from being added.\n  var model, i;\n  for (i = 0; i < models.length; i++) {\n  model = models[i];\n\n  // If a duplicate is found, prevent it from being added and\n  // optionally merge it into the existing model.\n  var existing = this.get(model);\n  if (existing) {\n  if (merge && model !== existing) {\n  var attrs = this._isModel(model) ? model.attributes : model;\n  if (options.parse) attrs = existing.parse(attrs, options);\n  existing.set(attrs, options);\n  toMerge.push(existing);\n  if (sortable && !sort) sort = existing.hasChanged(sortAttr);\n  }\n  if (!modelMap[existing.cid]) {\n  modelMap[existing.cid] = true;\n  set.push(existing);\n  }\n  models[i] = existing;\n\n  // If this is a new, valid model, push it to the `toAdd` list.\n  } else if (add) {\n  model = models[i] = this._prepareModel(model, options);\n  if (model) {\n  toAdd.push(model);\n  this._addReference(model, options);\n  modelMap[model.cid] = true;\n  set.push(model);\n  }\n  }\n  }\n\n  // Remove stale models.\n  if (remove) {\n  for (i = 0; i < this.length; i++) {\n  model = this.models[i];\n  if (!modelMap[model.cid]) toRemove.push(model);\n  }\n  if (toRemove.length) this._removeModels(toRemove, options);\n  }\n\n  // See if sorting is needed, update `length` and splice in new models.\n  var orderChanged = false;\n  var replace = !sortable && add && remove;\n  if (set.length && replace) {\n  orderChanged = this.length !== set.length || _.some(this.models, function(m, index) {\n  return m !== set[index];\n  });\n  this.models.length = 0;\n  splice(this.models, set, 0);\n  this.length = this.models.length;\n  } else if (toAdd.length) {\n  if (sortable) sort = true;\n  splice(this.models, toAdd, at == null ? this.length : at);\n  this.length = this.models.length;\n  }\n\n  // Silently sort the collection if appropriate.\n  if (sort) this.sort({silent: true});\n\n  // Unless silenced, it's time to fire all appropriate add/sort/update events.\n  if (!options.silent) {\n  for (i = 0; i < toAdd.length; i++) {\n  if (at != null) options.index = at + i;\n  model = toAdd[i];\n  model.trigger('add', model, this, options);\n  }\n  if (sort || orderChanged) this.trigger('sort', this, options);\n  if (toAdd.length || toRemove.length || toMerge.length) {\n  options.changes = {\n  added: toAdd,\n  removed: toRemove,\n  merged: toMerge\n  };\n  this.trigger('update', this, options);\n  }\n  }\n\n  // Return the added (or merged) model (or models).\n  return singular ? models[0] : models;\n  },\n\n  // When you have more items than you want to add or remove individually,\n  // you can reset the entire set with a new list of models, without firing\n  // any granular `add` or `remove` events. Fires `reset` when finished.\n  // Useful for bulk operations and optimizations.\n  reset: function(models, options) {\n  options = options ? _.clone(options) : {};\n  for (var i = 0; i < this.models.length; i++) {\n  this._removeReference(this.models[i], options);\n  }\n  options.previousModels = this.models;\n  this._reset();\n  models = this.add(models, _.extend({silent: true}, options));\n  if (!options.silent) this.trigger('reset', this, options);\n  return models;\n  },\n\n  // Add a model to the end of the collection.\n  push: function(model, options) {\n  return this.add(model, _.extend({at: this.length}, options));\n  },\n\n  // Remove a model from the end of the collection.\n  pop: function(options) {\n  var model = this.at(this.length - 1);\n  return this.remove(model, options);\n  },\n\n  // Add a model to the beginning of the collection.\n  unshift: function(model, options) {\n  return this.add(model, _.extend({at: 0}, options));\n  },\n\n  // Remove a model from the beginning of the collection.\n  shift: function(options) {\n  var model = this.at(0);\n  return this.remove(model, options);\n  },\n\n  // Slice out a sub-array of models from the collection.\n  slice: function() {\n  return slice.apply(this.models, arguments);\n  },\n\n  // Get a model from the set by id, cid, model object with id or cid\n  // properties, or an attributes object that is transformed through modelId.\n  get: function(obj) {\n  if (obj == null) return void 0;\n  return this._byId[obj] ||\n  this._byId[this.modelId(obj.attributes || obj)] ||\n  obj.cid && this._byId[obj.cid];\n  },\n\n  // Returns `true` if the model is in the collection.\n  has: function(obj) {\n  return this.get(obj) != null;\n  },\n\n  // Get the model at the given index.\n  at: function(index) {\n  if (index < 0) index += this.length;\n  return this.models[index];\n  },\n\n  // Return models with matching attributes. Useful for simple cases of\n  // `filter`.\n  where: function(attrs, first) {\n  return this[first ? 'find' : 'filter'](attrs);\n  },\n\n  // Return the first model with matching attributes. Useful for simple cases\n  // of `find`.\n  findWhere: function(attrs) {\n  return this.where(attrs, true);\n  },\n\n  // Force the collection to re-sort itself. You don't need to call this under\n  // normal circumstances, as the set will maintain sort order as each item\n  // is added.\n  sort: function(options) {\n  var comparator = this.comparator;\n  if (!comparator) throw new Error('Cannot sort a set without a comparator');\n  options || (options = {});\n\n  var length = comparator.length;\n  if (_.isFunction(comparator)) comparator = _.bind(comparator, this);\n\n  // Run sort based on type of `comparator`.\n  if (length === 1 || _.isString(comparator)) {\n  this.models = this.sortBy(comparator);\n  } else {\n  this.models.sort(comparator);\n  }\n  if (!options.silent) this.trigger('sort', this, options);\n  return this;\n  },\n\n  // Pluck an attribute from each model in the collection.\n  pluck: function(attr) {\n  return this.map(attr + '');\n  },\n\n  // Fetch the default set of models for this collection, resetting the\n  // collection when they arrive. If `reset: true` is passed, the response\n  // data will be passed through the `reset` method instead of `set`.\n  fetch: function(options) {\n  options = _.extend({parse: true}, options);\n  var success = options.success;\n  var collection = this;\n  options.success = function(resp) {\n  var method = options.reset ? 'reset' : 'set';\n  collection[method](resp, options);\n  if (success) success.call(options.context, collection, resp, options);\n  collection.trigger('sync', collection, resp, options);\n  };\n  wrapError(this, options);\n  return this.sync('read', this, options);\n  },\n\n  // Create a new instance of a model in this collection. Add the model to the\n  // collection immediately, unless `wait: true` is passed, in which case we\n  // wait for the server to agree.\n  create: function(model, options) {\n  options = options ? _.clone(options) : {};\n  var wait = options.wait;\n  model = this._prepareModel(model, options);\n  if (!model) return false;\n  if (!wait) this.add(model, options);\n  var collection = this;\n  var success = options.success;\n  options.success = function(m, resp, callbackOpts) {\n  if (wait) collection.add(m, callbackOpts);\n  if (success) success.call(callbackOpts.context, m, resp, callbackOpts);\n  };\n  model.save(null, options);\n  return model;\n  },\n\n  // **parse** converts a response into a list of models to be added to the\n  // collection. The default implementation is just to pass it through.\n  parse: function(resp, options) {\n  return resp;\n  },\n\n  // Create a new collection with an identical list of models as this one.\n  clone: function() {\n  return new this.constructor(this.models, {\n  model: this.model,\n  comparator: this.comparator\n  });\n  },\n\n  // Define how to uniquely identify models in the collection.\n  modelId: function(attrs) {\n  return attrs[this.model.prototype.idAttribute || 'id'];\n  },\n\n  // Private method to reset all internal state. Called when the collection\n  // is first initialized or reset.\n  _reset: function() {\n  this.length = 0;\n  this.models = [];\n  this._byId  = {};\n  },\n\n  // Prepare a hash of attributes (or other model) to be added to this\n  // collection.\n  _prepareModel: function(attrs, options) {\n  if (this._isModel(attrs)) {\n  if (!attrs.collection) attrs.collection = this;\n  return attrs;\n  }\n  options = options ? _.clone(options) : {};\n  options.collection = this;\n  var model = new this.model(attrs, options);\n  if (!model.validationError) return model;\n  this.trigger('invalid', this, model.validationError, options);\n  return false;\n  },\n\n  // Internal method called by both remove and set.\n  _removeModels: function(models, options) {\n  var removed = [];\n  for (var i = 0; i < models.length; i++) {\n  var model = this.get(models[i]);\n  if (!model) continue;\n\n  var index = this.indexOf(model);\n  this.models.splice(index, 1);\n  this.length--;\n\n  // Remove references before triggering 'remove' event to prevent an\n  // infinite loop. #3693\n  delete this._byId[model.cid];\n  var id = this.modelId(model.attributes);\n  if (id != null) delete this._byId[id];\n\n  if (!options.silent) {\n  options.index = index;\n  model.trigger('remove', model, this, options);\n  }\n\n  removed.push(model);\n  this._removeReference(model, options);\n  }\n  return removed;\n  },\n\n  // Method for checking whether an object should be considered a model for\n  // the purposes of adding to the collection.\n  _isModel: function(model) {\n  return model instanceof Model;\n  },\n\n  // Internal method to create a model's ties to a collection.\n  _addReference: function(model, options) {\n  this._byId[model.cid] = model;\n  var id = this.modelId(model.attributes);\n  if (id != null) this._byId[id] = model;\n  model.on('all', this._onModelEvent, this);\n  },\n\n  // Internal method to sever a model's ties to a collection.\n  _removeReference: function(model, options) {\n  delete this._byId[model.cid];\n  var id = this.modelId(model.attributes);\n  if (id != null) delete this._byId[id];\n  if (this === model.collection) delete model.collection;\n  model.off('all', this._onModelEvent, this);\n  },\n\n  // Internal method called every time a model in the set fires an event.\n  // Sets need to update their indexes when models change ids. All other\n  // events simply proxy through. \"add\" and \"remove\" events that originate\n  // in other collections are ignored.\n  _onModelEvent: function(event, model, collection, options) {\n  if (model) {\n  if ((event === 'add' || event === 'remove') && collection !== this) return;\n  if (event === 'destroy') this.remove(model, options);\n  if (event === 'change') {\n  var prevId = this.modelId(model.previousAttributes());\n  var id = this.modelId(model.attributes);\n  if (prevId !== id) {\n  if (prevId != null) delete this._byId[prevId];\n  if (id != null) this._byId[id] = model;\n  }\n  }\n  }\n  this.trigger.apply(this, arguments);\n  }\n\n  });\n\n  // Underscore methods that we want to implement on the Collection.\n  // 90% of the core usefulness of Backbone Collections is actually implemented\n  // right here:\n  var collectionMethods = {forEach: 3, each: 3, map: 3, collect: 3, reduce: 0,\n  foldl: 0, inject: 0, reduceRight: 0, foldr: 0, find: 3, detect: 3, filter: 3,\n  select: 3, reject: 3, every: 3, all: 3, some: 3, any: 3, include: 3, includes: 3,\n  contains: 3, invoke: 0, max: 3, min: 3, toArray: 1, size: 1, first: 3,\n  head: 3, take: 3, initial: 3, rest: 3, tail: 3, drop: 3, last: 3,\n  without: 0, difference: 0, indexOf: 3, shuffle: 1, lastIndexOf: 3,\n  isEmpty: 1, chain: 1, sample: 3, partition: 3, groupBy: 3, countBy: 3,\n  sortBy: 3, indexBy: 3, findIndex: 3, findLastIndex: 3};\n\n  // Mix in each Underscore method as a proxy to `Collection#models`.\n  addUnderscoreMethods(Collection, collectionMethods, 'models');\n\n  // Backbone.View\n  // -------------\n\n  // Backbone Views are almost more convention than they are actual code. A View\n  // is simply a JavaScript object that represents a logical chunk of UI in the\n  // DOM. This might be a single item, an entire list, a sidebar or panel, or\n  // even the surrounding frame which wraps your whole app. Defining a chunk of\n  // UI as a **View** allows you to define your DOM events declaratively, without\n  // having to worry about render order ... and makes it easy for the view to\n  // react to specific changes in the state of your models.\n\n  // Creating a Backbone.View creates its initial element outside of the DOM,\n  // if an existing element is not provided...\n  var View = Backbone.View = function(options) {\n  this.cid = _.uniqueId('view');\n  _.extend(this, _.pick(options, viewOptions));\n  this._ensureElement();\n  this.initialize.apply(this, arguments);\n  };\n\n  // Cached regex to split keys for `delegate`.\n  var delegateEventSplitter = /^(\\S+)\\s*(.*)$/;\n\n  // List of view options to be set as properties.\n  var viewOptions = ['model', 'collection', 'el', 'id', 'attributes', 'className', 'tagName', 'events'];\n\n  // Set up all inheritable **Backbone.View** properties and methods.\n  _.extend(View.prototype, Events, {\n\n  // The default `tagName` of a View's element is `\"div\"`.\n  tagName: 'div',\n\n  // jQuery delegate for element lookup, scoped to DOM elements within the\n  // current view. This should be preferred to global lookups where possible.\n  $: function(selector) {\n  return this.$el.find(selector);\n  },\n\n  // Initialize is an empty function by default. Override it with your own\n  // initialization logic.\n  initialize: function(){},\n\n  // **render** is the core function that your view should override, in order\n  // to populate its element (`this.el`), with the appropriate HTML. The\n  // convention is for **render** to always return `this`.\n  render: function() {\n  return this;\n  },\n\n  // Remove this view by taking the element out of the DOM, and removing any\n  // applicable Backbone.Events listeners.\n  remove: function() {\n  this._removeElement();\n  this.stopListening();\n  return this;\n  },\n\n  // Remove this view's element from the document and all event listeners\n  // attached to it. Exposed for subclasses using an alternative DOM\n  // manipulation API.\n  _removeElement: function() {\n  this.$el.remove();\n  },\n\n  // Change the view's element (`this.el` property) and re-delegate the\n  // view's events on the new element.\n  setElement: function(element) {\n  this.undelegateEvents();\n  this._setElement(element);\n  this.delegateEvents();\n  return this;\n  },\n\n  // Creates the `this.el` and `this.$el` references for this view using the\n  // given `el`. `el` can be a CSS selector or an HTML string, a jQuery\n  // context or an element. Subclasses can override this to utilize an\n  // alternative DOM manipulation API and are only required to set the\n  // `this.el` property.\n  _setElement: function(el) {\n  this.$el = el instanceof Backbone.$ ? el : Backbone.$(el);\n  this.el = this.$el[0];\n  },\n\n  // Set callbacks, where `this.events` is a hash of\n  //\n  // *{\"event selector\": \"callback\"}*\n  //\n  // {\n  // 'mousedown .title':  'edit',\n  // 'click .button': 'save',\n  // 'click .open': function(e) { ... }\n  // }\n  //\n  // pairs. Callbacks will be bound to the view, with `this` set properly.\n  // Uses event delegation for efficiency.\n  // Omitting the selector binds the event to `this.el`.\n  delegateEvents: function(events) {\n  events || (events = _.result(this, 'events'));\n  if (!events) return this;\n  this.undelegateEvents();\n  for (var key in events) {\n  var method = events[key];\n  if (!_.isFunction(method)) method = this[method];\n  if (!method) continue;\n  var match = key.match(delegateEventSplitter);\n  this.delegate(match[1], match[2], _.bind(method, this));\n  }\n  return this;\n  },\n\n  // Add a single event listener to the view's element (or a child element\n  // using `selector`). This only works for delegate-able events: not `focus`,\n  // `blur`, and not `change`, `submit`, and `reset` in Internet Explorer.\n  delegate: function(eventName, selector, listener) {\n  this.$el.on(eventName + '.delegateEvents' + this.cid, selector, listener);\n  return this;\n  },\n\n  // Clears all callbacks previously bound to the view by `delegateEvents`.\n  // You usually don't need to use this, but may wish to if you have multiple\n  // Backbone views attached to the same DOM element.\n  undelegateEvents: function() {\n  if (this.$el) this.$el.off('.delegateEvents' + this.cid);\n  return this;\n  },\n\n  // A finer-grained `undelegateEvents` for removing a single delegated event.\n  // `selector` and `listener` are both optional.\n  undelegate: function(eventName, selector, listener) {\n  this.$el.off(eventName + '.delegateEvents' + this.cid, selector, listener);\n  return this;\n  },\n\n  // Produces a DOM element to be assigned to your view. Exposed for\n  // subclasses using an alternative DOM manipulation API.\n  _createElement: function(tagName) {\n  return document.createElement(tagName);\n  },\n\n  // Ensure that the View has a DOM element to render into.\n  // If `this.el` is a string, pass it through `$()`, take the first\n  // matching element, and re-assign it to `el`. Otherwise, create\n  // an element from the `id`, `className` and `tagName` properties.\n  _ensureElement: function() {\n  if (!this.el) {\n  var attrs = _.extend({}, _.result(this, 'attributes'));\n  if (this.id) attrs.id = _.result(this, 'id');\n  if (this.className) attrs['class'] = _.result(this, 'className');\n  this.setElement(this._createElement(_.result(this, 'tagName')));\n  this._setAttributes(attrs);\n  } else {\n  this.setElement(_.result(this, 'el'));\n  }\n  },\n\n  // Set attributes from a hash on this view's element.  Exposed for\n  // subclasses using an alternative DOM manipulation API.\n  _setAttributes: function(attributes) {\n  this.$el.attr(attributes);\n  }\n\n  });\n\n  // Backbone.sync\n  // -------------\n\n  // Override this function to change the manner in which Backbone persists\n  // models to the server. You will be passed the type of request, and the\n  // model in question. By default, makes a RESTful Ajax request\n  // to the model's `url()`. Some possible customizations could be:\n  //\n  // * Use `setTimeout` to batch rapid-fire updates into a single request.\n  // * Send up the models as XML instead of JSON.\n  // * Persist models via WebSockets instead of Ajax.\n  //\n  // Turn on `Backbone.emulateHTTP` in order to send `PUT` and `DELETE` requests\n  // as `POST`, with a `_method` parameter containing the true HTTP method,\n  // as well as all requests with the body as `application/x-www-form-urlencoded`\n  // instead of `application/json` with the model in a param named `model`.\n  // Useful when interfacing with server-side languages like **PHP** that make\n  // it difficult to read the body of `PUT` requests.\n  Backbone.sync = function(method, model, options) {\n  var type = methodMap[method];\n\n  // Default options, unless specified.\n  _.defaults(options || (options = {}), {\n  emulateHTTP: Backbone.emulateHTTP,\n  emulateJSON: Backbone.emulateJSON\n  });\n\n  // Default JSON-request options.\n  var params = {type: type, dataType: 'json'};\n\n  // Ensure that we have a URL.\n  if (!options.url) {\n  params.url = _.result(model, 'url') || urlError();\n  }\n\n  // Ensure that we have the appropriate request data.\n  if (options.data == null && model && (method === 'create' || method === 'update' || method === 'patch')) {\n  params.contentType = 'application/json';\n  params.data = JSON.stringify(options.attrs || model.toJSON(options));\n  }\n\n  // For older servers, emulate JSON by encoding the request into an HTML-form.\n  if (options.emulateJSON) {\n  params.contentType = 'application/x-www-form-urlencoded';\n  params.data = params.data ? {model: params.data} : {};\n  }\n\n  // For older servers, emulate HTTP by mimicking the HTTP method with `_method`\n  // And an `X-HTTP-Method-Override` header.\n  if (options.emulateHTTP && (type === 'PUT' || type === 'DELETE' || type === 'PATCH')) {\n  params.type = 'POST';\n  if (options.emulateJSON) params.data._method = type;\n  var beforeSend = options.beforeSend;\n  options.beforeSend = function(xhr) {\n  xhr.setRequestHeader('X-HTTP-Method-Override', type);\n  if (beforeSend) return beforeSend.apply(this, arguments);\n  };\n  }\n\n  // Don't process data on a non-GET request.\n  if (params.type !== 'GET' && !options.emulateJSON) {\n  params.processData = false;\n  }\n\n  // Pass along `textStatus` and `errorThrown` from jQuery.\n  var error = options.error;\n  options.error = function(xhr, textStatus, errorThrown) {\n  options.textStatus = textStatus;\n  options.errorThrown = errorThrown;\n  if (error) error.call(options.context, xhr, textStatus, errorThrown);\n  };\n\n  // Make the request, allowing the user to override any Ajax options.\n  var xhr = options.xhr = Backbone.ajax(_.extend(params, options));\n  model.trigger('request', model, xhr, options);\n  return xhr;\n  };\n\n  // Map from CRUD to HTTP for our default `Backbone.sync` implementation.\n  var methodMap = {\n  'create': 'POST',\n  'update': 'PUT',\n  'patch': 'PATCH',\n  'delete': 'DELETE',\n  'read': 'GET'\n  };\n\n  // Set the default implementation of `Backbone.ajax` to proxy through to `$`.\n  // Override this if you'd like to use a different library.\n  Backbone.ajax = function() {\n  return Backbone.$.ajax.apply(Backbone.$, arguments);\n  };\n\n  // Backbone.Router\n  // ---------------\n\n  // Routers map faux-URLs to actions, and fire events when routes are\n  // matched. Creating a new one sets its `routes` hash, if not set statically.\n  var Router = Backbone.Router = function(options) {\n  options || (options = {});\n  if (options.routes) this.routes = options.routes;\n  this._bindRoutes();\n  this.initialize.apply(this, arguments);\n  };\n\n  // Cached regular expressions for matching named param parts and splatted\n  // parts of route strings.\n  var optionalParam = /\\((.*?)\\)/g;\n  var namedParam  = /(\\(\\?)?:\\w+/g;\n  var splatParam  = /\\*\\w+/g;\n  var escapeRegExp  = /[\\-{}\\[\\]+?.,\\\\\\^$|#\\s]/g;\n\n  // Set up all inheritable **Backbone.Router** properties and methods.\n  _.extend(Router.prototype, Events, {\n\n  // Initialize is an empty function by default. Override it with your own\n  // initialization logic.\n  initialize: function(){},\n\n  // Manually bind a single named route to a callback. For example:\n  //\n  // this.route('search/:query/p:num', 'search', function(query, num) {\n  // ...\n  // });\n  //\n  route: function(route, name, callback) {\n  if (!_.isRegExp(route)) route = this._routeToRegExp(route);\n  if (_.isFunction(name)) {\n  callback = name;\n  name = '';\n  }\n  if (!callback) callback = this[name];\n  var router = this;\n  Backbone.history.route(route, function(fragment) {\n  var args = router._extractParameters(route, fragment);\n  if (router.execute(callback, args, name) !== false) {\n  router.trigger.apply(router, ['route:' + name].concat(args));\n  router.trigger('route', name, args);\n  Backbone.history.trigger('route', router, name, args);\n  }\n  });\n  return this;\n  },\n\n  // Execute a route handler with the provided parameters.  This is an\n  // excellent place to do pre-route setup or post-route cleanup.\n  execute: function(callback, args, name) {\n  if (callback) callback.apply(this, args);\n  },\n\n  // Simple proxy to `Backbone.history` to save a fragment into the history.\n  navigate: function(fragment, options) {\n  Backbone.history.navigate(fragment, options);\n  return this;\n  },\n\n  // Bind all defined routes to `Backbone.history`. We have to reverse the\n  // order of the routes here to support behavior where the most general\n  // routes can be defined at the bottom of the route map.\n  _bindRoutes: function() {\n  if (!this.routes) return;\n  this.routes = _.result(this, 'routes');\n  var route, routes = _.keys(this.routes);\n  while ((route = routes.pop()) != null) {\n  this.route(route, this.routes[route]);\n  }\n  },\n\n  // Convert a route string into a regular expression, suitable for matching\n  // against the current location hash.\n  _routeToRegExp: function(route) {\n  route = route.replace(escapeRegExp, '\\\\$&')\n .replace(optionalParam, '(?:$1)?')\n .replace(namedParam, function(match, optional) {\n return optional ? match : '([^/?]+)';\n })\n .replace(splatParam, '([^?]*?)');\n  return new RegExp('^' + route + '(?:\\\\?([\\\\s\\\\S]*))?$');\n  },\n\n  // Given a route, and a URL fragment that it matches, return the array of\n  // extracted decoded parameters. Empty or unmatched parameters will be\n  // treated as `null` to normalize cross-browser behavior.\n  _extractParameters: function(route, fragment) {\n  var params = route.exec(fragment).slice(1);\n  return _.map(params, function(param, i) {\n  // Don't decode the search params.\n  if (i === params.length - 1) return param || null;\n  return param ? decodeURIComponent(param) : null;\n  });\n  }\n\n  });\n\n  // Backbone.History\n  // ----------------\n\n  // Handles cross-browser history management, based on either\n  // [pushState](http://diveintohtml5.info/history.html) and real URLs, or\n  // [onhashchange](https://developer.mozilla.org/en-US/docs/DOM/window.onhashchange)\n  // and URL fragments. If the browser supports neither (old IE, natch),\n  // falls back to polling.\n  var History = Backbone.History = function() {\n  this.handlers = [];\n  this.checkUrl = _.bind(this.checkUrl, this);\n\n  // Ensure that `History` can be used outside of the browser.\n  if (typeof window !== 'undefined') {\n  this.location = window.location;\n  this.history = window.history;\n  }\n  };\n\n  // Cached regex for stripping a leading hash/slash and trailing space.\n  var routeStripper = /^[#\\/]|\\s+$/g;\n\n  // Cached regex for stripping leading and trailing slashes.\n  var rootStripper = /^\\/+|\\/+$/g;\n\n  // Cached regex for stripping urls of hash.\n  var pathStripper = /#.*$/;\n\n  // Has the history handling already been started?\n  History.started = false;\n\n  // Set up all inheritable **Backbone.History** properties and methods.\n  _.extend(History.prototype, Events, {\n\n  // The default interval to poll for hash changes, if necessary, is\n  // twenty times a second.\n  interval: 50,\n\n  // Are we at the app root?\n  atRoot: function() {\n  var path = this.location.pathname.replace(/[^\\/]$/, '$&/');\n  return path === this.root && !this.getSearch();\n  },\n\n  // Does the pathname match the root?\n  matchRoot: function() {\n  var path = this.decodeFragment(this.location.pathname);\n  var rootPath = path.slice(0, this.root.length - 1) + '/';\n  return rootPath === this.root;\n  },\n\n  // Unicode characters in `location.pathname` are percent encoded so they're\n  // decoded for comparison. `%25` should not be decoded since it may be part\n  // of an encoded parameter.\n  decodeFragment: function(fragment) {\n  return decodeURI(fragment.replace(/%25/g, '%2525'));\n  },\n\n  // In IE6, the hash fragment and search params are incorrect if the\n  // fragment contains `?`.\n  getSearch: function() {\n  var match = this.location.href.replace(/#.*/, '').match(/\\?.+/);\n  return match ? match[0] : '';\n  },\n\n  // Gets the true hash value. Cannot use location.hash directly due to bug\n  // in Firefox where location.hash will always be decoded.\n  getHash: function(window) {\n  var match = (window || this).location.href.match(/#(.*)$/);\n  return match ? match[1] : '';\n  },\n\n  // Get the pathname and search params, without the root.\n  getPath: function() {\n  var path = this.decodeFragment(\n  this.location.pathname + this.getSearch()\n  ).slice(this.root.length - 1);\n  return path.charAt(0) === '/' ? path.slice(1) : path;\n  },\n\n  // Get the cross-browser normalized URL fragment from the path or hash.\n  getFragment: function(fragment) {\n  if (fragment == null) {\n  if (this._usePushState || !this._wantsHashChange) {\n  fragment = this.getPath();\n  } else {\n  fragment = this.getHash();\n  }\n  }\n  return fragment.replace(routeStripper, '');\n  },\n\n  // Start the hash change handling, returning `true` if the current URL matches\n  // an existing route, and `false` otherwise.\n  start: function(options) {\n  if (History.started) throw new Error('Backbone.history has already been started');\n  History.started = true;\n\n  // Figure out the initial configuration. Do we need an iframe?\n  // Is pushState desired ... is it available?\n  this.options  = _.extend({root: '/'}, this.options, options);\n  this.root = this.options.root;\n  this._wantsHashChange = this.options.hashChange !== false;\n  this._hasHashChange = 'onhashchange' in window && (document.documentMode === void 0 || document.documentMode > 7);\n  this._useHashChange = this._wantsHashChange && this._hasHashChange;\n  this._wantsPushState  = !!this.options.pushState;\n  this._hasPushState  = !!(this.history && this.history.pushState);\n  this._usePushState  = this._wantsPushState && this._hasPushState;\n  this.fragment = this.getFragment();\n\n  // Normalize root to always include a leading and trailing slash.\n  this.root = ('/' + this.root + '/').replace(rootStripper, '/');\n\n  // Transition from hashChange to pushState or vice versa if both are\n  // requested.\n  if (this._wantsHashChange && this._wantsPushState) {\n\n  // If we've started off with a route from a `pushState`-enabled\n  // browser, but we're currently in a browser that doesn't support it...\n  if (!this._hasPushState && !this.atRoot()) {\n  var rootPath = this.root.slice(0, -1) || '/';\n  this.location.replace(rootPath + '#' + this.getPath());\n  // Return immediately as browser will do redirect to new url\n  return true;\n\n  // Or if we've started out with a hash-based route, but we're currently\n  // in a browser where it could be `pushState`-based instead...\n  } else if (this._hasPushState && this.atRoot()) {\n  this.navigate(this.getHash(), {replace: true});\n  }\n\n  }\n\n  // Proxy an iframe to handle location events if the browser doesn't\n  // support the `hashchange` event, HTML5 history, or the user wants\n  // `hashChange` but not `pushState`.\n  if (!this._hasHashChange && this._wantsHashChange && !this._usePushState) {\n  this.iframe = document.createElement('iframe');\n  this.iframe.src = 'javascript:0';\n  this.iframe.style.display = 'none';\n  this.iframe.tabIndex = -1;\n  var body = document.body;\n  // Using `appendChild` will throw on IE < 9 if the document is not ready.\n  var iWindow = body.insertBefore(this.iframe, body.firstChild).contentWindow;\n  iWindow.document.open();\n  iWindow.document.close();\n  iWindow.location.hash = '#' + this.fragment;\n  }\n\n  // Add a cross-platform `addEventListener` shim for older browsers.\n  var addEventListener = window.addEventListener || function(eventName, listener) {\n  return attachEvent('on' + eventName, listener);\n  };\n\n  // Depending on whether we're using pushState or hashes, and whether\n  // 'onhashchange' is supported, determine how we check the URL state.\n  if (this._usePushState) {\n  addEventListener('popstate', this.checkUrl, false);\n  } else if (this._useHashChange && !this.iframe) {\n  addEventListener('hashchange', this.checkUrl, false);\n  } else if (this._wantsHashChange) {\n  this._checkUrlInterval = setInterval(this.checkUrl, this.interval);\n  }\n\n  if (!this.options.silent) return this.loadUrl();\n  },\n\n  // Disable Backbone.history, perhaps temporarily. Not useful in a real app,\n  // but possibly useful for unit testing Routers.\n  stop: function() {\n  // Add a cross-platform `removeEventListener` shim for older browsers.\n  var removeEventListener = window.removeEventListener || function(eventName, listener) {\n  return detachEvent('on' + eventName, listener);\n  };\n\n  // Remove window listeners.\n  if (this._usePushState) {\n  removeEventListener('popstate', this.checkUrl, false);\n  } else if (this._useHashChange && !this.iframe) {\n  removeEventListener('hashchange', this.checkUrl, false);\n  }\n\n  // Clean up the iframe if necessary.\n  if (this.iframe) {\n  document.body.removeChild(this.iframe);\n  this.iframe = null;\n  }\n\n  // Some environments will throw when clearing an undefined interval.\n  if (this._checkUrlInterval) clearInterval(this._checkUrlInterval);\n  History.started = false;\n  },\n\n  // Add a route to be tested when the fragment changes. Routes added later\n  // may override previous routes.\n  route: function(route, callback) {\n  this.handlers.unshift({route: route, callback: callback});\n  },\n\n  // Checks the current URL to see if it has changed, and if it has,\n  // calls `loadUrl`, normalizing across the hidden iframe.\n  checkUrl: function(e) {\n  var current = this.getFragment();\n\n  // If the user pressed the back button, the iframe's hash will have\n  // changed and we should use that for comparison.\n  if (current === this.fragment && this.iframe) {\n  current = this.getHash(this.iframe.contentWindow);\n  }\n\n  if (current === this.fragment) return false;\n  if (this.iframe) this.navigate(current);\n  this.loadUrl();\n  },\n\n  // Attempt to load the current URL fragment. If a route succeeds with a\n  // match, returns `true`. If no defined routes matches the fragment,\n  // returns `false`.\n  loadUrl: function(fragment) {\n  // If the root doesn't match, no routes can match either.\n  if (!this.matchRoot()) return false;\n  fragment = this.fragment = this.getFragment(fragment);\n  return _.some(this.handlers, function(handler) {\n  if (handler.route.test(fragment)) {\n  handler.callback(fragment);\n  return true;\n  }\n  });\n  },\n\n  // Save a fragment into the hash history, or replace the URL state if the\n  // 'replace' option is passed. You are responsible for properly URL-encoding\n  // the fragment in advance.\n  //\n  // The options object can contain `trigger: true` if you wish to have the\n  // route callback be fired (not usually desirable), or `replace: true`, if\n  // you wish to modify the current URL without adding an entry to the history.\n  navigate: function(fragment, options) {\n  if (!History.started) return false;\n  if (!options || options === true) options = {trigger: !!options};\n\n  // Normalize the fragment.\n  fragment = this.getFragment(fragment || '');\n\n  // Don't include a trailing slash on the root.\n  var rootPath = this.root;\n  if (fragment === '' || fragment.charAt(0) === '?') {\n  rootPath = rootPath.slice(0, -1) || '/';\n  }\n  var url = rootPath + fragment;\n\n  // Strip the hash and decode for matching.\n  fragment = this.decodeFragment(fragment.replace(pathStripper, ''));\n\n  if (this.fragment === fragment) return;\n  this.fragment = fragment;\n\n  // If pushState is available, we use it to set the fragment as a real URL.\n  if (this._usePushState) {\n  this.history[options.replace ? 'replaceState' : 'pushState']({}, document.title, url);\n\n  // If hash changes haven't been explicitly disabled, update the hash\n  // fragment to store history.\n  } else if (this._wantsHashChange) {\n  this._updateHash(this.location, fragment, options.replace);\n  if (this.iframe && fragment !== this.getHash(this.iframe.contentWindow)) {\n  var iWindow = this.iframe.contentWindow;\n\n  // Opening and closing the iframe tricks IE7 and earlier to push a\n  // history entry on hash-tag change.  When replace is true, we don't\n  // want this.\n  if (!options.replace) {\n  iWindow.document.open();\n  iWindow.document.close();\n  }\n\n  this._updateHash(iWindow.location, fragment, options.replace);\n  }\n\n  // If you've told us that you explicitly don't want fallback hashchange-\n  // based history, then `navigate` becomes a page refresh.\n  } else {\n  return this.location.assign(url);\n  }\n  if (options.trigger) return this.loadUrl(fragment);\n  },\n\n  // Update the hash location, either replacing the current entry, or adding\n  // a new one to the browser history.\n  _updateHash: function(location, fragment, replace) {\n  if (replace) {\n  var href = location.href.replace(/(javascript:|#).*$/, '');\n  location.replace(href + '#' + fragment);\n  } else {\n  // Some browsers require that `hash` contains a leading #.\n  location.hash = '#' + fragment;\n  }\n  }\n\n  });\n\n  // Create the default Backbone.history.\n  Backbone.history = new History;\n\n  // Helpers\n  // -------\n\n  // Helper function to correctly set up the prototype chain for subclasses.\n  // Similar to `goog.inherits`, but uses a hash of prototype properties and\n  // class properties to be extended.\n  var extend = function(protoProps, staticProps) {\n  var parent = this;\n  var child;\n\n  // The constructor function for the new subclass is either defined by you\n  // (the \"constructor\" property in your `extend` definition), or defaulted\n  // by us to simply call the parent constructor.\n  if (protoProps && _.has(protoProps, 'constructor')) {\n  child = protoProps.constructor;\n  } else {\n  child = function(){ return parent.apply(this, arguments); };\n  }\n\n  // Add static properties to the constructor function, if supplied.\n  _.extend(child, parent, staticProps);\n\n  // Set the prototype chain to inherit from `parent`, without calling\n  // `parent`'s constructor function and add the prototype properties.\n  child.prototype = _.create(parent.prototype, protoProps);\n  child.prototype.constructor = child;\n\n  // Set a convenience property in case the parent's prototype is needed\n  // later.\n  child.__super__ = parent.prototype;\n\n  return child;\n  };\n\n  // Set up inheritance for the model, collection, router, view and history.\n  Model.extend = Collection.extend = Router.extend = View.extend = History.extend = extend;\n\n  // Throw an error when a URL is needed, and none is supplied.\n  var urlError = function() {\n  throw new Error('A \"url\" property or function must be specified');\n  };\n\n  // Wrap an optional error callback with a fallback error event.\n  var wrapError = function(model, options) {\n  var error = options.error;\n  options.error = function(resp) {\n  if (error) error.call(options.context, model, resp, options);\n  model.trigger('error', model, resp, options);\n  };\n  };\n\n  return Backbone;\n});\n"},function(e,t,n){n(3)(n(54))},function(e,t){e.exports='// Underscore.js 1.9.1\n// http://underscorejs.org\n// (c) 2009-2018 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n// Underscore may be freely distributed under the MIT license.\n!function(){var n="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||this||{},r=n._,e=Array.prototype,o=Object.prototype,s="undefined"!=typeof Symbol?Symbol.prototype:null,u=e.push,c=e.slice,p=o.toString,i=o.hasOwnProperty,t=Array.isArray,a=Object.keys,l=Object.create,f=function(){},h=function(n){return n instanceof h?n:this instanceof h?void(this._wrapped=n):new h(n)};"undefined"==typeof exports||exports.nodeType?n._=h:("undefined"!=typeof module&&!module.nodeType&&module.exports&&(exports=module.exports=h),exports._=h),h.VERSION="1.9.1";var v,y=function(u,i,n){if(void 0===i)return u;switch(null==n?3:n){case 1:return function(n){return u.call(i,n)};case 3:return function(n,r,t){return u.call(i,n,r,t)};case 4:return function(n,r,t,e){return u.call(i,n,r,t,e)}}return function(){return u.apply(i,arguments)}},d=function(n,r,t){return h.iteratee!==v?h.iteratee(n,r):null==n?h.identity:h.isFunction(n)?y(n,r,t):h.isObject(n)&&!h.isArray(n)?h.matcher(n):h.property(n)};h.iteratee=v=function(n,r){return d(n,r,1/0)};var g=function(u,i){return i=null==i?u.length-1:+i,function(){for(var n=Math.max(arguments.length-i,0),r=Array(n),t=0;t<n;t++)r[t]=arguments[t+i];switch(i){case 0:return u.call(this,r);case 1:return u.call(this,arguments[0],r);case 2:return u.call(this,arguments[0],arguments[1],r)}var e=Array(i+1);for(t=0;t<i;t++)e[t]=arguments[t];return e[i]=r,u.apply(this,e)}},m=function(n){if(!h.isObject(n))return{};if(l)return l(n);f.prototype=n;var r=new f;return f.prototype=null,r},b=function(r){return function(n){return null==n?void 0:n[r]}},j=function(n,r){return null!=n&&i.call(n,r)},x=function(n,r){for(var t=r.length,e=0;e<t;e++){if(null==n)return;n=n[r[e]]}return t?n:void 0},_=Math.pow(2,53)-1,A=b("length"),w=function(n){var r=A(n);return"number"==typeof r&&0<=r&&r<=_};h.each=h.forEach=function(n,r,t){var e,u;if(r=y(r,t),w(n))for(e=0,u=n.length;e<u;e++)r(n[e],e,n);else{var i=h.keys(n);for(e=0,u=i.length;e<u;e++)r(n[i[e]],i[e],n)}return n},h.map=h.collect=function(n,r,t){r=d(r,t);for(var e=!w(n)&&h.keys(n),u=(e||n).length,i=Array(u),o=0;o<u;o++){var a=e?e[o]:o;i[o]=r(n[a],a,n)}return i};var O=function(c){return function(n,r,t,e){var u=3<=arguments.length;return function(n,r,t,e){var u=!w(n)&&h.keys(n),i=(u||n).length,o=0<c?0:i-1;for(e||(t=n[u?u[o]:o],o+=c);0<=o&&o<i;o+=c){var a=u?u[o]:o;t=r(t,n[a],a,n)}return t}(n,y(r,e,4),t,u)}};h.reduce=h.foldl=h.inject=O(1),h.reduceRight=h.foldr=O(-1),h.find=h.detect=function(n,r,t){var e=(w(n)?h.findIndex:h.findKey)(n,r,t);if(void 0!==e&&-1!==e)return n[e]},h.filter=h.select=function(n,e,r){var u=[];return e=d(e,r),h.each(n,function(n,r,t){e(n,r,t)&&u.push(n)}),u},h.reject=function(n,r,t){return h.filter(n,h.negate(d(r)),t)},h.every=h.all=function(n,r,t){r=d(r,t);for(var e=!w(n)&&h.keys(n),u=(e||n).length,i=0;i<u;i++){var o=e?e[i]:i;if(!r(n[o],o,n))return!1}return!0},h.some=h.any=function(n,r,t){r=d(r,t);for(var e=!w(n)&&h.keys(n),u=(e||n).length,i=0;i<u;i++){var o=e?e[i]:i;if(r(n[o],o,n))return!0}return!1},h.contains=h.includes=h.include=function(n,r,t,e){return w(n)||(n=h.values(n)),("number"!=typeof t||e)&&(t=0),0<=h.indexOf(n,r,t)},h.invoke=g(function(n,t,e){var u,i;return h.isFunction(t)?i=t:h.isArray(t)&&(u=t.slice(0,-1),t=t[t.length-1]),h.map(n,function(n){var r=i;if(!r){if(u&&u.length&&(n=x(n,u)),null==n)return;r=n[t]}return null==r?r:r.apply(n,e)})}),h.pluck=function(n,r){return h.map(n,h.property(r))},h.where=function(n,r){return h.filter(n,h.matcher(r))},h.findWhere=function(n,r){return h.find(n,h.matcher(r))},h.max=function(n,e,r){var t,u,i=-1/0,o=-1/0;if(null==e||"number"==typeof e&&"object"!=typeof n[0]&&null!=n)for(var a=0,c=(n=w(n)?n:h.values(n)).length;a<c;a++)null!=(t=n[a])&&i<t&&(i=t);else e=d(e,r),h.each(n,function(n,r,t){u=e(n,r,t),(o<u||u===-1/0&&i===-1/0)&&(i=n,o=u)});return i},h.min=function(n,e,r){var t,u,i=1/0,o=1/0;if(null==e||"number"==typeof e&&"object"!=typeof n[0]&&null!=n)for(var a=0,c=(n=w(n)?n:h.values(n)).length;a<c;a++)null!=(t=n[a])&&t<i&&(i=t);else e=d(e,r),h.each(n,function(n,r,t){((u=e(n,r,t))<o||u===1/0&&i===1/0)&&(i=n,o=u)});return i},h.shuffle=function(n){return h.sample(n,1/0)},h.sample=function(n,r,t){if(null==r||t)return w(n)||(n=h.values(n)),n[h.random(n.length-1)];var e=w(n)?h.clone(n):h.values(n),u=A(e);r=Math.max(Math.min(r,u),0);for(var i=u-1,o=0;o<r;o++){var a=h.random(o,i),c=e[o];e[o]=e[a],e[a]=c}return e.slice(0,r)},h.sortBy=function(n,e,r){var u=0;return e=d(e,r),h.pluck(h.map(n,function(n,r,t){return{value:n,index:u++,criteria:e(n,r,t)}}).sort(function(n,r){var t=n.criteria,e=r.criteria;if(t!==e){if(e<t||void 0===t)return 1;if(t<e||void 0===e)return-1}return n.index-r.index}),"value")};var k=function(o,r){return function(e,u,n){var i=r?[[],[]]:{};return u=d(u,n),h.each(e,function(n,r){var t=u(n,r,e);o(i,n,t)}),i}};h.groupBy=k(function(n,r,t){j(n,t)?n[t].push(r):n[t]=[r]}),h.indexBy=k(function(n,r,t){n[t]=r}),h.countBy=k(function(n,r,t){j(n,t)?n[t]++:n[t]=1});var S=/[^\\ud800-\\udfff]|[\\ud800-\\udbff][\\udc00-\\udfff]|[\\ud800-\\udfff]/g;h.toArray=function(n){return n?h.isArray(n)?c.call(n):h.isString(n)?n.match(S):w(n)?h.map(n,h.identity):h.values(n):[]},h.size=function(n){return null==n?0:w(n)?n.length:h.keys(n).length},h.partition=k(function(n,r,t){n[t?0:1].push(r)},!0),h.first=h.head=h.take=function(n,r,t){return null==n||n.length<1?null==r?void 0:[]:null==r||t?n[0]:h.initial(n,n.length-r)},h.initial=function(n,r,t){return c.call(n,0,Math.max(0,n.length-(null==r||t?1:r)))},h.last=function(n,r,t){return null==n||n.length<1?null==r?void 0:[]:null==r||t?n[n.length-1]:h.rest(n,Math.max(0,n.length-r))},h.rest=h.tail=h.drop=function(n,r,t){return c.call(n,null==r||t?1:r)},h.compact=function(n){return h.filter(n,Boolean)};var M=function(n,r,t,e){for(var u=(e=e||[]).length,i=0,o=A(n);i<o;i++){var a=n[i];if(w(a)&&(h.isArray(a)||h.isArguments(a)))if(r)for(var c=0,l=a.length;c<l;)e[u++]=a[c++];else M(a,r,t,e),u=e.length;else t||(e[u++]=a)}return e};h.flatten=function(n,r){return M(n,r,!1)},h.without=g(function(n,r){return h.difference(n,r)}),h.uniq=h.unique=function(n,r,t,e){h.isBoolean(r)||(e=t,t=r,r=!1),null!=t&&(t=d(t,e));for(var u=[],i=[],o=0,a=A(n);o<a;o++){var c=n[o],l=t?t(c,o,n):c;r&&!t?(o&&i===l||u.push(c),i=l):t?h.contains(i,l)||(i.push(l),u.push(c)):h.contains(u,c)||u.push(c)}return u},h.union=g(function(n){return h.uniq(M(n,!0,!0))}),h.intersection=function(n){for(var r=[],t=arguments.length,e=0,u=A(n);e<u;e++){var i=n[e];if(!h.contains(r,i)){var o;for(o=1;o<t&&h.contains(arguments[o],i);o++);o===t&&r.push(i)}}return r},h.difference=g(function(n,r){return r=M(r,!0,!0),h.filter(n,function(n){return!h.contains(r,n)})}),h.unzip=function(n){for(var r=n&&h.max(n,A).length||0,t=Array(r),e=0;e<r;e++)t[e]=h.pluck(n,e);return t},h.zip=g(h.unzip),h.object=function(n,r){for(var t={},e=0,u=A(n);e<u;e++)r?t[n[e]]=r[e]:t[n[e][0]]=n[e][1];return t};var F=function(i){return function(n,r,t){r=d(r,t);for(var e=A(n),u=0<i?0:e-1;0<=u&&u<e;u+=i)if(r(n[u],u,n))return u;return-1}};h.findIndex=F(1),h.findLastIndex=F(-1),h.sortedIndex=function(n,r,t,e){for(var u=(t=d(t,e,1))(r),i=0,o=A(n);i<o;){var a=Math.floor((i+o)/2);t(n[a])<u?i=a+1:o=a}return i};var E=function(i,o,a){return function(n,r,t){var e=0,u=A(n);if("number"==typeof t)0<i?e=0<=t?t:Math.max(t+u,e):u=0<=t?Math.min(t+1,u):t+u+1;else if(a&&t&&u)return n[t=a(n,r)]===r?t:-1;if(r!=r)return 0<=(t=o(c.call(n,e,u),h.isNaN))?t+e:-1;for(t=0<i?e:u-1;0<=t&&t<u;t+=i)if(n[t]===r)return t;return-1}};h.indexOf=E(1,h.findIndex,h.sortedIndex),h.lastIndexOf=E(-1,h.findLastIndex),h.range=function(n,r,t){null==r&&(r=n||0,n=0),t||(t=r<n?-1:1);for(var e=Math.max(Math.ceil((r-n)/t),0),u=Array(e),i=0;i<e;i++,n+=t)u[i]=n;return u},h.chunk=function(n,r){if(null==r||r<1)return[];for(var t=[],e=0,u=n.length;e<u;)t.push(c.call(n,e,e+=r));return t};var N=function(n,r,t,e,u){if(!(e instanceof r))return n.apply(t,u);var i=m(n.prototype),o=n.apply(i,u);return h.isObject(o)?o:i};h.bind=g(function(r,t,e){if(!h.isFunction(r))throw new TypeError("Bind must be called on a function");var u=g(function(n){return N(r,u,t,this,e.concat(n))});return u}),h.partial=g(function(u,i){var o=h.partial.placeholder,a=function(){for(var n=0,r=i.length,t=Array(r),e=0;e<r;e++)t[e]=i[e]===o?arguments[n++]:i[e];for(;n<arguments.length;)t.push(arguments[n++]);return N(u,a,this,this,t)};return a}),(h.partial.placeholder=h).bindAll=g(function(n,r){var t=(r=M(r,!1,!1)).length;if(t<1)throw new Error("bindAll must be passed function names");for(;t--;){var e=r[t];n[e]=h.bind(n[e],n)}}),h.memoize=function(e,u){var i=function(n){var r=i.cache,t=""+(u?u.apply(this,arguments):n);return j(r,t)||(r[t]=e.apply(this,arguments)),r[t]};return i.cache={},i},h.delay=g(function(n,r,t){return setTimeout(function(){return n.apply(null,t)},r)}),h.defer=h.partial(h.delay,h,1),h.throttle=function(t,e,u){var i,o,a,c,l=0;u||(u={});var f=function(){l=!1===u.leading?0:h.now(),i=null,c=t.apply(o,a),i||(o=a=null)},n=function(){var n=h.now();l||!1!==u.leading||(l=n);var r=e-(n-l);return o=this,a=arguments,r<=0||e<r?(i&&(clearTimeout(i),i=null),l=n,c=t.apply(o,a),i||(o=a=null)):i||!1===u.trailing||(i=setTimeout(f,r)),c};return n.cancel=function(){clearTimeout(i),l=0,i=o=a=null},n},h.debounce=function(t,e,u){var i,o,a=function(n,r){i=null,r&&(o=t.apply(n,r))},n=g(function(n){if(i&&clearTimeout(i),u){var r=!i;i=setTimeout(a,e),r&&(o=t.apply(this,n))}else i=h.delay(a,e,this,n);return o});return n.cancel=function(){clearTimeout(i),i=null},n},h.wrap=function(n,r){return h.partial(r,n)},h.negate=function(n){return function(){return!n.apply(this,arguments)}},h.compose=function(){var t=arguments,e=t.length-1;return function(){for(var n=e,r=t[e].apply(this,arguments);n--;)r=t[n].call(this,r);return r}},h.after=function(n,r){return function(){if(--n<1)return r.apply(this,arguments)}},h.before=function(n,r){var t;return function(){return 0<--n&&(t=r.apply(this,arguments)),n<=1&&(r=null),t}},h.once=h.partial(h.before,2),h.restArguments=g;var I=!{toString:null}.propertyIsEnumerable("toString"),T=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],B=function(n,r){var t=T.length,e=n.constructor,u=h.isFunction(e)&&e.prototype||o,i="constructor";for(j(n,i)&&!h.contains(r,i)&&r.push(i);t--;)(i=T[t])in n&&n[i]!==u[i]&&!h.contains(r,i)&&r.push(i)};h.keys=function(n){if(!h.isObject(n))return[];if(a)return a(n);var r=[];for(var t in n)j(n,t)&&r.push(t);return I&&B(n,r),r},h.allKeys=function(n){if(!h.isObject(n))return[];var r=[];for(var t in n)r.push(t);return I&&B(n,r),r},h.values=function(n){for(var r=h.keys(n),t=r.length,e=Array(t),u=0;u<t;u++)e[u]=n[r[u]];return e},h.mapObject=function(n,r,t){r=d(r,t);for(var e=h.keys(n),u=e.length,i={},o=0;o<u;o++){var a=e[o];i[a]=r(n[a],a,n)}return i},h.pairs=function(n){for(var r=h.keys(n),t=r.length,e=Array(t),u=0;u<t;u++)e[u]=[r[u],n[r[u]]];return e},h.invert=function(n){for(var r={},t=h.keys(n),e=0,u=t.length;e<u;e++)r[n[t[e]]]=t[e];return r},h.functions=h.methods=function(n){var r=[];for(var t in n)h.isFunction(n[t])&&r.push(t);return r.sort()};var R=function(c,l){return function(n){var r=arguments.length;if(l&&(n=Object(n)),r<2||null==n)return n;for(var t=1;t<r;t++)for(var e=arguments[t],u=c(e),i=u.length,o=0;o<i;o++){var a=u[o];l&&void 0!==n[a]||(n[a]=e[a])}return n}};h.extend=R(h.allKeys),h.extendOwn=h.assign=R(h.keys),h.findKey=function(n,r,t){r=d(r,t);for(var e,u=h.keys(n),i=0,o=u.length;i<o;i++)if(r(n[e=u[i]],e,n))return e};var q,K,z=function(n,r,t){return r in t};h.pick=g(function(n,r){var t={},e=r[0];if(null==n)return t;h.isFunction(e)?(1<r.length&&(e=y(e,r[1])),r=h.allKeys(n)):(e=z,r=M(r,!1,!1),n=Object(n));for(var u=0,i=r.length;u<i;u++){var o=r[u],a=n[o];e(a,o,n)&&(t[o]=a)}return t}),h.omit=g(function(n,t){var r,e=t[0];return h.isFunction(e)?(e=h.negate(e),1<t.length&&(r=t[1])):(t=h.map(M(t,!1,!1),String),e=function(n,r){return!h.contains(t,r)}),h.pick(n,e,r)}),h.defaults=R(h.allKeys,!0),h.create=function(n,r){var t=m(n);return r&&h.extendOwn(t,r),t},h.clone=function(n){return h.isObject(n)?h.isArray(n)?n.slice():h.extend({},n):n},h.tap=function(n,r){return r(n),n},h.isMatch=function(n,r){var t=h.keys(r),e=t.length;if(null==n)return!e;for(var u=Object(n),i=0;i<e;i++){var o=t[i];if(r[o]!==u[o]||!(o in u))return!1}return!0},q=function(n,r,t,e){if(n===r)return 0!==n||1/n==1/r;if(null==n||null==r)return!1;if(n!=n)return r!=r;var u=typeof n;return("function"===u||"object"===u||"object"==typeof r)&&K(n,r,t,e)},K=function(n,r,t,e){n instanceof h&&(n=n._wrapped),r instanceof h&&(r=r._wrapped);var u=p.call(n);if(u!==p.call(r))return!1;switch(u){case"[object RegExp]":case"[object String]":return""+n==""+r;case"[object Number]":return+n!=+n?+r!=+r:0==+n?1/+n==1/r:+n==+r;case"[object Date]":case"[object Boolean]":return+n==+r;case"[object Symbol]":return s.valueOf.call(n)===s.valueOf.call(r)}var i="[object Array]"===u;if(!i){if("object"!=typeof n||"object"!=typeof r)return!1;var o=n.constructor,a=r.constructor;if(o!==a&&!(h.isFunction(o)&&o instanceof o&&h.isFunction(a)&&a instanceof a)&&"constructor"in n&&"constructor"in r)return!1}e=e||[];for(var c=(t=t||[]).length;c--;)if(t[c]===n)return e[c]===r;if(t.push(n),e.push(r),i){if((c=n.length)!==r.length)return!1;for(;c--;)if(!q(n[c],r[c],t,e))return!1}else{var l,f=h.keys(n);if(c=f.length,h.keys(r).length!==c)return!1;for(;c--;)if(l=f[c],!j(r,l)||!q(n[l],r[l],t,e))return!1}return t.pop(),e.pop(),!0},h.isEqual=function(n,r){return q(n,r)},h.isEmpty=function(n){return null==n||(w(n)&&(h.isArray(n)||h.isString(n)||h.isArguments(n))?0===n.length:0===h.keys(n).length)},h.isElement=function(n){return!(!n||1!==n.nodeType)},h.isArray=t||function(n){return"[object Array]"===p.call(n)},h.isObject=function(n){var r=typeof n;return"function"===r||"object"===r&&!!n},h.each(["Arguments","Function","String","Number","Date","RegExp","Error","Symbol","Map","WeakMap","Set","WeakSet"],function(r){h["is"+r]=function(n){return p.call(n)==="[object "+r+"]"}}),h.isArguments(arguments)||(h.isArguments=function(n){return j(n,"callee")});var D=n.document&&n.document.childNodes;"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof D&&(h.isFunction=function(n){return"function"==typeof n||!1}),h.isFinite=function(n){return!h.isSymbol(n)&&isFinite(n)&&!isNaN(parseFloat(n))},h.isNaN=function(n){return h.isNumber(n)&&isNaN(n)},h.isBoolean=function(n){return!0===n||!1===n||"[object Boolean]"===p.call(n)},h.isNull=function(n){return null===n},h.isUndefined=function(n){return void 0===n},h.has=function(n,r){if(!h.isArray(r))return j(n,r);for(var t=r.length,e=0;e<t;e++){var u=r[e];if(null==n||!i.call(n,u))return!1;n=n[u]}return!!t},h.noConflict=function(){return n._=r,this},h.identity=function(n){return n},h.constant=function(n){return function(){return n}},h.noop=function(){},h.property=function(r){return h.isArray(r)?function(n){return x(n,r)}:b(r)},h.propertyOf=function(r){return null==r?function(){}:function(n){return h.isArray(n)?x(r,n):r[n]}},h.matcher=h.matches=function(r){return r=h.extendOwn({},r),function(n){return h.isMatch(n,r)}},h.times=function(n,r,t){var e=Array(Math.max(0,n));r=y(r,t,1);for(var u=0;u<n;u++)e[u]=r(u);return e},h.random=function(n,r){return null==r&&(r=n,n=0),n+Math.floor(Math.random()*(r-n+1))},h.now=Date.now||function(){return(new Date).getTime()};var L={"&":"&amp;","<":"&lt;",">":"&gt;",\'"\':"&quot;","\'":"&#x27;","`":"&#x60;"},P=h.invert(L),W=function(r){var t=function(n){return r[n]},n="(?:"+h.keys(r).join("|")+")",e=RegExp(n),u=RegExp(n,"g");return function(n){return n=null==n?"":""+n,e.test(n)?n.replace(u,t):n}};h.escape=W(L),h.unescape=W(P),h.result=function(n,r,t){h.isArray(r)||(r=[r]);var e=r.length;if(!e)return h.isFunction(t)?t.call(n):t;for(var u=0;u<e;u++){var i=null==n?void 0:n[r[u]];void 0===i&&(i=t,u=e),n=h.isFunction(i)?i.call(n):i}return n};var C=0;h.uniqueId=function(n){var r=++C+"";return n?n+r:r},h.templateSettings={evaluate:/<%([\\s\\S]+?)%>/g,interpolate:/<%=([\\s\\S]+?)%>/g,escape:/<%-([\\s\\S]+?)%>/g};var J=/(.)^/,U={"\'":"\'","\\\\":"\\\\","\\r":"r","\\n":"n","\\u2028":"u2028","\\u2029":"u2029"},V=/\\\\|\'|\\r|\\n|\\u2028|\\u2029/g,$=function(n){return"\\\\"+U[n]};h.template=function(i,n,r){!n&&r&&(n=r),n=h.defaults({},n,h.templateSettings);var t,e=RegExp([(n.escape||J).source,(n.interpolate||J).source,(n.evaluate||J).source].join("|")+"|$","g"),o=0,a="__p+=\'";i.replace(e,function(n,r,t,e,u){return a+=i.slice(o,u).replace(V,$),o=u+n.length,r?a+="\'+\\n((__t=("+r+"))==null?\'\':_.escape(__t))+\\n\'":t?a+="\'+\\n((__t=("+t+"))==null?\'\':__t)+\\n\'":e&&(a+="\';\\n"+e+"\\n__p+=\'"),n}),a+="\';\\n",n.variable||(a="with(obj||{}){\\n"+a+"}\\n"),a="var __t,__p=\'\',__j=Array.prototype.join,"+"print=function(){__p+=__j.call(arguments,\'\');};\\n"+a+"return __p;\\n";try{t=new Function(n.variable||"obj","_",a)}catch(n){throw n.source=a,n}var u=function(n){return t.call(this,n,h)},c=n.variable||"obj";return u.source="function("+c+"){\\n"+a+"}",u},h.chain=function(n){var r=h(n);return r._chain=!0,r};var G=function(n,r){return n._chain?h(r).chain():r};h.mixin=function(t){return h.each(h.functions(t),function(n){var r=h[n]=t[n];h.prototype[n]=function(){var n=[this._wrapped];return u.apply(n,arguments),G(this,r.apply(h,n))}}),h},h.mixin(h),h.each(["pop","push","reverse","shift","sort","splice","unshift"],function(r){var t=e[r];h.prototype[r]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==r&&"splice"!==r||0!==n.length||delete n[0],G(this,n)}}),h.each(["concat","join","slice"],function(n){var r=e[n];h.prototype[n]=function(){return G(this,r.apply(this._wrapped,arguments))}}),h.prototype.value=function(){return this._wrapped},h.prototype.valueOf=h.prototype.toJSON=h.prototype.value,h.prototype.toString=function(){return String(this._wrapped)},"function"==typeof define&&define.amd&&define("underscore",[],function(){return h})}();'},function(e,t,n){n(3)(n(56))},function(e,t){e.exports='// This [jQuery](https://jquery.com/) plugin implements an `<iframe>`\n// [transport](https://api.jquery.com/jQuery.ajax/#extending-ajax) so that\n// `$.ajax()` calls support the uploading of files using standard HTML file\n// input fields. This is done by switching the exchange from `XMLHttpRequest`\n// to a hidden `iframe` element containing a form that is submitted.\n\n// The [source for the plugin](https://github.com/cmlenz/jquery-iframe-transport)\n// is available on [Github](https://github.com/) and licensed under the [MIT\n// license](https://github.com/cmlenz/jquery-iframe-transport/blob/master/LICENSE).\n\n// ## Usage\n\n// To use this plugin, you simply add an `iframe` option with the value `true`\n// to the Ajax settings an `$.ajax()` call, and specify the file fields to\n// include in the submssion using the `files` option, which can be a selector,\n// jQuery object, or a list of DOM elements containing one or more\n// `<input type="file">` elements:\n\n// $("#myform").submit(function() {\n// $.ajax(this.action, {\n// files: $(":file", this),\n// iframe: true\n// }).complete(function(data) {\n// console.log(data);\n// });\n// });\n\n// The plugin will construct hidden `<iframe>` and `<form>` elements, add the\n// file field(s) to that form, submit the form, and process the response.\n\n// If you want to include other form fields in the form submission, include\n// them in the `data` option, and set the `processData` option to `false`:\n\n// $("#myform").submit(function() {\n// $.ajax(this.action, {\n// data: $(":text", this).serializeArray(),\n// files: $(":file", this),\n// iframe: true,\n// processData: false\n// }).complete(function(data) {\n// console.log(data);\n// });\n// });\n\n// ### Response Data Types\n\n// As the transport does not have access to the HTTP headers of the server\n// response, it is not as simple to make use of the automatic content type\n// detection provided by jQuery as with regular XHR. If you can\'t set the\n// expected response data type (for example because it may vary depending on\n// the outcome of processing by the server), you will need to employ a\n// workaround on the server side: Send back an HTML document containing just a\n// `<textarea>` element with a `data-type` attribute that specifies the MIME\n// type, and put the actual payload in the textarea:\n\n// <textarea data-type="application/json">\n// {"ok": true, "message": "Thanks so much"}\n// </textarea>\n\n// The iframe transport plugin will detect this and pass the value of the\n// `data-type` attribute on to jQuery as if it was the "Content-Type" response\n// header, thereby enabling the same kind of conversions that jQuery applies\n// to regular responses. For the example above you should get a Javascript\n// object as the `data` parameter of the `complete` callback, with the\n// properties `ok: true` and `message: "Thanks so much"`.\n\n// ### Handling Server Errors\n\n// Another problem with using an `iframe` for file uploads is that it is\n// impossible for the javascript code to determine the HTTP status code of the\n// servers response. Effectively, all of the calls you make will look like they\n// are getting successful responses, and thus invoke the `done()` or\n// `complete()` callbacks. You can only communicate problems using the content\n// of the response payload. For example, consider using a JSON response such as\n// the following to indicate a problem with an uploaded file:\n\n// <textarea data-type="application/json">\n// {"ok": false, "message": "Please only upload reasonably sized files."}\n// </textarea>\n\n// ### Compatibility\n\n// This plugin has primarily been tested on Safari 5 (or later), Firefox 4 (or\n// later), and Internet Explorer (all the way back to version 6). While I\n// haven\'t found any issues with it so far, I\'m fairly sure it still doesn\'t\n// work around all the quirks in all different browsers. But the code is still\n// pretty simple overall, so you should be able to fix it and contribute a\n// patch :)\n\n// ## Annotated Source\n\n(function($, undefined) {\n  "use strict";\n\n  // Register a prefilter that checks whether the `iframe` option is set, and\n  // switches to the "iframe" data type if it is `true`.\n  $.ajaxPrefilter(function(options, origOptions, jqXHR) {\n  if (options.iframe) {\n  options.originalURL = options.url;\n  return "iframe";\n  }\n  });\n\n  // Register a transport for the "iframe" data type. It will only activate\n  // when the "files" option has been set to a non-empty list of enabled file\n  // inputs.\n  $.ajaxTransport("iframe", function(options, origOptions, jqXHR) {\n  var form = null,\n  iframe = null,\n  name = "iframe-" + $.now(),\n  files = $(options.files).filter(":file:enabled"),\n  markers = null,\n  accepts = null;\n\n  // This function gets called after a successful submission or an abortion\n  // and should revert all changes made to the page to enable the\n  // submission via this transport.\n  function cleanUp() {\n  files.each(function(i, file) {\n  var $file = $(file);\n  $file.data("clone").replaceWith($file);\n  });\n  form.remove();\n  iframe.one("load", function() { iframe.remove(); });\n  iframe.attr("src", "javascript:false;");\n  }\n\n  // Remove "iframe" from the data types list so that further processing is\n  // based on the content type returned by the server, without attempting an\n  // (unsupported) conversion from "iframe" to the actual type.\n  options.dataTypes.shift();\n\n  // Use the data from the original AJAX options, as it doesn\'t seem to be \n  // copied over since jQuery 1.7.\n  // See https://github.com/cmlenz/jquery-iframe-transport/issues/6\n  options.data = origOptions.data;\n\n  if (files.length) {\n  form = $("<form enctype=\'multipart/form-data\' method=\'post\'></form>").\n  hide().attr({action: options.originalURL, target: name});\n\n  // If there is any additional data specified via the `data` option,\n  // we add it as hidden fields to the form. This (currently) requires\n  // the `processData` option to be set to false so that the data doesn\'t\n  // get serialized to a string.\n  if (typeof(options.data) === "string" && options.data.length > 0) {\n  $.error("data must not be serialized");\n  }\n  $.each(options.data || {}, function(name, value) {\n  if ($.isPlainObject(value)) {\n  name = value.name;\n  value = value.value;\n  }\n  $("<input type=\'hidden\' />").attr({name:  name, value: value}).\n  appendTo(form);\n  });\n\n  // Add a hidden `X-Requested-With` field with the value `IFrame` to the\n  // field, to help server-side code to determine that the upload happened\n  // through this transport.\n  $("<input type=\'hidden\' value=\'IFrame\' name=\'X-Requested-With\' />").\n  appendTo(form);\n\n  // Borrowed straight from the JQuery source.\n  // Provides a way of specifying the accepted data type similar to the\n  // HTTP "Accept" header\n  if (options.dataTypes[0] && options.accepts[options.dataTypes[0]]) {\n  accepts = options.accepts[options.dataTypes[0]] +\n  (options.dataTypes[0] !== "*" ? ", */*; q=0.01" : "");\n  } else {\n  accepts = options.accepts["*"];\n  }\n  $("<input type=\'hidden\' name=\'X-HTTP-Accept\'>").\n  attr("value", accepts).appendTo(form);\n\n  // Move the file fields into the hidden form, but first remember their\n  // original locations in the document by replacing them with disabled\n  // clones. This should also avoid introducing unwanted changes to the\n  // page layout during submission.\n  markers = files.after(function(idx) {\n  var $this = $(this),\n  $clone = $this.clone().prop("disabled", true);\n  $this.data("clone", $clone);\n  return $clone;\n  }).next();\n  files.appendTo(form);\n\n  return {\n\n  // The `send` function is called by jQuery when the request should be\n  // sent.\n  send: function(headers, completeCallback) {\n  iframe = $("<iframe src=\'javascript:false;\' name=\'" + name +\n  "\' id=\'" + name + "\' style=\'display:none\'></iframe>");\n\n  // The first load event gets fired after the iframe has been injected\n  // into the DOM, and is used to prepare the actual submission.\n  iframe.one("load", function() {\n\n  // The second load event gets fired when the response to the form\n  // submission is received. The implementation detects whether the\n  // actual payload is embedded in a `<textarea>` element, and\n  // prepares the required conversions to be made in that case.\n  iframe.one("load", function() {\n  var doc = this.contentWindow ? this.contentWindow.document :\n  (this.contentDocument ? this.contentDocument : this.document),\n  root = doc.documentElement ? doc.documentElement : doc.body,\n  textarea = root.getElementsByTagName("textarea")[0],\n  type = textarea && textarea.getAttribute("data-type") || null,\n  status = textarea && textarea.getAttribute("data-status") || 200,\n  statusText = textarea && textarea.getAttribute("data-statusText") || "OK",\n  content = {\n  html: root.innerHTML,\n  text: type ?\n  textarea.value :\n  root ? (root.textContent || root.innerText) : null\n  };\n  cleanUp();\n  completeCallback(status, statusText, content, type ?\n  ("Content-Type: " + type) :\n  null);\n  });\n\n  // Now that the load handler has been set up, submit the form.\n  form[0].submit();\n  });\n\n  // After everything has been set up correctly, the form and iframe\n  // get injected into the DOM so that the submission can be\n  // initiated.\n  $("body").append(form, iframe);\n  },\n\n  // The `abort` function is called by jQuery when the request should be\n  // aborted.\n  abort: function() {\n  if (iframe !== null) {\n  iframe.unbind("load").attr("src", "javascript:false;");\n  cleanUp();\n  }\n  }\n\n  };\n  }\n  });\n\n})(jQuery);\n'},function(e,t,n){n(3)(n(58))},function(e,t){e.exports='\n"undefined"==typeof jQuery.migrateMute&&(jQuery.migrateMute=!0),function(a,b,c){function d(c){var d=b.console;f[c]||(f[c]=!0,a.migrateWarnings.push(c),d&&d.warn&&!a.migrateMute&&(d.warn("JQMIGRATE: "+c),a.migrateTrace&&d.trace&&d.trace()))}function e(b,c,e,f){if(Object.defineProperty)try{return void Object.defineProperty(b,c,{configurable:!0,enumerable:!0,get:function(){return d(f),e},set:function(a){d(f),e=a}})}catch(g){}a._definePropertyBroken=!0,b[c]=e}a.migrateVersion="1.4.1";var f={};a.migrateWarnings=[],a.migrateTrace===c&&(a.migrateTrace=!0),a.migrateReset=function(){f={},a.migrateWarnings.length=0},"BackCompat"===document.compatMode&&d("jQuery is not compatible with Quirks Mode");var g=a("<input/>",{size:1}).attr("size")&&a.attrFn,h=a.attr,i=a.attrHooks.value&&a.attrHooks.value.get||function(){return null},j=a.attrHooks.value&&a.attrHooks.value.set||function(){return c},k=/^(?:input|button)$/i,l=/^[238]$/,m=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,n=/^(?:checked|selected)$/i;e(a,"attrFn",g||{},"jQuery.attrFn is deprecated"),a.attr=function(b,e,f,i){var j=e.toLowerCase(),o=b&&b.nodeType;return i&&(h.length<4&&d("jQuery.fn.attr( props, pass ) is deprecated"),b&&!l.test(o)&&(g?e in g:a.isFunction(a.fn[e])))?a(b)[e](f):("type"===e&&f!==c&&k.test(b.nodeName)&&b.parentNode&&d("Can\'t change the \'type\' of an input or button in IE 6/7/8"),!a.attrHooks[j]&&m.test(j)&&(a.attrHooks[j]={get:function(b,d){var e,f=a.prop(b,d);return f===!0||"boolean"!=typeof f&&(e=b.getAttributeNode(d))&&e.nodeValue!==!1?d.toLowerCase():c},set:function(b,c,d){var e;return c===!1?a.removeAttr(b,d):(e=a.propFix[d]||d,e in b&&(b[e]=!0),b.setAttribute(d,d.toLowerCase())),d}},n.test(j)&&d("jQuery.fn.attr(\'"+j+"\') might use property instead of attribute")),h.call(a,b,e,f))},a.attrHooks.value={get:function(a,b){var c=(a.nodeName||"").toLowerCase();return"button"===c?i.apply(this,arguments):("input"!==c&&"option"!==c&&d("jQuery.fn.attr(\'value\') no longer gets properties"),b in a?a.value:null)},set:function(a,b){var c=(a.nodeName||"").toLowerCase();return"button"===c?j.apply(this,arguments):("input"!==c&&"option"!==c&&d("jQuery.fn.attr(\'value\', val) no longer sets properties"),void(a.value=b))}};var o,p,q=a.fn.init,r=a.find,s=a.parseJSON,t=/^\\s*</,u=/\\[(\\s*[-\\w]+\\s*)([~|^$*]?=)\\s*([-\\w#]*?#[-\\w#]*)\\s*\\]/,v=/\\[(\\s*[-\\w]+\\s*)([~|^$*]?=)\\s*([-\\w#]*?#[-\\w#]*)\\s*\\]/g,w=/^([^<]*)(<[\\w\\W]+>)([^>]*)$/;a.fn.init=function(b,e,f){var g,h;return b&&"string"==typeof b&&!a.isPlainObject(e)&&(g=w.exec(a.trim(b)))&&g[0]&&(t.test(b)||d("$(html) HTML strings must start with \'<\' character"),g[3]&&d("$(html) HTML text after last tag is ignored"),"#"===g[0].charAt(0)&&(d("HTML string cannot start with a \'#\' character"),a.error("JQMIGRATE: Invalid selector string (XSS)")),e&&e.context&&e.context.nodeType&&(e=e.context),a.parseHTML)?q.call(this,a.parseHTML(g[2],e&&e.ownerDocument||e||document,!0),e,f):(h=q.apply(this,arguments),b&&b.selector!==c?(h.selector=b.selector,h.context=b.context):(h.selector="string"==typeof b?b:"",b&&(h.context=b.nodeType?b:e||document)),h)},a.fn.init.prototype=a.fn,a.find=function(a){var b=Array.prototype.slice.call(arguments);if("string"==typeof a&&u.test(a))try{document.querySelector(a)}catch(c){a=a.replace(v,function(a,b,c,d){return"["+b+c+\'"\'+d+\'"]\'});try{document.querySelector(a),d("Attribute selector with \'#\' must be quoted: "+b[0]),b[0]=a}catch(e){d("Attribute selector with \'#\' was not fixed: "+b[0])}}return r.apply(this,b)};var x;for(x in r)Object.prototype.hasOwnProperty.call(r,x)&&(a.find[x]=r[x]);a.parseJSON=function(a){return a?s.apply(this,arguments):(d("jQuery.parseJSON requires a valid JSON string"),null)},a.uaMatch=function(a){a=a.toLowerCase();var b=/(chrome)[ \\/]([\\w.]+)/.exec(a)||/(webkit)[ \\/]([\\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \\/]([\\w.]+)/.exec(a)||/(msie) ([\\w.]+)/.exec(a)||a.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\\w.]+)|)/.exec(a)||[];return{browser:b[1]||"",version:b[2]||"0"}},a.browser||(o=a.uaMatch(navigator.userAgent),p={},o.browser&&(p[o.browser]=!0,p.version=o.version),p.chrome?p.webkit=!0:p.webkit&&(p.safari=!0),a.browser=p),e(a,"browser",a.browser,"jQuery.browser is deprecated"),a.boxModel=a.support.boxModel="CSS1Compat"===document.compatMode,e(a,"boxModel",a.boxModel,"jQuery.boxModel is deprecated"),e(a.support,"boxModel",a.support.boxModel,"jQuery.support.boxModel is deprecated"),a.sub=function(){function b(a,c){return new b.fn.init(a,c)}a.extend(!0,b,this),b.superclass=this,b.fn=b.prototype=this(),b.fn.constructor=b,b.sub=this.sub,b.fn.init=function(d,e){var f=a.fn.init.call(this,d,e,c);return f instanceof b?f:b(f)},b.fn.init.prototype=b.fn;var c=b(document);return d("jQuery.sub() is deprecated"),b},a.fn.size=function(){return d("jQuery.fn.size() is deprecated; use the .length property"),this.length};var y=!1;a.swap&&a.each(["height","width","reliableMarginRight"],function(b,c){var d=a.cssHooks[c]&&a.cssHooks[c].get;d&&(a.cssHooks[c].get=function(){var a;return y=!0,a=d.apply(this,arguments),y=!1,a})}),a.swap=function(a,b,c,e){var f,g,h={};y||d("jQuery.swap() is undocumented and deprecated");for(g in b)h[g]=a.style[g],a.style[g]=b[g];f=c.apply(a,e||[]);for(g in b)a.style[g]=h[g];return f},a.ajaxSetup({converters:{"text json":a.parseJSON}});var z=a.fn.data;a.fn.data=function(b){var e,f,g=this[0];return!g||"events"!==b||1!==arguments.length||(e=a.data(g,b),f=a._data(g,b),e!==c&&e!==f||f===c)?z.apply(this,arguments):(d("Use of jQuery.fn.data(\'events\') is deprecated"),f)};var A=/\\/(java|ecma)script/i;a.clean||(a.clean=function(b,c,e,f){c=c||document,c=!c.nodeType&&c[0]||c,c=c.ownerDocument||c,d("jQuery.clean() is deprecated");var g,h,i,j,k=[];if(a.merge(k,a.buildFragment(b,c).childNodes),e)for(i=function(a){return!a.type||A.test(a.type)?f?f.push(a.parentNode?a.parentNode.removeChild(a):a):e.appendChild(a):void 0},g=0;null!=(h=k[g]);g++)a.nodeName(h,"script")&&i(h)||(e.appendChild(h),"undefined"!=typeof h.getElementsByTagName&&(j=a.grep(a.merge([],h.getElementsByTagName("script")),i),k.splice.apply(k,[g+1,0].concat(j)),g+=j.length));return k});var B=a.event.add,C=a.event.remove,D=a.event.trigger,E=a.fn.toggle,F=a.fn.live,G=a.fn.die,H=a.fn.load,I="ajaxStart|ajaxStop|ajaxSend|ajaxComplete|ajaxError|ajaxSuccess",J=new RegExp("\\\\b(?:"+I+")\\\\b"),K=/(?:^|\\s)hover(\\.\\S+|)\\b/,L=function(b){return"string"!=typeof b||a.event.special.hover?b:(K.test(b)&&d("\'hover\' pseudo-event is deprecated, use \'mouseenter mouseleave\'"),b&&b.replace(K,"mouseenter$1 mouseleave$1"))};a.event.props&&"attrChange"!==a.event.props[0]&&a.event.props.unshift("attrChange","attrName","relatedNode","srcElement"),a.event.dispatch&&e(a.event,"handle",a.event.dispatch,"jQuery.event.handle is undocumented and deprecated"),a.event.add=function(a,b,c,e,f){a!==document&&J.test(b)&&d("AJAX events should be attached to document: "+b),B.call(this,a,L(b||""),c,e,f)},a.event.remove=function(a,b,c,d,e){C.call(this,a,L(b)||"",c,d,e)},a.each(["load","unload","error"],function(b,c){a.fn[c]=function(){var a=Array.prototype.slice.call(arguments,0);return"load"===c&&"string"==typeof a[0]?H.apply(this,a):(d("jQuery.fn."+c+"() is deprecated"),a.splice(0,0,c),arguments.length?this.bind.apply(this,a):(this.triggerHandler.apply(this,a),this))}}),a.fn.toggle=function(b,c){if(!a.isFunction(b)||!a.isFunction(c))return E.apply(this,arguments);d("jQuery.fn.toggle(handler, handler...) is deprecated");var e=arguments,f=b.guid||a.guid++,g=0,h=function(c){var d=(a._data(this,"lastToggle"+b.guid)||0)%g;return a._data(this,"lastToggle"+b.guid,d+1),c.preventDefault(),e[d].apply(this,arguments)||!1};for(h.guid=f;g<e.length;)e[g++].guid=f;return this.click(h)},a.fn.live=function(b,c,e){return d("jQuery.fn.live() is deprecated"),F?F.apply(this,arguments):(a(this.context).on(b,this.selector,c,e),this)},a.fn.die=function(b,c){return d("jQuery.fn.die() is deprecated"),G?G.apply(this,arguments):(a(this.context).off(b,this.selector||"**",c),this)},a.event.trigger=function(a,b,c,e){return c||J.test(a)||d("Global events are undocumented and deprecated"),D.call(this,a,b,c||document,e)},a.each(I.split("|"),function(b,c){a.event.special[c]={setup:function(){var b=this;return b!==document&&(a.event.add(document,c+"."+a.guid,function(){a.event.trigger(c,Array.prototype.slice.call(arguments,1),b,!0)}),a._data(this,c,a.guid++)),!1},teardown:function(){return this!==document&&a.event.remove(document,c+"."+a._data(this,c)),!1}}}),a.event.special.ready={setup:function(){this===document&&d("\'ready\' event is deprecated")}};var M=a.fn.andSelf||a.fn.addBack,N=a.fn.find;if(a.fn.andSelf=function(){return d("jQuery.fn.andSelf() replaced by jQuery.fn.addBack()"),M.apply(this,arguments)},a.fn.find=function(a){var b=N.apply(this,arguments);return b.context=this.context,b.selector=this.selector?this.selector+" "+a:a,b},a.Callbacks){var O=a.Deferred,P=[["resolve","done",a.Callbacks("once memory"),a.Callbacks("once memory"),"resolved"],["reject","fail",a.Callbacks("once memory"),a.Callbacks("once memory"),"rejected"],["notify","progress",a.Callbacks("memory"),a.Callbacks("memory")]];a.Deferred=function(b){var c=O(),e=c.promise();return c.pipe=e.pipe=function(){var b=arguments;return d("deferred.pipe() is deprecated"),a.Deferred(function(d){a.each(P,function(f,g){var h=a.isFunction(b[f])&&b[f];c[g[1]](function(){var b=h&&h.apply(this,arguments);b&&a.isFunction(b.promise)?b.promise().done(d.resolve).fail(d.reject).progress(d.notify):d[g[0]+"With"](this===e?d.promise():this,h?[b]:arguments)})}),b=null}).promise()},c.isResolved=function(){return d("deferred.isResolved is deprecated"),"resolved"===c.state()},c.isRejected=function(){return d("deferred.isRejected is deprecated"),"rejected"===c.state()},b&&b.call(c,c),c}}}(jQuery,window);'},function(e,t,n){n(3)(n(60))},function(e,t){e.exports='\n!function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){var c=[],d=a.document,e=c.slice,f=c.concat,g=c.push,h=c.indexOf,i={},j=i.toString,k=i.hasOwnProperty,l={},m="1.12.4",n=function(a,b){return new n.fn.init(a,b)},o=/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g,p=/^-ms-/,q=/-([\\da-z])/gi,r=function(a,b){return b.toUpperCase()};n.fn=n.prototype={jquery:m,constructor:n,selector:"",length:0,toArray:function(){return e.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:e.call(this)},pushStack:function(a){var b=n.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a){return n.each(this,a)},map:function(a){return this.pushStack(n.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(e.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor()},push:g,sort:c.sort,splice:c.splice},n.extend=n.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||n.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(e=arguments[h]))for(d in e)a=g[d],c=e[d],g!==c&&(j&&c&&(n.isPlainObject(c)||(b=n.isArray(c)))?(b?(b=!1,f=a&&n.isArray(a)?a:[]):f=a&&n.isPlainObject(a)?a:{},g[d]=n.extend(j,f,c)):void 0!==c&&(g[d]=c));return g},n.extend({expando:"jQuery"+(m+Math.random()).replace(/\\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===n.type(a)},isArray:Array.isArray||function(a){return"array"===n.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){var b=a&&a.toString();return!n.isArray(a)&&b-parseFloat(b)+1>=0},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},isPlainObject:function(a){var b;if(!a||"object"!==n.type(a)||a.nodeType||n.isWindow(a))return!1;try{if(a.constructor&&!k.call(a,"constructor")&&!k.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}if(!l.ownFirst)for(b in a)return k.call(a,b);for(b in a);return void 0===b||k.call(a,b)},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?i[j.call(a)]||"object":typeof a},globalEval:function(b){b&&n.trim(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(p,"ms-").replace(q,r)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b){var c,d=0;if(s(a)){for(c=a.length;c>d;d++)if(b.call(a[d],d,a[d])===!1)break}else for(d in a)if(b.call(a[d],d,a[d])===!1)break;return a},trim:function(a){return null==a?"":(a+"").replace(o,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(s(Object(a))?n.merge(c,"string"==typeof a?[a]:a):g.call(c,a)),c},inArray:function(a,b,c){var d;if(b){if(h)return h.call(b,a,c);for(d=b.length,c=c?0>c?Math.max(0,d+c):c:0;d>c;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,b){var c=+b.length,d=0,e=a.length;while(c>d)a[e++]=b[d++];if(c!==c)while(void 0!==b[d])a[e++]=b[d++];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,c){var d,e,g=0,h=[];if(s(a))for(d=a.length;d>g;g++)e=b(a[g],g,c),null!=e&&h.push(e);else for(g in a)e=b(a[g],g,c),null!=e&&h.push(e);return f.apply([],h)},guid:1,proxy:function(a,b){var c,d,f;return"string"==typeof b&&(f=a[b],b=a,a=f),n.isFunction(a)?(c=e.call(arguments,2),d=function(){return a.apply(b||this,c.concat(e.call(arguments)))},d.guid=a.guid=a.guid||n.guid++,d):void 0},now:function(){return+new Date},support:l}),"function"==typeof Symbol&&(n.fn[Symbol.iterator]=c[Symbol.iterator]),n.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(a,b){i["[object "+b+"]"]=b.toLowerCase()});function s(a){var b=!!a&&"length"in a&&a.length,c=n.type(a);return"function"===c||n.isWindow(a)?!1:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a}var t=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u="sizzle"+1*new Date,v=a.document,w=0,x=0,y=ga(),z=ga(),A=ga(),B=function(a,b){return a===b&&(l=!0),0},C=1<<31,D={}.hasOwnProperty,E=[],F=E.pop,G=E.push,H=E.push,I=E.slice,J=function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},K="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",L="[\\\\x20\\\\t\\\\r\\\\n\\\\f]",M="(?:\\\\\\\\.|[\\\\w-]|[^\\\\x00-\\\\xa0])+",N="\\\\["+L+"*("+M+")(?:"+L+"*([*^$|!~]?=)"+L+"*(?:\'((?:\\\\\\\\.|[^\\\\\\\\\'])*)\'|\\"((?:\\\\\\\\.|[^\\\\\\\\\\"])*)\\"|("+M+"))|)"+L+"*\\\\]",O=":("+M+")(?:\\\\(((\'((?:\\\\\\\\.|[^\\\\\\\\\'])*)\'|\\"((?:\\\\\\\\.|[^\\\\\\\\\\"])*)\\")|((?:\\\\\\\\.|[^\\\\\\\\()[\\\\]]|"+N+")*)|.*)\\\\)|)",P=new RegExp(L+"+","g"),Q=new RegExp("^"+L+"+|((?:^|[^\\\\\\\\])(?:\\\\\\\\.)*)"+L+"+$","g"),R=new RegExp("^"+L+"*,"+L+"*"),S=new RegExp("^"+L+"*([>+~]|"+L+")"+L+"*"),T=new RegExp("="+L+"*([^\\\\]\'\\"]*?)"+L+"*\\\\]","g"),U=new RegExp(O),V=new RegExp("^"+M+"$"),W={ID:new RegExp("^#("+M+")"),CLASS:new RegExp("^\\\\.("+M+")"),TAG:new RegExp("^("+M+"|[*])"),ATTR:new RegExp("^"+N),PSEUDO:new RegExp("^"+O),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\\\("+L+"*(even|odd|(([+-]|)(\\\\d*)n|)"+L+"*(?:([+-]|)"+L+"*(\\\\d+)|))"+L+"*\\\\)|)","i"),bool:new RegExp("^(?:"+K+")$","i"),needsContext:new RegExp("^"+L+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\\\("+L+"*((?:-\\\\d)?\\\\d*)"+L+"*\\\\)|)(?=[^-]|$)","i")},X=/^(?:input|select|textarea|button)$/i,Y=/^h\\d$/i,Z=/^[^{]+\\{\\s*\\[native \\w/,$=/^(?:#([\\w-]+)|(\\w+)|\\.([\\w-]+))$/,_=/[+~]/,aa=/\'|\\\\/g,ba=new RegExp("\\\\\\\\([\\\\da-f]{1,6}"+L+"?|("+L+")|.)","ig"),ca=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},da=function(){m()};try{H.apply(E=I.call(v.childNodes),v.childNodes),E[v.childNodes.length].nodeType}catch(ea){H={apply:E.length?function(a,b){G.apply(a,I.call(b))}:function(a,b){var c=a.length,d=0;while(a[c++]=b[d++]);a.length=c-1}}}function fa(a,b,d,e){var f,h,j,k,l,o,r,s,w=b&&b.ownerDocument,x=b?b.nodeType:9;if(d=d||[],"string"!=typeof a||!a||1!==x&&9!==x&&11!==x)return d;if(!e&&((b?b.ownerDocument||b:v)!==n&&m(b),b=b||n,p)){if(11!==x&&(o=$.exec(a)))if(f=o[1]){if(9===x){if(!(j=b.getElementById(f)))return d;if(j.id===f)return d.push(j),d}else if(w&&(j=w.getElementById(f))&&t(b,j)&&j.id===f)return d.push(j),d}else{if(o[2])return H.apply(d,b.getElementsByTagName(a)),d;if((f=o[3])&&c.getElementsByClassName&&b.getElementsByClassName)return H.apply(d,b.getElementsByClassName(f)),d}if(c.qsa&&!A[a+" "]&&(!q||!q.test(a))){if(1!==x)w=b,s=a;else if("object"!==b.nodeName.toLowerCase()){(k=b.getAttribute("id"))?k=k.replace(aa,"\\\\$&"):b.setAttribute("id",k=u),r=g(a),h=r.length,l=V.test(k)?"#"+k:"[id=\'"+k+"\']";while(h--)r[h]=l+" "+qa(r[h]);s=r.join(","),w=_.test(a)&&oa(b.parentNode)||b}if(s)try{return H.apply(d,w.querySelectorAll(s)),d}catch(y){}finally{k===u&&b.removeAttribute("id")}}}return i(a.replace(Q,"$1"),b,d,e)}function ga(){var a=[];function b(c,e){return a.push(c+" ")>d.cacheLength&&delete b[a.shift()],b[c+" "]=e}return b}function ha(a){return a[u]=!0,a}function ia(a){var b=n.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function ja(a,b){var c=a.split("|"),e=c.length;while(e--)d.attrHandle[c[e]]=b}function ka(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||C)-(~a.sourceIndex||C);if(d)return d;if(c)while(c=c.nextSibling)if(c===b)return-1;return a?1:-1}function la(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function ma(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function na(a){return ha(function(b){return b=+b,ha(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function oa(a){return a&&"undefined"!=typeof a.getElementsByTagName&&a}c=fa.support={},f=fa.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},m=fa.setDocument=function(a){var b,e,g=a?a.ownerDocument||a:v;return g!==n&&9===g.nodeType&&g.documentElement?(n=g,o=n.documentElement,p=!f(n),(e=n.defaultView)&&e.top!==e&&(e.addEventListener?e.addEventListener("unload",da,!1):e.attachEvent&&e.attachEvent("onunload",da)),c.attributes=ia(function(a){return a.className="i",!a.getAttribute("className")}),c.getElementsByTagName=ia(function(a){return a.appendChild(n.createComment("")),!a.getElementsByTagName("*").length}),c.getElementsByClassName=Z.test(n.getElementsByClassName),c.getById=ia(function(a){return o.appendChild(a).id=u,!n.getElementsByName||!n.getElementsByName(u).length}),c.getById?(d.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&p){var c=b.getElementById(a);return c?[c]:[]}},d.filter.ID=function(a){var b=a.replace(ba,ca);return function(a){return a.getAttribute("id")===b}}):(delete d.find.ID,d.filter.ID=function(a){var b=a.replace(ba,ca);return function(a){var c="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return c&&c.value===b}}),d.find.TAG=c.getElementsByTagName?function(a,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(a):c.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){while(c=f[e++])1===c.nodeType&&d.push(c);return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){return"undefined"!=typeof b.getElementsByClassName&&p?b.getElementsByClassName(a):void 0},r=[],q=[],(c.qsa=Z.test(n.querySelectorAll))&&(ia(function(a){o.appendChild(a).innerHTML="<a id=\'"+u+"\'></a><select id=\'"+u+"-\\r\\\\\' msallowcapture=\'\'><option selected=\'\'></option></select>",a.querySelectorAll("[msallowcapture^=\'\']").length&&q.push("[*^$]="+L+"*(?:\'\'|\\"\\")"),a.querySelectorAll("[selected]").length||q.push("\\\\["+L+"*(?:value|"+K+")"),a.querySelectorAll("[id~="+u+"-]").length||q.push("~="),a.querySelectorAll(":checked").length||q.push(":checked"),a.querySelectorAll("a#"+u+"+*").length||q.push(".#.+[+~]")}),ia(function(a){var b=n.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&q.push("name"+L+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||q.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),q.push(",.*:")})),(c.matchesSelector=Z.test(s=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&ia(function(a){c.disconnectedMatch=s.call(a,"div"),s.call(a,"[s!=\'\']:x"),r.push("!=",O)}),q=q.length&&new RegExp(q.join("|")),r=r.length&&new RegExp(r.join("|")),b=Z.test(o.compareDocumentPosition),t=b||Z.test(o.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)while(b=b.parentNode)if(b===a)return!0;return!1},B=b?function(a,b){if(a===b)return l=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===n||a.ownerDocument===v&&t(v,a)?-1:b===n||b.ownerDocument===v&&t(v,b)?1:k?J(k,a)-J(k,b):0:4&d?-1:1)}:function(a,b){if(a===b)return l=!0,0;var c,d=0,e=a.parentNode,f=b.parentNode,g=[a],h=[b];if(!e||!f)return a===n?-1:b===n?1:e?-1:f?1:k?J(k,a)-J(k,b):0;if(e===f)return ka(a,b);c=a;while(c=c.parentNode)g.unshift(c);c=b;while(c=c.parentNode)h.unshift(c);while(g[d]===h[d])d++;return d?ka(g[d],h[d]):g[d]===v?-1:h[d]===v?1:0},n):n},fa.matches=function(a,b){return fa(a,null,null,b)},fa.matchesSelector=function(a,b){if((a.ownerDocument||a)!==n&&m(a),b=b.replace(T,"=\'$1\']"),c.matchesSelector&&p&&!A[b+" "]&&(!r||!r.test(b))&&(!q||!q.test(b)))try{var d=s.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return fa(b,n,null,[a]).length>0},fa.contains=function(a,b){return(a.ownerDocument||a)!==n&&m(a),t(a,b)},fa.attr=function(a,b){(a.ownerDocument||a)!==n&&m(a);var e=d.attrHandle[b.toLowerCase()],f=e&&D.call(d.attrHandle,b.toLowerCase())?e(a,b,!p):void 0;return void 0!==f?f:c.attributes||!p?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},fa.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},fa.uniqueSort=function(a){var b,d=[],e=0,f=0;if(l=!c.detectDuplicates,k=!c.sortStable&&a.slice(0),a.sort(B),l){while(b=a[f++])b===a[f]&&(e=d.push(f));while(e--)a.splice(d[e],1)}return k=null,a},e=fa.getText=function(a){var b,c="",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=e(a)}else if(3===f||4===f)return a.nodeValue}else while(b=a[d++])c+=e(b);return c},d=fa.selectors={cacheLength:50,createPseudo:ha,match:W,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(ba,ca),a[3]=(a[3]||a[4]||a[5]||"").replace(ba,ca),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||fa.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&fa.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return W.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&U.test(c)&&(b=g(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(ba,ca).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=y[a+" "];return b||(b=new RegExp("(^|"+L+")"+a+"("+L+"|$)"))&&y(a,function(a){return b.test("string"==typeof a.className&&a.className||"undefined"!=typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var e=fa.attr(d,a);return null==e?"!="===b:b?(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&e.indexOf(c)>-1:"$="===b?c&&e.slice(-c.length)===c:"~="===b?(" "+e.replace(P," ")+" ").indexOf(c)>-1:"|="===b?e===c||e.slice(0,c.length+1)===c+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h,t=!1;if(q){if(f){while(p){m=b;while(m=m[p])if(h?m.nodeName.toLowerCase()===r:1===m.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){m=q,l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===w&&j[1],t=n&&j[2],m=n&&q.childNodes[n];while(m=++n&&m&&m[p]||(t=n=0)||o.pop())if(1===m.nodeType&&++t&&m===b){k[a]=[w,n,t];break}}else if(s&&(m=b,l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===w&&j[1],t=n),t===!1)while(m=++n&&m&&m[p]||(t=n=0)||o.pop())if((h?m.nodeName.toLowerCase()===r:1===m.nodeType)&&++t&&(s&&(l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),k[a]=[w,t]),m===b))break;return t-=e,t===d||t%d===0&&t/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||fa.error("unsupported pseudo: "+a);return e[u]?e(b):e.length>1?(c=[a,a,"",b],d.setFilters.hasOwnProperty(a.toLowerCase())?ha(function(a,c){var d,f=e(a,b),g=f.length;while(g--)d=J(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,c)}):e}},pseudos:{not:ha(function(a){var b=[],c=[],d=h(a.replace(Q,"$1"));return d[u]?ha(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),b[0]=null,!c.pop()}}),has:ha(function(a){return function(b){return fa(a,b).length>0}}),contains:ha(function(a){return a=a.replace(ba,ca),function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:ha(function(a){return V.test(a||"")||fa.error("unsupported lang: "+a),a=a.replace(ba,ca).toLowerCase(),function(b){var c;do if(c=p?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===o},focus:function(a){return a===n.activeElement&&(!n.hasFocus||n.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!d.pseudos.empty(a)},header:function(a){return Y.test(a.nodeName)},input:function(a){return X.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:na(function(){return[0]}),last:na(function(a,b){return[b-1]}),eq:na(function(a,b,c){return[0>c?c+b:c]}),even:na(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:na(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:na(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:na(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},d.pseudos.nth=d.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})d.pseudos[b]=la(b);for(b in{submit:!0,reset:!0})d.pseudos[b]=ma(b);function pa(){}pa.prototype=d.filters=d.pseudos,d.setFilters=new pa,g=fa.tokenize=function(a,b){var c,e,f,g,h,i,j,k=z[a+" "];if(k)return b?0:k.slice(0);h=a,i=[],j=d.preFilter;while(h){c&&!(e=R.exec(h))||(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=S.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(Q," ")}),h=h.slice(c.length));for(g in d.filter)!(e=W[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length));if(!c)break}return b?h.length:h?fa.error(a):z(a,i).slice(0)};function qa(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function ra(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=x++;return b.first?function(b,c,f){while(b=b[d])if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j,k=[w,f];if(g){while(b=b[d])if((1===b.nodeType||e)&&a(b,c,g))return!0}else while(b=b[d])if(1===b.nodeType||e){if(j=b[u]||(b[u]={}),i=j[b.uniqueID]||(j[b.uniqueID]={}),(h=i[d])&&h[0]===w&&h[1]===f)return k[2]=h[2];if(i[d]=k,k[2]=a(b,c,g))return!0}}}function sa(a){return a.length>1?function(b,c,d){var e=a.length;while(e--)if(!a[e](b,c,d))return!1;return!0}:a[0]}function ta(a,b,c){for(var d=0,e=b.length;e>d;d++)fa(a,b[d],c);return c}function ua(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(c&&!c(f,d,e)||(g.push(f),j&&b.push(h)));return g}function va(a,b,c,d,e,f){return d&&!d[u]&&(d=va(d)),e&&!e[u]&&(e=va(e,f)),ha(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||ta(b||"*",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:ua(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d){j=ua(r,n),d(j,[],h,i),k=j.length;while(k--)(l=j[k])&&(r[n[k]]=!(q[n[k]]=l))}if(f){if(e||a){if(e){j=[],k=r.length;while(k--)(l=r[k])&&j.push(q[k]=l);e(null,r=[],j,i)}k=r.length;while(k--)(l=r[k])&&(j=e?J(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}else r=ua(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):H.apply(g,r)})}function wa(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],h=g||d.relative[" "],i=g?1:0,k=ra(function(a){return a===b},h,!0),l=ra(function(a){return J(b,a)>-1},h,!0),m=[function(a,c,d){var e=!g&&(d||c!==j)||((b=c).nodeType?k(a,c,d):l(a,c,d));return b=null,e}];f>i;i++)if(c=d.relative[a[i].type])m=[ra(sa(m),c)];else{if(c=d.filter[a[i].type].apply(null,a[i].matches),c[u]){for(e=++i;f>e;e++)if(d.relative[a[e].type])break;return va(i>1&&sa(m),i>1&&qa(a.slice(0,i-1).concat({value:" "===a[i-2].type?"*":""})).replace(Q,"$1"),c,e>i&&wa(a.slice(i,e)),f>e&&wa(a=a.slice(e)),f>e&&qa(a))}m.push(c)}return sa(m)}function xa(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,h,i,k){var l,o,q,r=0,s="0",t=f&&[],u=[],v=j,x=f||e&&d.find.TAG("*",k),y=w+=null==v?1:Math.random()||.1,z=x.length;for(k&&(j=g===n||g||k);s!==z&&null!=(l=x[s]);s++){if(e&&l){o=0,g||l.ownerDocument===n||(m(l),h=!p);while(q=a[o++])if(q(l,g||n,h)){i.push(l);break}k&&(w=y)}c&&((l=!q&&l)&&r--,f&&t.push(l))}if(r+=s,c&&s!==r){o=0;while(q=b[o++])q(t,u,g,h);if(f){if(r>0)while(s--)t[s]||u[s]||(u[s]=F.call(i));u=ua(u)}H.apply(i,u),k&&!f&&u.length>0&&r+b.length>1&&fa.uniqueSort(i)}return k&&(w=y,j=v),t};return c?ha(f):f}return h=fa.compile=function(a,b){var c,d=[],e=[],f=A[a+" "];if(!f){b||(b=g(a)),c=b.length;while(c--)f=wa(b[c]),f[u]?d.push(f):e.push(f);f=A(a,xa(e,d)),f.selector=a}return f},i=fa.select=function(a,b,e,f){var i,j,k,l,m,n="function"==typeof a&&a,o=!f&&g(a=n.selector||a);if(e=e||[],1===o.length){if(j=o[0]=o[0].slice(0),j.length>2&&"ID"===(k=j[0]).type&&c.getById&&9===b.nodeType&&p&&d.relative[j[1].type]){if(b=(d.find.ID(k.matches[0].replace(ba,ca),b)||[])[0],!b)return e;n&&(b=b.parentNode),a=a.slice(j.shift().value.length)}i=W.needsContext.test(a)?0:j.length;while(i--){if(k=j[i],d.relative[l=k.type])break;if((m=d.find[l])&&(f=m(k.matches[0].replace(ba,ca),_.test(j[0].type)&&oa(b.parentNode)||b))){if(j.splice(i,1),a=f.length&&qa(j),!a)return H.apply(e,f),e;break}}}return(n||h(a,o))(f,b,!p,e,!b||_.test(a)&&oa(b.parentNode)||b),e},c.sortStable=u.split("").sort(B).join("")===u,c.detectDuplicates=!!l,m(),c.sortDetached=ia(function(a){return 1&a.compareDocumentPosition(n.createElement("div"))}),ia(function(a){return a.innerHTML="<a href=\'#\'></a>","#"===a.firstChild.getAttribute("href")})||ja("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),c.attributes&&ia(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||ja("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),ia(function(a){return null==a.getAttribute("disabled")})||ja(K,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),fa}(a);n.find=t,n.expr=t.selectors,n.expr[":"]=n.expr.pseudos,n.uniqueSort=n.unique=t.uniqueSort,n.text=t.getText,n.isXMLDoc=t.isXML,n.contains=t.contains;var u=function(a,b,c){var d=[],e=void 0!==c;while((a=a[b])&&9!==a.nodeType)if(1===a.nodeType){if(e&&n(a).is(c))break;d.push(a)}return d},v=function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c},w=n.expr.match.needsContext,x=/^<([\\w-]+)\\s*\\/?>(?:<\\/\\1>|)$/,y=/^.[^:#\\[\\.,]*$/;function z(a,b,c){if(n.isFunction(b))return n.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return n.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(y.test(b))return n.filter(b,a,c);b=n.filter(b,a)}return n.grep(a,function(a){return n.inArray(a,b)>-1!==c})}n.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?n.find.matchesSelector(d,a)?[d]:[]:n.find.matches(a,n.grep(b,function(a){return 1===a.nodeType}))},n.fn.extend({find:function(a){var b,c=[],d=this,e=d.length;if("string"!=typeof a)return this.pushStack(n(a).filter(function(){for(b=0;e>b;b++)if(n.contains(d[b],this))return!0}));for(b=0;e>b;b++)n.find(a,d[b],c);return c=this.pushStack(e>1?n.unique(c):c),c.selector=this.selector?this.selector+" "+a:a,c},filter:function(a){return this.pushStack(z(this,a||[],!1))},not:function(a){return this.pushStack(z(this,a||[],!0))},is:function(a){return!!z(this,"string"==typeof a&&w.test(a)?n(a):a||[],!1).length}});var A,B=/^(?:\\s*(<[\\w\\W]+>)[^>]*|#([\\w-]*))$/,C=n.fn.init=function(a,b,c){var e,f;if(!a)return this;if(c=c||A,"string"==typeof a){if(e="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&a.length>=3?[null,a,null]:B.exec(a),!e||!e[1]&&b)return!b||b.jquery?(b||c).find(a):this.constructor(b).find(a);if(e[1]){if(b=b instanceof n?b[0]:b,n.merge(this,n.parseHTML(e[1],b&&b.nodeType?b.ownerDocument||b:d,!0)),x.test(e[1])&&n.isPlainObject(b))for(e in b)n.isFunction(this[e])?this[e](b[e]):this.attr(e,b[e]);return this}if(f=d.getElementById(e[2]),f&&f.parentNode){if(f.id!==e[2])return A.find(a);this.length=1,this[0]=f}return this.context=d,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):n.isFunction(a)?"undefined"!=typeof c.ready?c.ready(a):a(n):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),n.makeArray(a,this))};C.prototype=n.fn,A=n(d);var D=/^(?:parents|prev(?:Until|All))/,E={children:!0,contents:!0,next:!0,prev:!0};n.fn.extend({has:function(a){var b,c=n(a,this),d=c.length;return this.filter(function(){for(b=0;d>b;b++)if(n.contains(this,c[b]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=w.test(a)||"string"!=typeof a?n(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&n.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?n.uniqueSort(f):f)},index:function(a){return a?"string"==typeof a?n.inArray(this[0],n(a)):n.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(n.uniqueSort(n.merge(this.get(),n(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});function F(a,b){do a=a[b];while(a&&1!==a.nodeType);return a}n.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return u(a,"parentNode")},parentsUntil:function(a,b,c){return u(a,"parentNode",c)},next:function(a){return F(a,"nextSibling")},prev:function(a){return F(a,"previousSibling")},nextAll:function(a){return u(a,"nextSibling")},prevAll:function(a){return u(a,"previousSibling")},nextUntil:function(a,b,c){return u(a,"nextSibling",c)},prevUntil:function(a,b,c){return u(a,"previousSibling",c)},siblings:function(a){return v((a.parentNode||{}).firstChild,a)},children:function(a){return v(a.firstChild)},contents:function(a){return n.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:n.merge([],a.childNodes)}},function(a,b){n.fn[a]=function(c,d){var e=n.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=n.filter(d,e)),this.length>1&&(E[a]||(e=n.uniqueSort(e)),D.test(a)&&(e=e.reverse())),this.pushStack(e)}});var G=/\\S+/g;function H(a){var b={};return n.each(a.match(G)||[],function(a,c){b[c]=!0}),b}n.Callbacks=function(a){a="string"==typeof a?H(a):n.extend({},a);var b,c,d,e,f=[],g=[],h=-1,i=function(){for(e=a.once,d=b=!0;g.length;h=-1){c=g.shift();while(++h<f.length)f[h].apply(c[0],c[1])===!1&&a.stopOnFalse&&(h=f.length,c=!1)}a.memory||(c=!1),b=!1,e&&(f=c?[]:"")},j={add:function(){return f&&(c&&!b&&(h=f.length-1,g.push(c)),function d(b){n.each(b,function(b,c){n.isFunction(c)?a.unique&&j.has(c)||f.push(c):c&&c.length&&"string"!==n.type(c)&&d(c)})}(arguments),c&&!b&&i()),this},remove:function(){return n.each(arguments,function(a,b){var c;while((c=n.inArray(b,f,c))>-1)f.splice(c,1),h>=c&&h--}),this},has:function(a){return a?n.inArray(a,f)>-1:f.length>0},empty:function(){return f&&(f=[]),this},disable:function(){return e=g=[],f=c="",this},disabled:function(){return!f},lock:function(){return e=!0,c||j.disable(),this},locked:function(){return!!e},fireWith:function(a,c){return e||(c=c||[],c=[a,c.slice?c.slice():c],g.push(c),b||i()),this},fire:function(){return j.fireWith(this,arguments),this},fired:function(){return!!d}};return j},n.extend({Deferred:function(a){var b=[["resolve","done",n.Callbacks("once memory"),"resolved"],["reject","fail",n.Callbacks("once memory"),"rejected"],["notify","progress",n.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return n.Deferred(function(c){n.each(b,function(b,f){var g=n.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&n.isFunction(a.promise)?a.promise().progress(c.notify).done(c.resolve).fail(c.reject):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?n.extend(a,d):d}},e={};return d.pipe=d.then,n.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b=0,c=e.call(arguments),d=c.length,f=1!==d||a&&n.isFunction(a.promise)?d:0,g=1===f?a:n.Deferred(),h=function(a,b,c){return function(d){b[a]=this,c[a]=arguments.length>1?e.call(arguments):d,c===i?g.notifyWith(b,c):--f||g.resolveWith(b,c)}},i,j,k;if(d>1)for(i=new Array(d),j=new Array(d),k=new Array(d);d>b;b++)c[b]&&n.isFunction(c[b].promise)?c[b].promise().progress(h(b,j,i)).done(h(b,k,c)).fail(g.reject):--f;return f||g.resolveWith(k,c),g.promise()}});var I;n.fn.ready=function(a){return n.ready.promise().done(a),this},n.extend({isReady:!1,readyWait:1,holdReady:function(a){a?n.readyWait++:n.ready(!0)},ready:function(a){(a===!0?--n.readyWait:n.isReady)||(n.isReady=!0,a!==!0&&--n.readyWait>0||(I.resolveWith(d,[n]),n.fn.triggerHandler&&(n(d).triggerHandler("ready"),n(d).off("ready"))))}});function J(){d.addEventListener?(d.removeEventListener("DOMContentLoaded",K),a.removeEventListener("load",K)):(d.detachEvent("onreadystatechange",K),a.detachEvent("onload",K))}function K(){(d.addEventListener||"load"===a.event.type||"complete"===d.readyState)&&(J(),n.ready())}n.ready.promise=function(b){if(!I)if(I=n.Deferred(),"complete"===d.readyState||"loading"!==d.readyState&&!d.documentElement.doScroll)a.setTimeout(n.ready);else if(d.addEventListener)d.addEventListener("DOMContentLoaded",K),a.addEventListener("load",K);else{d.attachEvent("onreadystatechange",K),a.attachEvent("onload",K);var c=!1;try{c=null==a.frameElement&&d.documentElement}catch(e){}c&&c.doScroll&&!function f(){if(!n.isReady){try{c.doScroll("left")}catch(b){return a.setTimeout(f,50)}J(),n.ready()}}()}return I.promise(b)},n.ready.promise();var L;for(L in n(l))break;l.ownFirst="0"===L,l.inlineBlockNeedsLayout=!1,n(function(){var a,b,c,e;c=d.getElementsByTagName("body")[0],c&&c.style&&(b=d.createElement("div"),e=d.createElement("div"),e.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(e).appendChild(b),"undefined"!=typeof b.style.zoom&&(b.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",l.inlineBlockNeedsLayout=a=3===b.offsetWidth,a&&(c.style.zoom=1)),c.removeChild(e))}),function(){var a=d.createElement("div");l.deleteExpando=!0;try{delete a.test}catch(b){l.deleteExpando=!1}a=null}();var M=function(a){var b=n.noData[(a.nodeName+" ").toLowerCase()],c=+a.nodeType||1;return 1!==c&&9!==c?!1:!b||b!==!0&&a.getAttribute("classid")===b},N=/^(?:\\{[\\w\\W]*\\}|\\[[\\w\\W]*\\])$/,O=/([A-Z])/g;function P(a,b,c){if(void 0===c&&1===a.nodeType){var d="data-"+b.replace(O,"-$1").toLowerCase();if(c=a.getAttribute(d),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:N.test(c)?n.parseJSON(c):c}catch(e){}n.data(a,b,c)}else c=void 0;\n}return c}function Q(a){var b;for(b in a)if(("data"!==b||!n.isEmptyObject(a[b]))&&"toJSON"!==b)return!1;return!0}function R(a,b,d,e){if(M(a)){var f,g,h=n.expando,i=a.nodeType,j=i?n.cache:a,k=i?a[h]:a[h]&&h;if(k&&j[k]&&(e||j[k].data)||void 0!==d||"string"!=typeof b)return k||(k=i?a[h]=c.pop()||n.guid++:h),j[k]||(j[k]=i?{}:{toJSON:n.noop}),"object"!=typeof b&&"function"!=typeof b||(e?j[k]=n.extend(j[k],b):j[k].data=n.extend(j[k].data,b)),g=j[k],e||(g.data||(g.data={}),g=g.data),void 0!==d&&(g[n.camelCase(b)]=d),"string"==typeof b?(f=g[b],null==f&&(f=g[n.camelCase(b)])):f=g,f}}function S(a,b,c){if(M(a)){var d,e,f=a.nodeType,g=f?n.cache:a,h=f?a[n.expando]:n.expando;if(g[h]){if(b&&(d=c?g[h]:g[h].data)){n.isArray(b)?b=b.concat(n.map(b,n.camelCase)):b in d?b=[b]:(b=n.camelCase(b),b=b in d?[b]:b.split(" ")),e=b.length;while(e--)delete d[b[e]];if(c?!Q(d):!n.isEmptyObject(d))return}(c||(delete g[h].data,Q(g[h])))&&(f?n.cleanData([a],!0):l.deleteExpando||g!=g.window?delete g[h]:g[h]=void 0)}}}n.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(a){return a=a.nodeType?n.cache[a[n.expando]]:a[n.expando],!!a&&!Q(a)},data:function(a,b,c){return R(a,b,c)},removeData:function(a,b){return S(a,b)},_data:function(a,b,c){return R(a,b,c,!0)},_removeData:function(a,b){return S(a,b,!0)}}),n.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=n.data(f),1===f.nodeType&&!n._data(f,"parsedAttrs"))){c=g.length;while(c--)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=n.camelCase(d.slice(5)),P(f,d,e[d])));n._data(f,"parsedAttrs",!0)}return e}return"object"==typeof a?this.each(function(){n.data(this,a)}):arguments.length>1?this.each(function(){n.data(this,a,b)}):f?P(f,a,n.data(f,a)):void 0},removeData:function(a){return this.each(function(){n.removeData(this,a)})}}),n.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=n._data(a,b),c&&(!d||n.isArray(c)?d=n._data(a,b,n.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=n.queue(a,b),d=c.length,e=c.shift(),f=n._queueHooks(a,b),g=function(){n.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return n._data(a,c)||n._data(a,c,{empty:n.Callbacks("once memory").add(function(){n._removeData(a,b+"queue"),n._removeData(a,c)})})}}),n.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?n.queue(this[0],a):void 0===b?this:this.each(function(){var c=n.queue(this,a,b);n._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&n.dequeue(this,a)})},dequeue:function(a){return this.each(function(){n.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=n.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};"string"!=typeof a&&(b=a,a=void 0),a=a||"fx";while(g--)c=n._data(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}}),function(){var a;l.shrinkWrapBlocks=function(){if(null!=a)return a;a=!1;var b,c,e;return c=d.getElementsByTagName("body")[0],c&&c.style?(b=d.createElement("div"),e=d.createElement("div"),e.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(e).appendChild(b),"undefined"!=typeof b.style.zoom&&(b.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",b.appendChild(d.createElement("div")).style.width="5px",a=3!==b.offsetWidth),c.removeChild(e),a):void 0}}();var T=/[+-]?(?:\\d*\\.|)\\d+(?:[eE][+-]?\\d+|)/.source,U=new RegExp("^(?:([+-])=|)("+T+")([a-z%]*)$","i"),V=["Top","Right","Bottom","Left"],W=function(a,b){return a=b||a,"none"===n.css(a,"display")||!n.contains(a.ownerDocument,a)};function X(a,b,c,d){var e,f=1,g=20,h=d?function(){return d.cur()}:function(){return n.css(a,b,"")},i=h(),j=c&&c[3]||(n.cssNumber[b]?"":"px"),k=(n.cssNumber[b]||"px"!==j&&+i)&&U.exec(n.css(a,b));if(k&&k[3]!==j){j=j||k[3],c=c||[],k=+i||1;do f=f||".5",k/=f,n.style(a,b,k+j);while(f!==(f=h()/i)&&1!==f&&--g)}return c&&(k=+k||+i||0,e=c[1]?k+(c[1]+1)*c[2]:+c[2],d&&(d.unit=j,d.start=k,d.end=e)),e}var Y=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===n.type(c)){e=!0;for(h in c)Y(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,n.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(n(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f},Z=/^(?:checkbox|radio)$/i,$=/<([\\w:-]+)/,_=/^$|\\/(?:java|ecma)script/i,aa=/^\\s+/,ba="abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video";function ca(a){var b=ba.split("|"),c=a.createDocumentFragment();if(c.createElement)while(b.length)c.createElement(b.pop());return c}!function(){var a=d.createElement("div"),b=d.createDocumentFragment(),c=d.createElement("input");a.innerHTML="  <link/><table></table><a href=\'/a\'>a</a><input type=\'checkbox\'/>",l.leadingWhitespace=3===a.firstChild.nodeType,l.tbody=!a.getElementsByTagName("tbody").length,l.htmlSerialize=!!a.getElementsByTagName("link").length,l.html5Clone="<:nav></:nav>"!==d.createElement("nav").cloneNode(!0).outerHTML,c.type="checkbox",c.checked=!0,b.appendChild(c),l.appendChecked=c.checked,a.innerHTML="<textarea>x</textarea>",l.noCloneChecked=!!a.cloneNode(!0).lastChild.defaultValue,b.appendChild(a),c=d.createElement("input"),c.setAttribute("type","radio"),c.setAttribute("checked","checked"),c.setAttribute("name","t"),a.appendChild(c),l.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked,l.noCloneEvent=!!a.addEventListener,a[n.expando]=1,l.attributes=!a.getAttribute(n.expando)}();var da={option:[1,"<select multiple=\'multiple\'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:l.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]};da.optgroup=da.option,da.tbody=da.tfoot=da.colgroup=da.caption=da.thead,da.th=da.td;function ea(a,b){var c,d,e=0,f="undefined"!=typeof a.getElementsByTagName?a.getElementsByTagName(b||"*"):"undefined"!=typeof a.querySelectorAll?a.querySelectorAll(b||"*"):void 0;if(!f)for(f=[],c=a.childNodes||a;null!=(d=c[e]);e++)!b||n.nodeName(d,b)?f.push(d):n.merge(f,ea(d,b));return void 0===b||b&&n.nodeName(a,b)?n.merge([a],f):f}function fa(a,b){for(var c,d=0;null!=(c=a[d]);d++)n._data(c,"globalEval",!b||n._data(b[d],"globalEval"))}var ga=/<|&#?\\w+;/,ha=/<tbody/i;function ia(a){Z.test(a.type)&&(a.defaultChecked=a.checked)}function ja(a,b,c,d,e){for(var f,g,h,i,j,k,m,o=a.length,p=ca(b),q=[],r=0;o>r;r++)if(g=a[r],g||0===g)if("object"===n.type(g))n.merge(q,g.nodeType?[g]:g);else if(ga.test(g)){i=i||p.appendChild(b.createElement("div")),j=($.exec(g)||["",""])[1].toLowerCase(),m=da[j]||da._default,i.innerHTML=m[1]+n.htmlPrefilter(g)+m[2],f=m[0];while(f--)i=i.lastChild;if(!l.leadingWhitespace&&aa.test(g)&&q.push(b.createTextNode(aa.exec(g)[0])),!l.tbody){g="table"!==j||ha.test(g)?"<table>"!==m[1]||ha.test(g)?0:i:i.firstChild,f=g&&g.childNodes.length;while(f--)n.nodeName(k=g.childNodes[f],"tbody")&&!k.childNodes.length&&g.removeChild(k)}n.merge(q,i.childNodes),i.textContent="";while(i.firstChild)i.removeChild(i.firstChild);i=p.lastChild}else q.push(b.createTextNode(g));i&&p.removeChild(i),l.appendChecked||n.grep(ea(q,"input"),ia),r=0;while(g=q[r++])if(d&&n.inArray(g,d)>-1)e&&e.push(g);else if(h=n.contains(g.ownerDocument,g),i=ea(p.appendChild(g),"script"),h&&fa(i),c){f=0;while(g=i[f++])_.test(g.type||"")&&c.push(g)}return i=null,p}!function(){var b,c,e=d.createElement("div");for(b in{submit:!0,change:!0,focusin:!0})c="on"+b,(l[b]=c in a)||(e.setAttribute(c,"t"),l[b]=e.attributes[c].expando===!1);e=null}();var ka=/^(?:input|select|textarea)$/i,la=/^key/,ma=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,na=/^(?:focusinfocus|focusoutblur)$/,oa=/^([^.]*)(?:\\.(.+)|)/;function pa(){return!0}function qa(){return!1}function ra(){try{return d.activeElement}catch(a){}}function sa(a,b,c,d,e,f){var g,h;if("object"==typeof b){"string"!=typeof c&&(d=d||c,c=void 0);for(h in b)sa(a,h,c,d,b[h],f);return a}if(null==d&&null==e?(e=c,d=c=void 0):null==e&&("string"==typeof c?(e=d,d=void 0):(e=d,d=c,c=void 0)),e===!1)e=qa;else if(!e)return a;return 1===f&&(g=e,e=function(a){return n().off(a),g.apply(this,arguments)},e.guid=g.guid||(g.guid=n.guid++)),a.each(function(){n.event.add(this,b,e,d,c)})}n.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=n._data(a);if(r){c.handler&&(i=c,c=i.handler,e=i.selector),c.guid||(c.guid=n.guid++),(g=r.events)||(g=r.events={}),(k=r.handle)||(k=r.handle=function(a){return"undefined"==typeof n||a&&n.event.triggered===a.type?void 0:n.event.dispatch.apply(k.elem,arguments)},k.elem=a),b=(b||"").match(G)||[""],h=b.length;while(h--)f=oa.exec(b[h])||[],o=q=f[1],p=(f[2]||"").split(".").sort(),o&&(j=n.event.special[o]||{},o=(e?j.delegateType:j.bindType)||o,j=n.event.special[o]||{},l=n.extend({type:o,origType:q,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&n.expr.match.needsContext.test(e),namespace:p.join(".")},i),(m=g[o])||(m=g[o]=[],m.delegateCount=0,j.setup&&j.setup.call(a,d,p,k)!==!1||(a.addEventListener?a.addEventListener(o,k,!1):a.attachEvent&&a.attachEvent("on"+o,k))),j.add&&(j.add.call(a,l),l.handler.guid||(l.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,l):m.push(l),n.event.global[o]=!0);a=null}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=n.hasData(a)&&n._data(a);if(r&&(k=r.events)){b=(b||"").match(G)||[""],j=b.length;while(j--)if(h=oa.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o){l=n.event.special[o]||{},o=(d?l.delegateType:l.bindType)||o,m=k[o]||[],h=h[2]&&new RegExp("(^|\\\\.)"+p.join("\\\\.(?:.*\\\\.|)")+"(\\\\.|$)"),i=f=m.length;while(f--)g=m[f],!e&&q!==g.origType||c&&c.guid!==g.guid||h&&!h.test(g.namespace)||d&&d!==g.selector&&("**"!==d||!g.selector)||(m.splice(f,1),g.selector&&m.delegateCount--,l.remove&&l.remove.call(a,g));i&&!m.length&&(l.teardown&&l.teardown.call(a,p,r.handle)!==!1||n.removeEvent(a,o,r.handle),delete k[o])}else for(o in k)n.event.remove(a,o+b[j],c,d,!0);n.isEmptyObject(k)&&(delete r.handle,n._removeData(a,"events"))}},trigger:function(b,c,e,f){var g,h,i,j,l,m,o,p=[e||d],q=k.call(b,"type")?b.type:b,r=k.call(b,"namespace")?b.namespace.split("."):[];if(i=m=e=e||d,3!==e.nodeType&&8!==e.nodeType&&!na.test(q+n.event.triggered)&&(q.indexOf(".")>-1&&(r=q.split("."),q=r.shift(),r.sort()),h=q.indexOf(":")<0&&"on"+q,b=b[n.expando]?b:new n.Event(q,"object"==typeof b&&b),b.isTrigger=f?2:3,b.namespace=r.join("."),b.rnamespace=b.namespace?new RegExp("(^|\\\\.)"+r.join("\\\\.(?:.*\\\\.|)")+"(\\\\.|$)"):null,b.result=void 0,b.target||(b.target=e),c=null==c?[b]:n.makeArray(c,[b]),l=n.event.special[q]||{},f||!l.trigger||l.trigger.apply(e,c)!==!1)){if(!f&&!l.noBubble&&!n.isWindow(e)){for(j=l.delegateType||q,na.test(j+q)||(i=i.parentNode);i;i=i.parentNode)p.push(i),m=i;m===(e.ownerDocument||d)&&p.push(m.defaultView||m.parentWindow||a)}o=0;while((i=p[o++])&&!b.isPropagationStopped())b.type=o>1?j:l.bindType||q,g=(n._data(i,"events")||{})[b.type]&&n._data(i,"handle"),g&&g.apply(i,c),g=h&&i[h],g&&g.apply&&M(i)&&(b.result=g.apply(i,c),b.result===!1&&b.preventDefault());if(b.type=q,!f&&!b.isDefaultPrevented()&&(!l._default||l._default.apply(p.pop(),c)===!1)&&M(e)&&h&&e[q]&&!n.isWindow(e)){m=e[h],m&&(e[h]=null),n.event.triggered=q;try{e[q]()}catch(s){}n.event.triggered=void 0,m&&(e[h]=m)}return b.result}},dispatch:function(a){a=n.event.fix(a);var b,c,d,f,g,h=[],i=e.call(arguments),j=(n._data(this,"events")||{})[a.type]||[],k=n.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){h=n.event.handlers.call(this,a,j),b=0;while((f=h[b++])&&!a.isPropagationStopped()){a.currentTarget=f.elem,c=0;while((g=f.handlers[c++])&&!a.isImmediatePropagationStopped())a.rnamespace&&!a.rnamespace.test(g.namespace)||(a.handleObj=g,a.data=g.data,d=((n.event.special[g.origType]||{}).handle||g.handler).apply(f.elem,i),void 0!==d&&(a.result=d)===!1&&(a.preventDefault(),a.stopPropagation()))}return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&("click"!==a.type||isNaN(a.button)||a.button<1))for(;i!=this;i=i.parentNode||this)if(1===i.nodeType&&(i.disabled!==!0||"click"!==a.type)){for(d=[],c=0;h>c;c++)f=b[c],e=f.selector+" ",void 0===d[e]&&(d[e]=f.needsContext?n(e,this).index(i)>-1:n.find(e,this,null,[i]).length),d[e]&&d.push(f);d.length&&g.push({elem:i,handlers:d})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},fix:function(a){if(a[n.expando])return a;var b,c,e,f=a.type,g=a,h=this.fixHooks[f];h||(this.fixHooks[f]=h=ma.test(f)?this.mouseHooks:la.test(f)?this.keyHooks:{}),e=h.props?this.props.concat(h.props):this.props,a=new n.Event(g),b=e.length;while(b--)c=e[b],a[c]=g[c];return a.target||(a.target=g.srcElement||d),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,h.filter?h.filter(a,g):a},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,e,f,g=b.button,h=b.fromElement;return null==a.pageX&&null!=b.clientX&&(e=a.target.ownerDocument||d,f=e.documentElement,c=e.body,a.pageX=b.clientX+(f&&f.scrollLeft||c&&c.scrollLeft||0)-(f&&f.clientLeft||c&&c.clientLeft||0),a.pageY=b.clientY+(f&&f.scrollTop||c&&c.scrollTop||0)-(f&&f.clientTop||c&&c.clientTop||0)),!a.relatedTarget&&h&&(a.relatedTarget=h===a.target?b.toElement:h),a.which||void 0===g||(a.which=1&g?1:2&g?3:4&g?2:0),a}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==ra()&&this.focus)try{return this.focus(),!1}catch(a){}},delegateType:"focusin"},blur:{trigger:function(){return this===ra()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return n.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(a){return n.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c){var d=n.extend(new n.Event,c,{type:a,isSimulated:!0});n.event.trigger(d,null,b),d.isDefaultPrevented()&&c.preventDefault()}},n.removeEvent=d.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c)}:function(a,b,c){var d="on"+b;a.detachEvent&&("undefined"==typeof a[d]&&(a[d]=null),a.detachEvent(d,c))},n.Event=function(a,b){return this instanceof n.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?pa:qa):this.type=a,b&&n.extend(this,b),this.timeStamp=a&&a.timeStamp||n.now(),void(this[n.expando]=!0)):new n.Event(a,b)},n.Event.prototype={constructor:n.Event,isDefaultPrevented:qa,isPropagationStopped:qa,isImmediatePropagationStopped:qa,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=pa,a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=pa,a&&!this.isSimulated&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=pa,a&&a.stopImmediatePropagation&&a.stopImmediatePropagation(),this.stopPropagation()}},n.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){n.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return e&&(e===d||n.contains(d,e))||(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),l.submit||(n.event.special.submit={setup:function(){return n.nodeName(this,"form")?!1:void n.event.add(this,"click._submit keypress._submit",function(a){var b=a.target,c=n.nodeName(b,"input")||n.nodeName(b,"button")?n.prop(b,"form"):void 0;c&&!n._data(c,"submit")&&(n.event.add(c,"submit._submit",function(a){a._submitBubble=!0}),n._data(c,"submit",!0))})},postDispatch:function(a){a._submitBubble&&(delete a._submitBubble,this.parentNode&&!a.isTrigger&&n.event.simulate("submit",this.parentNode,a))},teardown:function(){return n.nodeName(this,"form")?!1:void n.event.remove(this,"._submit")}}),l.change||(n.event.special.change={setup:function(){return ka.test(this.nodeName)?("checkbox"!==this.type&&"radio"!==this.type||(n.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._justChanged=!0)}),n.event.add(this,"click._change",function(a){this._justChanged&&!a.isTrigger&&(this._justChanged=!1),n.event.simulate("change",this,a)})),!1):void n.event.add(this,"beforeactivate._change",function(a){var b=a.target;ka.test(b.nodeName)&&!n._data(b,"change")&&(n.event.add(b,"change._change",function(a){!this.parentNode||a.isSimulated||a.isTrigger||n.event.simulate("change",this.parentNode,a)}),n._data(b,"change",!0))})},handle:function(a){var b=a.target;return this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type?a.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return n.event.remove(this,"._change"),!ka.test(this.nodeName)}}),l.focusin||n.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){n.event.simulate(b,a.target,n.event.fix(a))};n.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=n._data(d,b);e||d.addEventListener(a,c,!0),n._data(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=n._data(d,b)-1;e?n._data(d,b,e):(d.removeEventListener(a,c,!0),n._removeData(d,b))}}}),n.fn.extend({on:function(a,b,c,d){return sa(this,a,b,c,d)},one:function(a,b,c,d){return sa(this,a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,n(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return b!==!1&&"function"!=typeof b||(c=b,b=void 0),c===!1&&(c=qa),this.each(function(){n.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){n.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?n.event.trigger(a,b,c,!0):void 0}});var ta=/ jQuery\\d+="(?:null|\\d+)"/g,ua=new RegExp("<(?:"+ba+")[\\\\s/>]","i"),va=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:-]+)[^>]*)\\/>/gi,wa=/<script|<style|<link/i,xa=/checked\\s*(?:[^=]|=\\s*.checked.)/i,ya=/^true\\/(.*)/,za=/^\\s*<!(?:\\[CDATA\\[|--)|(?:\\]\\]|--)>\\s*$/g,Aa=ca(d),Ba=Aa.appendChild(d.createElement("div"));function Ca(a,b){return n.nodeName(a,"table")&&n.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function Da(a){return a.type=(null!==n.find.attr(a,"type"))+"/"+a.type,a}function Ea(a){var b=ya.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function Fa(a,b){if(1===b.nodeType&&n.hasData(a)){var c,d,e,f=n._data(a),g=n._data(b,f),h=f.events;if(h){delete g.handle,g.events={};for(c in h)for(d=0,e=h[c].length;e>d;d++)n.event.add(b,c,h[c][d])}g.data&&(g.data=n.extend({},g.data))}}function Ga(a,b){var c,d,e;if(1===b.nodeType){if(c=b.nodeName.toLowerCase(),!l.noCloneEvent&&b[n.expando]){e=n._data(b);for(d in e.events)n.removeEvent(b,d,e.handle);b.removeAttribute(n.expando)}"script"===c&&b.text!==a.text?(Da(b).text=a.text,Ea(b)):"object"===c?(b.parentNode&&(b.outerHTML=a.outerHTML),l.html5Clone&&a.innerHTML&&!n.trim(b.innerHTML)&&(b.innerHTML=a.innerHTML)):"input"===c&&Z.test(a.type)?(b.defaultChecked=b.checked=a.checked,b.value!==a.value&&(b.value=a.value)):"option"===c?b.defaultSelected=b.selected=a.defaultSelected:"input"!==c&&"textarea"!==c||(b.defaultValue=a.defaultValue)}}function Ha(a,b,c,d){b=f.apply([],b);var e,g,h,i,j,k,m=0,o=a.length,p=o-1,q=b[0],r=n.isFunction(q);if(r||o>1&&"string"==typeof q&&!l.checkClone&&xa.test(q))return a.each(function(e){var f=a.eq(e);r&&(b[0]=q.call(this,e,f.html())),Ha(f,b,c,d)});if(o&&(k=ja(b,a[0].ownerDocument,!1,a,d),e=k.firstChild,1===k.childNodes.length&&(k=e),e||d)){for(i=n.map(ea(k,"script"),Da),h=i.length;o>m;m++)g=k,m!==p&&(g=n.clone(g,!0,!0),h&&n.merge(i,ea(g,"script"))),c.call(a[m],g,m);if(h)for(j=i[i.length-1].ownerDocument,n.map(i,Ea),m=0;h>m;m++)g=i[m],_.test(g.type||"")&&!n._data(g,"globalEval")&&n.contains(j,g)&&(g.src?n._evalUrl&&n._evalUrl(g.src):n.globalEval((g.text||g.textContent||g.innerHTML||"").replace(za,"")));k=e=null}return a}function Ia(a,b,c){for(var d,e=b?n.filter(b,a):a,f=0;null!=(d=e[f]);f++)c||1!==d.nodeType||n.cleanData(ea(d)),d.parentNode&&(c&&n.contains(d.ownerDocument,d)&&fa(ea(d,"script")),d.parentNode.removeChild(d));return a}n.extend({htmlPrefilter:function(a){return a.replace(va,"<$1></$2>")},clone:function(a,b,c){var d,e,f,g,h,i=n.contains(a.ownerDocument,a);if(l.html5Clone||n.isXMLDoc(a)||!ua.test("<"+a.nodeName+">")?f=a.cloneNode(!0):(Ba.innerHTML=a.outerHTML,Ba.removeChild(f=Ba.firstChild)),!(l.noCloneEvent&&l.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||n.isXMLDoc(a)))for(d=ea(f),h=ea(a),g=0;null!=(e=h[g]);++g)d[g]&&Ga(e,d[g]);if(b)if(c)for(h=h||ea(a),d=d||ea(f),g=0;null!=(e=h[g]);g++)Fa(e,d[g]);else Fa(a,f);return d=ea(f,"script"),d.length>0&&fa(d,!i&&ea(a,"script")),d=h=e=null,f},cleanData:function(a,b){for(var d,e,f,g,h=0,i=n.expando,j=n.cache,k=l.attributes,m=n.event.special;null!=(d=a[h]);h++)if((b||M(d))&&(f=d[i],g=f&&j[f])){if(g.events)for(e in g.events)m[e]?n.event.remove(d,e):n.removeEvent(d,e,g.handle);j[f]&&(delete j[f],k||"undefined"==typeof d.removeAttribute?d[i]=void 0:d.removeAttribute(i),c.push(f))}}}),n.fn.extend({domManip:Ha,detach:function(a){return Ia(this,a,!0)},remove:function(a){return Ia(this,a)},text:function(a){return Y(this,function(a){return void 0===a?n.text(this):this.empty().append((this[0]&&this[0].ownerDocument||d).createTextNode(a))},null,a,arguments.length)},append:function(){return Ha(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=Ca(this,a);b.appendChild(a)}})},prepend:function(){return Ha(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=Ca(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return Ha(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return Ha(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},empty:function(){for(var a,b=0;null!=(a=this[b]);b++){1===a.nodeType&&n.cleanData(ea(a,!1));while(a.firstChild)a.removeChild(a.firstChild);a.options&&n.nodeName(a,"select")&&(a.options.length=0)}return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return n.clone(this,a,b)})},html:function(a){return Y(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a)return 1===b.nodeType?b.innerHTML.replace(ta,""):void 0;if("string"==typeof a&&!wa.test(a)&&(l.htmlSerialize||!ua.test(a))&&(l.leadingWhitespace||!aa.test(a))&&!da[($.exec(a)||["",""])[1].toLowerCase()]){a=n.htmlPrefilter(a);try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(n.cleanData(ea(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=[];return Ha(this,arguments,function(b){var c=this.parentNode;n.inArray(this,a)<0&&(n.cleanData(ea(this)),c&&c.replaceChild(b,this))},a)}}),n.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){n.fn[a]=function(a){for(var c,d=0,e=[],f=n(a),h=f.length-1;h>=d;d++)c=d===h?this:this.clone(!0),n(f[d])[b](c),g.apply(e,c.get());return this.pushStack(e)}});var Ja,Ka={HTML:"block",BODY:"block"};function La(a,b){var c=n(b.createElement(a)).appendTo(b.body),d=n.css(c[0],"display");return c.detach(),d}function Ma(a){var b=d,c=Ka[a];return c||(c=La(a,b),"none"!==c&&c||(Ja=(Ja||n("<iframe frameborder=\'0\' width=\'0\' height=\'0\'/>")).appendTo(b.documentElement),b=(Ja[0].contentWindow||Ja[0].contentDocument).document,b.write(),b.close(),c=La(a,b),Ja.detach()),Ka[a]=c),c}var Na=/^margin/,Oa=new RegExp("^("+T+")(?!px)[a-z%]+$","i"),Pa=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e},Qa=d.documentElement;!function(){var b,c,e,f,g,h,i=d.createElement("div"),j=d.createElement("div");if(j.style){j.style.cssText="float:left;opacity:.5",l.opacity="0.5"===j.style.opacity,l.cssFloat=!!j.style.cssFloat,j.style.backgroundClip="content-box",j.cloneNode(!0).style.backgroundClip="",l.clearCloneStyle="content-box"===j.style.backgroundClip,i=d.createElement("div"),i.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",j.innerHTML="",i.appendChild(j),l.boxSizing=""===j.style.boxSizing||""===j.style.MozBoxSizing||""===j.style.WebkitBoxSizing,n.extend(l,{reliableHiddenOffsets:function(){return null==b&&k(),f},boxSizingReliable:function(){return null==b&&k(),e},pixelMarginRight:function(){return null==b&&k(),c},pixelPosition:function(){return null==b&&k(),b},reliableMarginRight:function(){return null==b&&k(),g},reliableMarginLeft:function(){return null==b&&k(),h}});function k(){var k,l,m=d.documentElement;m.appendChild(i),j.style.cssText="-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",b=e=h=!1,c=g=!0,a.getComputedStyle&&(l=a.getComputedStyle(j),b="1%"!==(l||{}).top,h="2px"===(l||{}).marginLeft,e="4px"===(l||{width:"4px"}).width,j.style.marginRight="50%",c="4px"===(l||{marginRight:"4px"}).marginRight,k=j.appendChild(d.createElement("div")),k.style.cssText=j.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",k.style.marginRight=k.style.width="0",j.style.width="1px",g=!parseFloat((a.getComputedStyle(k)||{}).marginRight),j.removeChild(k)),j.style.display="none",f=0===j.getClientRects().length,f&&(j.style.display="",j.innerHTML="<table><tr><td></td><td>t</td></tr></table>",j.childNodes[0].style.borderCollapse="separate",k=j.getElementsByTagName("td"),k[0].style.cssText="margin:0;border:0;padding:0;display:none",f=0===k[0].offsetHeight,f&&(k[0].style.display="",k[1].style.display="none",f=0===k[0].offsetHeight)),m.removeChild(i)}}}();var Ra,Sa,Ta=/^(top|right|bottom|left)$/;a.getComputedStyle?(Ra=function(b){var c=b.ownerDocument.defaultView;return c&&c.opener||(c=a),c.getComputedStyle(b)},Sa=function(a,b,c){var d,e,f,g,h=a.style;return c=c||Ra(a),g=c?c.getPropertyValue(b)||c[b]:void 0,""!==g&&void 0!==g||n.contains(a.ownerDocument,a)||(g=n.style(a,b)),c&&!l.pixelMarginRight()&&Oa.test(g)&&Na.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f),void 0===g?g:g+""}):Qa.currentStyle&&(Ra=function(a){return a.currentStyle},Sa=function(a,b,c){var d,e,f,g,h=a.style;return c=c||Ra(a),g=c?c[b]:void 0,null==g&&h&&h[b]&&(g=h[b]),Oa.test(g)&&!Ta.test(b)&&(d=h.left,e=a.runtimeStyle,f=e&&e.left,f&&(e.left=a.currentStyle.left),h.left="fontSize"===b?"1em":g,g=h.pixelLeft+"px",h.left=d,f&&(e.left=f)),void 0===g?g:g+""||"auto"});function Ua(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}var Va=/alpha\\([^)]*\\)/i,Wa=/opacity\\s*=\\s*([^)]*)/i,Xa=/^(none|table(?!-c[ea]).+)/,Ya=new RegExp("^("+T+")(.*)$","i"),Za={position:"absolute",visibility:"hidden",display:"block"},$a={letterSpacing:"0",fontWeight:"400"},_a=["Webkit","O","Moz","ms"],ab=d.createElement("div").style;function bb(a){if(a in ab)return a;var b=a.charAt(0).toUpperCase()+a.slice(1),c=_a.length;while(c--)if(a=_a[c]+b,a in ab)return a}function cb(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=n._data(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&W(d)&&(f[g]=n._data(d,"olddisplay",Ma(d.nodeName)))):(e=W(d),(c&&"none"!==c||!e)&&n._data(d,"olddisplay",e?c:n.css(d,"display"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}function db(a,b,c){var d=Ya.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function eb(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=n.css(a,c+V[f],!0,e)),d?("content"===c&&(g-=n.css(a,"padding"+V[f],!0,e)),"margin"!==c&&(g-=n.css(a,"border"+V[f]+"Width",!0,e))):(g+=n.css(a,"padding"+V[f],!0,e),"padding"!==c&&(g+=n.css(a,"border"+V[f]+"Width",!0,e)));return g}function fb(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=Ra(a),g=l.boxSizing&&"border-box"===n.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=Sa(a,b,f),(0>e||null==e)&&(e=a.style[b]),Oa.test(e))return e;d=g&&(l.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+eb(a,b,c||(g?"border":"content"),d,f)+"px"}n.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=Sa(a,"opacity");return""===c?"1":c}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":l.cssFloat?"cssFloat":"styleFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=n.camelCase(b),i=a.style;if(b=n.cssProps[h]||(n.cssProps[h]=bb(h)||h),g=n.cssHooks[b]||n.cssHooks[h],void 0===c)return g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b];if(f=typeof c,"string"===f&&(e=U.exec(c))&&e[1]&&(c=X(a,b,e),f="number"),null!=c&&c===c&&("number"===f&&(c+=e&&e[3]||(n.cssNumber[h]?"":"px")),l.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),!(g&&"set"in g&&void 0===(c=g.set(a,c,d)))))try{i[b]=c}catch(j){}}},css:function(a,b,c,d){var e,f,g,h=n.camelCase(b);return b=n.cssProps[h]||(n.cssProps[h]=bb(h)||h),g=n.cssHooks[b]||n.cssHooks[h],g&&"get"in g&&(f=g.get(a,!0,c)),void 0===f&&(f=Sa(a,b,d)),"normal"===f&&b in $a&&(f=$a[b]),""===c||c?(e=parseFloat(f),c===!0||isFinite(e)?e||0:f):f}}),n.each(["height","width"],function(a,b){n.cssHooks[b]={get:function(a,c,d){return c?Xa.test(n.css(a,"display"))&&0===a.offsetWidth?Pa(a,Za,function(){return fb(a,b,d)}):fb(a,b,d):void 0},set:function(a,c,d){var e=d&&Ra(a);return db(a,c,d?eb(a,b,d,l.boxSizing&&"border-box"===n.css(a,"boxSizing",!1,e),e):0)}}}),l.opacity||(n.cssHooks.opacity={get:function(a,b){return Wa.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=n.isNumeric(b)?"alpha(opacity="+100*b+")":"",f=d&&d.filter||c.filter||"";c.zoom=1,(b>=1||""===b)&&""===n.trim(f.replace(Va,""))&&c.removeAttribute&&(c.removeAttribute("filter"),""===b||d&&!d.filter)||(c.filter=Va.test(f)?f.replace(Va,e):f+" "+e)}}),n.cssHooks.marginRight=Ua(l.reliableMarginRight,function(a,b){return b?Pa(a,{display:"inline-block"},Sa,[a,"marginRight"]):void 0}),n.cssHooks.marginLeft=Ua(l.reliableMarginLeft,function(a,b){return b?(parseFloat(Sa(a,"marginLeft"))||(n.contains(a.ownerDocument,a)?a.getBoundingClientRect().left-Pa(a,{\nmarginLeft:0},function(){return a.getBoundingClientRect().left}):0))+"px":void 0}),n.each({margin:"",padding:"",border:"Width"},function(a,b){n.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+V[d]+b]=f[d]||f[d-2]||f[0];return e}},Na.test(a)||(n.cssHooks[a+b].set=db)}),n.fn.extend({css:function(a,b){return Y(this,function(a,b,c){var d,e,f={},g=0;if(n.isArray(b)){for(d=Ra(a),e=b.length;e>g;g++)f[b[g]]=n.css(a,b[g],!1,d);return f}return void 0!==c?n.style(a,b,c):n.css(a,b)},a,b,arguments.length>1)},show:function(){return cb(this,!0)},hide:function(){return cb(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){W(this)?n(this).show():n(this).hide()})}});function gb(a,b,c,d,e){return new gb.prototype.init(a,b,c,d,e)}n.Tween=gb,gb.prototype={constructor:gb,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||n.easing._default,this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(n.cssNumber[c]?"":"px")},cur:function(){var a=gb.propHooks[this.prop];return a&&a.get?a.get(this):gb.propHooks._default.get(this)},run:function(a){var b,c=gb.propHooks[this.prop];return this.options.duration?this.pos=b=n.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):gb.propHooks._default.set(this),this}},gb.prototype.init.prototype=gb.prototype,gb.propHooks={_default:{get:function(a){var b;return 1!==a.elem.nodeType||null!=a.elem[a.prop]&&null==a.elem.style[a.prop]?a.elem[a.prop]:(b=n.css(a.elem,a.prop,""),b&&"auto"!==b?b:0)},set:function(a){n.fx.step[a.prop]?n.fx.step[a.prop](a):1!==a.elem.nodeType||null==a.elem.style[n.cssProps[a.prop]]&&!n.cssHooks[a.prop]?a.elem[a.prop]=a.now:n.style(a.elem,a.prop,a.now+a.unit)}}},gb.propHooks.scrollTop=gb.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},n.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2},_default:"swing"},n.fx=gb.prototype.init,n.fx.step={};var hb,ib,jb=/^(?:toggle|show|hide)$/,kb=/queueHooks$/;function lb(){return a.setTimeout(function(){hb=void 0}),hb=n.now()}function mb(a,b){var c,d={height:a},e=0;for(b=b?1:0;4>e;e+=2-b)c=V[e],d["margin"+c]=d["padding"+c]=a;return b&&(d.opacity=d.width=a),d}function nb(a,b,c){for(var d,e=(qb.tweeners[b]||[]).concat(qb.tweeners["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function ob(a,b,c){var d,e,f,g,h,i,j,k,m=this,o={},p=a.style,q=a.nodeType&&W(a),r=n._data(a,"fxshow");c.queue||(h=n._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,m.always(function(){m.always(function(){h.unqueued--,n.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[p.overflow,p.overflowX,p.overflowY],j=n.css(a,"display"),k="none"===j?n._data(a,"olddisplay")||Ma(a.nodeName):j,"inline"===k&&"none"===n.css(a,"float")&&(l.inlineBlockNeedsLayout&&"inline"!==Ma(a.nodeName)?p.zoom=1:p.display="inline-block")),c.overflow&&(p.overflow="hidden",l.shrinkWrapBlocks()||m.always(function(){p.overflow=c.overflow[0],p.overflowX=c.overflow[1],p.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],jb.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(q?"hide":"show")){if("show"!==e||!r||void 0===r[d])continue;q=!0}o[d]=r&&r[d]||n.style(a,d)}else j=void 0;if(n.isEmptyObject(o))"inline"===("none"===j?Ma(a.nodeName):j)&&(p.display=j);else{r?"hidden"in r&&(q=r.hidden):r=n._data(a,"fxshow",{}),f&&(r.hidden=!q),q?n(a).show():m.done(function(){n(a).hide()}),m.done(function(){var b;n._removeData(a,"fxshow");for(b in o)n.style(a,b,o[b])});for(d in o)g=nb(q?r[d]:0,d,m),d in r||(r[d]=g.start,q&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function pb(a,b){var c,d,e,f,g;for(c in a)if(d=n.camelCase(c),e=b[d],f=a[c],n.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=n.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function qb(a,b,c){var d,e,f=0,g=qb.prefilters.length,h=n.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=hb||lb(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:n.extend({},b),opts:n.extend(!0,{specialEasing:{},easing:n.easing._default},c),originalProperties:b,originalOptions:c,startTime:hb||lb(),duration:c.duration,tweens:[],createTween:function(b,c){var d=n.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?(h.notifyWith(a,[j,1,0]),h.resolveWith(a,[j,b])):h.rejectWith(a,[j,b]),this}}),k=j.props;for(pb(k,j.opts.specialEasing);g>f;f++)if(d=qb.prefilters[f].call(j,a,k,j.opts))return n.isFunction(d.stop)&&(n._queueHooks(j.elem,j.opts.queue).stop=n.proxy(d.stop,d)),d;return n.map(k,nb,j),n.isFunction(j.opts.start)&&j.opts.start.call(a,j),n.fx.timer(n.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}n.Animation=n.extend(qb,{tweeners:{"*":[function(a,b){var c=this.createTween(a,b);return X(c.elem,a,U.exec(b),c),c}]},tweener:function(a,b){n.isFunction(a)?(b=a,a=["*"]):a=a.match(G);for(var c,d=0,e=a.length;e>d;d++)c=a[d],qb.tweeners[c]=qb.tweeners[c]||[],qb.tweeners[c].unshift(b)},prefilters:[ob],prefilter:function(a,b){b?qb.prefilters.unshift(a):qb.prefilters.push(a)}}),n.speed=function(a,b,c){var d=a&&"object"==typeof a?n.extend({},a):{complete:c||!c&&b||n.isFunction(a)&&a,duration:a,easing:c&&b||b&&!n.isFunction(b)&&b};return d.duration=n.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in n.fx.speeds?n.fx.speeds[d.duration]:n.fx.speeds._default,null!=d.queue&&d.queue!==!0||(d.queue="fx"),d.old=d.complete,d.complete=function(){n.isFunction(d.old)&&d.old.call(this),d.queue&&n.dequeue(this,d.queue)},d},n.fn.extend({fadeTo:function(a,b,c,d){return this.filter(W).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=n.isEmptyObject(a),f=n.speed(b,c,d),g=function(){var b=qb(this,n.extend({},a),f);(e||n._data(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=n.timers,g=n._data(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&kb.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));!b&&c||n.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=n._data(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=n.timers,g=d?d.length:0;for(c.finish=!0,n.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),n.each(["toggle","show","hide"],function(a,b){var c=n.fn[b];n.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(mb(b,!0),a,d,e)}}),n.each({slideDown:mb("show"),slideUp:mb("hide"),slideToggle:mb("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){n.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),n.timers=[],n.fx.tick=function(){var a,b=n.timers,c=0;for(hb=n.now();c<b.length;c++)a=b[c],a()||b[c]!==a||b.splice(c--,1);b.length||n.fx.stop(),hb=void 0},n.fx.timer=function(a){n.timers.push(a),a()?n.fx.start():n.timers.pop()},n.fx.interval=13,n.fx.start=function(){ib||(ib=a.setInterval(n.fx.tick,n.fx.interval))},n.fx.stop=function(){a.clearInterval(ib),ib=null},n.fx.speeds={slow:600,fast:200,_default:400},n.fn.delay=function(b,c){return b=n.fx?n.fx.speeds[b]||b:b,c=c||"fx",this.queue(c,function(c,d){var e=a.setTimeout(c,b);d.stop=function(){a.clearTimeout(e)}})},function(){var a,b=d.createElement("input"),c=d.createElement("div"),e=d.createElement("select"),f=e.appendChild(d.createElement("option"));c=d.createElement("div"),c.setAttribute("className","t"),c.innerHTML="  <link/><table></table><a href=\'/a\'>a</a><input type=\'checkbox\'/>",a=c.getElementsByTagName("a")[0],b.setAttribute("type","checkbox"),c.appendChild(b),a=c.getElementsByTagName("a")[0],a.style.cssText="top:1px",l.getSetAttribute="t"!==c.className,l.style=/top/.test(a.getAttribute("style")),l.hrefNormalized="/a"===a.getAttribute("href"),l.checkOn=!!b.value,l.optSelected=f.selected,l.enctype=!!d.createElement("form").enctype,e.disabled=!0,l.optDisabled=!f.disabled,b=d.createElement("input"),b.setAttribute("value",""),l.input=""===b.getAttribute("value"),b.value="t",b.setAttribute("type","radio"),l.radioValue="t"===b.value}();var rb=/\\r/g,sb=/[\\x20\\t\\r\\n\\f]+/g;n.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=n.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,n(this).val()):a,null==e?e="":"number"==typeof e?e+="":n.isArray(e)&&(e=n.map(e,function(a){return null==a?"":a+""})),b=n.valHooks[this.type]||n.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(e)return b=n.valHooks[e.type]||n.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(rb,""):null==c?"":c)}}}),n.extend({valHooks:{option:{get:function(a){var b=n.find.attr(a,"value");return null!=b?b:n.trim(n.text(a)).replace(sb," ")}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],(c.selected||i===e)&&(l.optDisabled?!c.disabled:null===c.getAttribute("disabled"))&&(!c.parentNode.disabled||!n.nodeName(c.parentNode,"optgroup"))){if(b=n(c).val(),f)return b;g.push(b)}return g},set:function(a,b){var c,d,e=a.options,f=n.makeArray(b),g=e.length;while(g--)if(d=e[g],n.inArray(n.valHooks.option.get(d),f)>-1)try{d.selected=c=!0}catch(h){d.scrollHeight}else d.selected=!1;return c||(a.selectedIndex=-1),e}}}}),n.each(["radio","checkbox"],function(){n.valHooks[this]={set:function(a,b){return n.isArray(b)?a.checked=n.inArray(n(a).val(),b)>-1:void 0}},l.checkOn||(n.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var tb,ub,vb=n.expr.attrHandle,wb=/^(?:checked|selected)$/i,xb=l.getSetAttribute,yb=l.input;n.fn.extend({attr:function(a,b){return Y(this,n.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){n.removeAttr(this,a)})}}),n.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return"undefined"==typeof a.getAttribute?n.prop(a,b,c):(1===f&&n.isXMLDoc(a)||(b=b.toLowerCase(),e=n.attrHooks[b]||(n.expr.match.bool.test(b)?ub:tb)),void 0!==c?null===c?void n.removeAttr(a,b):e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:(a.setAttribute(b,c+""),c):e&&"get"in e&&null!==(d=e.get(a,b))?d:(d=n.find.attr(a,b),null==d?void 0:d))},attrHooks:{type:{set:function(a,b){if(!l.radioValue&&"radio"===b&&n.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(G);if(f&&1===a.nodeType)while(c=f[e++])d=n.propFix[c]||c,n.expr.match.bool.test(c)?yb&&xb||!wb.test(c)?a[d]=!1:a[n.camelCase("default-"+c)]=a[d]=!1:n.attr(a,c,""),a.removeAttribute(xb?c:d)}}),ub={set:function(a,b,c){return b===!1?n.removeAttr(a,c):yb&&xb||!wb.test(c)?a.setAttribute(!xb&&n.propFix[c]||c,c):a[n.camelCase("default-"+c)]=a[c]=!0,c}},n.each(n.expr.match.bool.source.match(/\\w+/g),function(a,b){var c=vb[b]||n.find.attr;yb&&xb||!wb.test(b)?vb[b]=function(a,b,d){var e,f;return d||(f=vb[b],vb[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,vb[b]=f),e}:vb[b]=function(a,b,c){return c?void 0:a[n.camelCase("default-"+b)]?b.toLowerCase():null}}),yb&&xb||(n.attrHooks.value={set:function(a,b,c){return n.nodeName(a,"input")?void(a.defaultValue=b):tb&&tb.set(a,b,c)}}),xb||(tb={set:function(a,b,c){var d=a.getAttributeNode(c);return d||a.setAttributeNode(d=a.ownerDocument.createAttribute(c)),d.value=b+="","value"===c||b===a.getAttribute(c)?b:void 0}},vb.id=vb.name=vb.coords=function(a,b,c){var d;return c?void 0:(d=a.getAttributeNode(b))&&""!==d.value?d.value:null},n.valHooks.button={get:function(a,b){var c=a.getAttributeNode(b);return c&&c.specified?c.value:void 0},set:tb.set},n.attrHooks.contenteditable={set:function(a,b,c){tb.set(a,""===b?!1:b,c)}},n.each(["width","height"],function(a,b){n.attrHooks[b]={set:function(a,c){return""===c?(a.setAttribute(b,"auto"),c):void 0}}})),l.style||(n.attrHooks.style={get:function(a){return a.style.cssText||void 0},set:function(a,b){return a.style.cssText=b+""}});var zb=/^(?:input|select|textarea|button|object)$/i,Ab=/^(?:a|area)$/i;n.fn.extend({prop:function(a,b){return Y(this,n.prop,a,b,arguments.length>1)},removeProp:function(a){return a=n.propFix[a]||a,this.each(function(){try{this[a]=void 0,delete this[a]}catch(b){}})}}),n.extend({prop:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return 1===f&&n.isXMLDoc(a)||(b=n.propFix[b]||b,e=n.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){var b=n.find.attr(a,"tabindex");return b?parseInt(b,10):zb.test(a.nodeName)||Ab.test(a.nodeName)&&a.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),l.hrefNormalized||n.each(["href","src"],function(a,b){n.propHooks[b]={get:function(a){return a.getAttribute(b,4)}}}),l.optSelected||(n.propHooks.selected={get:function(a){var b=a.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null},set:function(a){var b=a.parentNode;b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex)}}),n.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){n.propFix[this.toLowerCase()]=this}),l.enctype||(n.propFix.enctype="encoding");var Bb=/[\\t\\r\\n\\f]/g;function Cb(a){return n.attr(a,"class")||""}n.fn.extend({addClass:function(a){var b,c,d,e,f,g,h,i=0;if(n.isFunction(a))return this.each(function(b){n(this).addClass(a.call(this,b,Cb(this)))});if("string"==typeof a&&a){b=a.match(G)||[];while(c=this[i++])if(e=Cb(c),d=1===c.nodeType&&(" "+e+" ").replace(Bb," ")){g=0;while(f=b[g++])d.indexOf(" "+f+" ")<0&&(d+=f+" ");h=n.trim(d),e!==h&&n.attr(c,"class",h)}}return this},removeClass:function(a){var b,c,d,e,f,g,h,i=0;if(n.isFunction(a))return this.each(function(b){n(this).removeClass(a.call(this,b,Cb(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof a&&a){b=a.match(G)||[];while(c=this[i++])if(e=Cb(c),d=1===c.nodeType&&(" "+e+" ").replace(Bb," ")){g=0;while(f=b[g++])while(d.indexOf(" "+f+" ")>-1)d=d.replace(" "+f+" "," ");h=n.trim(d),e!==h&&n.attr(c,"class",h)}}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):n.isFunction(a)?this.each(function(c){n(this).toggleClass(a.call(this,c,Cb(this),b),b)}):this.each(function(){var b,d,e,f;if("string"===c){d=0,e=n(this),f=a.match(G)||[];while(b=f[d++])e.hasClass(b)?e.removeClass(b):e.addClass(b)}else void 0!==a&&"boolean"!==c||(b=Cb(this),b&&n._data(this,"__className__",b),n.attr(this,"class",b||a===!1?"":n._data(this,"__className__")||""))})},hasClass:function(a){var b,c,d=0;b=" "+a+" ";while(c=this[d++])if(1===c.nodeType&&(" "+Cb(c)+" ").replace(Bb," ").indexOf(b)>-1)return!0;return!1}}),n.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){n.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),n.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}});var Db=a.location,Eb=n.now(),Fb=/\\?/,Gb=/(,)|(\\[|{)|(}|])|"(?:[^"\\\\\\r\\n]|\\\\["\\\\\\/bfnrt]|\\\\u[\\da-fA-F]{4})*"\\s*:?|true|false|null|-?(?!0\\d)\\d+(?:\\.\\d+|)(?:[eE][+-]?\\d+|)/g;n.parseJSON=function(b){if(a.JSON&&a.JSON.parse)return a.JSON.parse(b+"");var c,d=null,e=n.trim(b+"");return e&&!n.trim(e.replace(Gb,function(a,b,e,f){return c&&b&&(d=0),0===d?a:(c=e||b,d+=!f-!e,"")}))?Function("return "+e)():n.error("Invalid JSON: "+b)},n.parseXML=function(b){var c,d;if(!b||"string"!=typeof b)return null;try{a.DOMParser?(d=new a.DOMParser,c=d.parseFromString(b,"text/xml")):(c=new a.ActiveXObject("Microsoft.XMLDOM"),c.async="false",c.loadXML(b))}catch(e){c=void 0}return c&&c.documentElement&&!c.getElementsByTagName("parsererror").length||n.error("Invalid XML: "+b),c};var Hb=/#.*$/,Ib=/([?&])_=[^&]*/,Jb=/^(.*?):[ \\t]*([^\\r\\n]*)\\r?$/gm,Kb=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Lb=/^(?:GET|HEAD)$/,Mb=/^\\/\\//,Nb=/^([\\w.+-]+:)(?:\\/\\/(?:[^\\/?#]*@|)([^\\/?#:]*)(?::(\\d+)|)|)/,Ob={},Pb={},Qb="*/".concat("*"),Rb=Db.href,Sb=Nb.exec(Rb.toLowerCase())||[];function Tb(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(G)||[];if(n.isFunction(c))while(d=f[e++])"+"===d.charAt(0)?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function Ub(a,b,c,d){var e={},f=a===Pb;function g(h){var i;return e[h]=!0,n.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}return g(b.dataTypes[0])||!e["*"]&&g("*")}function Vb(a,b){var c,d,e=n.ajaxSettings.flatOptions||{};for(d in b)void 0!==b[d]&&((e[d]?a:c||(c={}))[d]=b[d]);return c&&n.extend(!0,a,c),a}function Wb(a,b,c){var d,e,f,g,h=a.contents,i=a.dataTypes;while("*"===i[0])i.shift(),void 0===e&&(e=a.mimeType||b.getResponseHeader("Content-Type"));if(e)for(g in h)if(h[g]&&h[g].test(e)){i.unshift(g);break}if(i[0]in c)f=i[0];else{for(g in c){if(!i[0]||a.converters[g+" "+i[0]]){f=g;break}d||(d=g)}f=f||d}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function Xb(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];f=k.shift();while(f)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}n.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Rb,type:"GET",isLocal:Kb.test(Sb[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Qb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\\bxml\\b/,html:/\\bhtml/,json:/\\bjson\\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":n.parseJSON,"text xml":n.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?Vb(Vb(a,n.ajaxSettings),b):Vb(n.ajaxSettings,a)},ajaxPrefilter:Tb(Ob),ajaxTransport:Tb(Pb),ajax:function(b,c){"object"==typeof b&&(c=b,b=void 0),c=c||{};var d,e,f,g,h,i,j,k,l=n.ajaxSetup({},c),m=l.context||l,o=l.context&&(m.nodeType||m.jquery)?n(m):n.event,p=n.Deferred(),q=n.Callbacks("once memory"),r=l.statusCode||{},s={},t={},u=0,v="canceled",w={readyState:0,getResponseHeader:function(a){var b;if(2===u){if(!k){k={};while(b=Jb.exec(g))k[b[1].toLowerCase()]=b[2]}b=k[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===u?g:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return u||(a=t[c]=t[c]||a,s[a]=b),this},overrideMimeType:function(a){return u||(l.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>u)for(b in a)r[b]=[r[b],a[b]];else w.always(a[w.status]);return this},abort:function(a){var b=a||v;return j&&j.abort(b),y(0,b),this}};if(p.promise(w).complete=q.add,w.success=w.done,w.error=w.fail,l.url=((b||l.url||Rb)+"").replace(Hb,"").replace(Mb,Sb[1]+"//"),l.type=c.method||c.type||l.method||l.type,l.dataTypes=n.trim(l.dataType||"*").toLowerCase().match(G)||[""],null==l.crossDomain&&(d=Nb.exec(l.url.toLowerCase()),l.crossDomain=!(!d||d[1]===Sb[1]&&d[2]===Sb[2]&&(d[3]||("http:"===d[1]?"80":"443"))===(Sb[3]||("http:"===Sb[1]?"80":"443")))),l.data&&l.processData&&"string"!=typeof l.data&&(l.data=n.param(l.data,l.traditional)),Ub(Ob,l,c,w),2===u)return w;i=n.event&&l.global,i&&0===n.active++&&n.event.trigger("ajaxStart"),l.type=l.type.toUpperCase(),l.hasContent=!Lb.test(l.type),f=l.url,l.hasContent||(l.data&&(f=l.url+=(Fb.test(f)?"&":"?")+l.data,delete l.data),l.cache===!1&&(l.url=Ib.test(f)?f.replace(Ib,"$1_="+Eb++):f+(Fb.test(f)?"&":"?")+"_="+Eb++)),l.ifModified&&(n.lastModified[f]&&w.setRequestHeader("If-Modified-Since",n.lastModified[f]),n.etag[f]&&w.setRequestHeader("If-None-Match",n.etag[f])),(l.data&&l.hasContent&&l.contentType!==!1||c.contentType)&&w.setRequestHeader("Content-Type",l.contentType),w.setRequestHeader("Accept",l.dataTypes[0]&&l.accepts[l.dataTypes[0]]?l.accepts[l.dataTypes[0]]+("*"!==l.dataTypes[0]?", "+Qb+"; q=0.01":""):l.accepts["*"]);for(e in l.headers)w.setRequestHeader(e,l.headers[e]);if(l.beforeSend&&(l.beforeSend.call(m,w,l)===!1||2===u))return w.abort();v="abort";for(e in{success:1,error:1,complete:1})w[e](l[e]);if(j=Ub(Pb,l,c,w)){if(w.readyState=1,i&&o.trigger("ajaxSend",[w,l]),2===u)return w;l.async&&l.timeout>0&&(h=a.setTimeout(function(){w.abort("timeout")},l.timeout));try{u=1,j.send(s,y)}catch(x){if(!(2>u))throw x;y(-1,x)}}else y(-1,"No Transport");function y(b,c,d,e){var k,s,t,v,x,y=c;2!==u&&(u=2,h&&a.clearTimeout(h),j=void 0,g=e||"",w.readyState=b>0?4:0,k=b>=200&&300>b||304===b,d&&(v=Wb(l,w,d)),v=Xb(l,v,w,k),k?(l.ifModified&&(x=w.getResponseHeader("Last-Modified"),x&&(n.lastModified[f]=x),x=w.getResponseHeader("etag"),x&&(n.etag[f]=x)),204===b||"HEAD"===l.type?y="nocontent":304===b?y="notmodified":(y=v.state,s=v.data,t=v.error,k=!t)):(t=y,!b&&y||(y="error",0>b&&(b=0))),w.status=b,w.statusText=(c||y)+"",k?p.resolveWith(m,[s,y,w]):p.rejectWith(m,[w,y,t]),w.statusCode(r),r=void 0,i&&o.trigger(k?"ajaxSuccess":"ajaxError",[w,l,k?s:t]),q.fireWith(m,[w,y]),i&&(o.trigger("ajaxComplete",[w,l]),--n.active||n.event.trigger("ajaxStop")))}return w},getJSON:function(a,b,c){return n.get(a,b,c,"json")},getScript:function(a,b){return n.get(a,void 0,b,"script")}}),n.each(["get","post"],function(a,b){n[b]=function(a,c,d,e){return n.isFunction(c)&&(e=e||d,d=c,c=void 0),n.ajax(n.extend({url:a,type:b,dataType:e,data:c,success:d},n.isPlainObject(a)&&a))}}),n._evalUrl=function(a){return n.ajax({url:a,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})},n.fn.extend({wrapAll:function(a){if(n.isFunction(a))return this.each(function(b){n(this).wrapAll(a.call(this,b))});if(this[0]){var b=n(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstChild&&1===a.firstChild.nodeType)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return n.isFunction(a)?this.each(function(b){n(this).wrapInner(a.call(this,b))}):this.each(function(){var b=n(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=n.isFunction(a);return this.each(function(c){n(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){n.nodeName(this,"body")||n(this).replaceWith(this.childNodes)}).end()}});function Yb(a){return a.style&&a.style.display||n.css(a,"display")}function Zb(a){if(!n.contains(a.ownerDocument||d,a))return!0;while(a&&1===a.nodeType){if("none"===Yb(a)||"hidden"===a.type)return!0;a=a.parentNode}return!1}n.expr.filters.hidden=function(a){return l.reliableHiddenOffsets()?a.offsetWidth<=0&&a.offsetHeight<=0&&!a.getClientRects().length:Zb(a)},n.expr.filters.visible=function(a){return!n.expr.filters.hidden(a)};var $b=/%20/g,_b=/\\[\\]$/,ac=/\\r?\\n/g,bc=/^(?:submit|button|image|reset|file)$/i,cc=/^(?:input|select|textarea|keygen)/i;function dc(a,b,c,d){var e;if(n.isArray(b))n.each(b,function(b,e){c||_b.test(a)?d(a,e):dc(a+"["+("object"==typeof e&&null!=e?b:"")+"]",e,c,d)});else if(c||"object"!==n.type(b))d(a,b);else for(e in b)dc(a+"["+e+"]",b[e],c,d)}n.param=function(a,b){var c,d=[],e=function(a,b){b=n.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=n.ajaxSettings&&n.ajaxSettings.traditional),n.isArray(a)||a.jquery&&!n.isPlainObject(a))n.each(a,function(){e(this.name,this.value)});else for(c in a)dc(c,a[c],b,e);return d.join("&").replace($b,"+")},n.fn.extend({serialize:function(){return n.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=n.prop(this,"elements");return a?n.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!n(this).is(":disabled")&&cc.test(this.nodeName)&&!bc.test(a)&&(this.checked||!Z.test(a))}).map(function(a,b){var c=n(this).val();return null==c?null:n.isArray(c)?n.map(c,function(a){return{name:b.name,value:a.replace(ac,"\\r\\n")}}):{name:b.name,value:c.replace(ac,"\\r\\n")}}).get()}}),n.ajaxSettings.xhr=void 0!==a.ActiveXObject?function(){return this.isLocal?ic():d.documentMode>8?hc():/^(get|post|head|put|delete|options)$/i.test(this.type)&&hc()||ic()}:hc;var ec=0,fc={},gc=n.ajaxSettings.xhr();a.attachEvent&&a.attachEvent("onunload",function(){for(var a in fc)fc[a](void 0,!0)}),l.cors=!!gc&&"withCredentials"in gc,gc=l.ajax=!!gc,gc&&n.ajaxTransport(function(b){if(!b.crossDomain||l.cors){var c;return{send:function(d,e){var f,g=b.xhr(),h=++ec;if(g.open(b.type,b.url,b.async,b.username,b.password),b.xhrFields)for(f in b.xhrFields)g[f]=b.xhrFields[f];b.mimeType&&g.overrideMimeType&&g.overrideMimeType(b.mimeType),b.crossDomain||d["X-Requested-With"]||(d["X-Requested-With"]="XMLHttpRequest");for(f in d)void 0!==d[f]&&g.setRequestHeader(f,d[f]+"");g.send(b.hasContent&&b.data||null),c=function(a,d){var f,i,j;if(c&&(d||4===g.readyState))if(delete fc[h],c=void 0,g.onreadystatechange=n.noop,d)4!==g.readyState&&g.abort();else{j={},f=g.status,"string"==typeof g.responseText&&(j.text=g.responseText);try{i=g.statusText}catch(k){i=""}f||!b.isLocal||b.crossDomain?1223===f&&(f=204):f=j.text?200:404}j&&e(f,i,j,g.getAllResponseHeaders())},b.async?4===g.readyState?a.setTimeout(c):g.onreadystatechange=fc[h]=c:c()},abort:function(){c&&c(void 0,!0)}}}});function hc(){try{return new a.XMLHttpRequest}catch(b){}}function ic(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}n.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\\b(?:java|ecma)script\\b/},converters:{"text script":function(a){return n.globalEval(a),a}}}),n.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),n.ajaxTransport("script",function(a){if(a.crossDomain){var b,c=d.head||n("head")[0]||d.documentElement;return{send:function(e,f){b=d.createElement("script"),b.async=!0,a.scriptCharset&&(b.charset=a.scriptCharset),b.src=a.url,b.onload=b.onreadystatechange=function(a,c){(c||!b.readyState||/loaded|complete/.test(b.readyState))&&(b.onload=b.onreadystatechange=null,b.parentNode&&b.parentNode.removeChild(b),b=null,c||f(200,"success"))},c.insertBefore(b,c.firstChild)},abort:function(){b&&b.onload(void 0,!0)}}}});var jc=[],kc=/(=)\\?(?=&|$)|\\?\\?/;n.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=jc.pop()||n.expando+"_"+Eb++;return this[a]=!0,a}}),n.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(kc.test(b.url)?"url":"string"==typeof b.data&&0===(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&kc.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=n.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(kc,"$1"+e):b.jsonp!==!1&&(b.url+=(Fb.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||n.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){void 0===f?n(a).removeProp(e):a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,jc.push(e)),g&&n.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),n.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||d;var e=x.exec(a),f=!c&&[];return e?[b.createElement(e[1])]:(e=ja([a],b,f),f&&f.length&&n(f).remove(),n.merge([],e.childNodes))};var lc=n.fn.load;n.fn.load=function(a,b,c){if("string"!=typeof a&&lc)return lc.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>-1&&(d=n.trim(a.slice(h,a.length)),a=a.slice(0,h)),n.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(e="POST"),g.length>0&&n.ajax({url:a,type:e||"GET",dataType:"html",data:b}).done(function(a){f=arguments,g.html(d?n("<div>").append(n.parseHTML(a)).find(d):a)}).always(c&&function(a,b){g.each(function(){c.apply(this,f||[a.responseText,b,a])})}),this},n.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){n.fn[b]=function(a){return this.on(b,a)}}),n.expr.filters.animated=function(a){return n.grep(n.timers,function(b){return a===b.elem}).length};function mc(a){return n.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}n.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=n.css(a,"position"),l=n(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=n.css(a,"top"),i=n.css(a,"left"),j=("absolute"===k||"fixed"===k)&&n.inArray("auto",[f,i])>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),n.isFunction(b)&&(b=b.call(a,c,n.extend({},h))),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},n.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){n.offset.setOffset(this,a,b)});var b,c,d={top:0,left:0},e=this[0],f=e&&e.ownerDocument;if(f)return b=f.documentElement,n.contains(b,e)?("undefined"!=typeof e.getBoundingClientRect&&(d=e.getBoundingClientRect()),c=mc(f),{top:d.top+(c.pageYOffset||b.scrollTop)-(b.clientTop||0),left:d.left+(c.pageXOffset||b.scrollLeft)-(b.clientLeft||0)}):d},position:function(){if(this[0]){var a,b,c={top:0,left:0},d=this[0];return"fixed"===n.css(d,"position")?b=d.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),n.nodeName(a[0],"html")||(c=a.offset()),c.top+=n.css(a[0],"borderTopWidth",!0),c.left+=n.css(a[0],"borderLeftWidth",!0)),{top:b.top-c.top-n.css(d,"marginTop",!0),left:b.left-c.left-n.css(d,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var a=this.offsetParent;while(a&&!n.nodeName(a,"html")&&"static"===n.css(a,"position"))a=a.offsetParent;return a||Qa})}}),n.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c=/Y/.test(b);n.fn[a]=function(d){return Y(this,function(a,d,e){var f=mc(a);return void 0===e?f?b in f?f[b]:f.document.documentElement[d]:a[d]:void(f?f.scrollTo(c?n(f).scrollLeft():e,c?e:n(f).scrollTop()):a[d]=e)},a,d,arguments.length,null)}}),n.each(["top","left"],function(a,b){n.cssHooks[b]=Ua(l.pixelPosition,function(a,c){return c?(c=Sa(a,b),Oa.test(c)?n(a).position()[b]+"px":c):void 0})}),n.each({Height:"height",Width:"width"},function(a,b){n.each({\npadding:"inner"+a,content:b,"":"outer"+a},function(c,d){n.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return Y(this,function(b,c,d){var e;return n.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?n.css(b,c,g):n.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),n.fn.extend({bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}}),n.fn.size=function(){return this.length},n.fn.andSelf=n.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return n});var nc=a.jQuery,oc=a.$;return n.noConflict=function(b){return a.$===n&&(a.$=oc),b&&a.jQuery===n&&(a.jQuery=nc),n},b||(a.jQuery=a.$=n),n});\n'},function(e,t,n){n(3)(n(62))},function(e,t){e.exports="/*!\r\n * crosstab JavaScript Library v0.2.7\r\n * https://github.com/tejacques/crosstab\r\n *\r\n * License: Apache 2.0 https://github.com/tejacques/crosstab/blob/master/LICENSE\r\n */\r\n; (function (define) { define('crosstab', function (require, exports, module) {\r\n  'use strict';\r\n\r\n  var useragent = navigator.userAgent || navigator.vendor || window.opera;\r\n  var isMobile = (/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od|ad)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(useragent) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(useragent.substr(0, 4)));\r\n\r\n  var localStorage;\r\n  try {\r\n  localStorage = window.localStorage;\r\n  localStorage = window['ie-eventlistener/storage'] || window.localStorage;\r\n  } catch (e) {\r\n  }\r\n\r\n  //\r\n  // \"QUOTA_EXCEEDED_ERR: DOM Exception 22: An attempt was made\r\n  // to add something to storage that exceeded the quota.\"\r\n  var setItemAllowed = true;\r\n  try {\r\n  localStorage.setItem('__crosstab', '');\r\n  localStorage.removeItem('__crosstab');\r\n  } catch (e) {\r\n  setItemAllowed = false;\r\n  }\r\n\r\n  var frozenTabEnvironment = false;\r\n\r\n  function notSupported() {\r\n  if (crosstab.supported) return;\r\n  var errorMsg = 'crosstab not supported';\r\n  var reasons = [];\r\n  if (!localStorage) {\r\n  reasons.push('localStorage not availabe');\r\n  }\r\n  if (!window.addEventListener) {\r\n  reasons.push('addEventListener not available');\r\n  }\r\n  if (isMobile) {\r\n  reasons.push('mobile browser');\r\n  }\r\n  if (frozenTabEnvironment) {\r\n  reasons.push('frozen tab environment detected');\r\n  }\r\n  if (!setItemAllowed) {\r\n  reasons.push('localStorage.setItem not allowed');\r\n  }\r\n\r\n  if (reasons.length > 0) {\r\n  errorMsg += ': ' + reasons.join(', ');\r\n  }\r\n\r\n  throw new Error(errorMsg);\r\n  }\r\n\r\n  var util = {\r\n  keys: {\r\n  MESSAGE_KEY: 'crosstab.MESSAGE_KEY',\r\n  TABS_KEY: 'crosstab.TABS_KEY',\r\n  MASTER_TAB: 'MASTER_TAB',\r\n  SUPPORTED_KEY: 'crosstab.SUPPORTED',\r\n  FROZEN_TAB_ENVIRONMENT: 'crosstab.FROZEN_TAB_ENVIRONMENT'\r\n  }\r\n  };\r\n\r\n  var toString = Object.prototype.toString;\r\n\r\n  util.isArray = Array.isArray || function (arr) {\r\n  return arr instanceof Array;\r\n  };\r\n\r\n  util.isNumber = function (num) {\r\n  return typeof num === 'number';\r\n  };\r\n\r\n  util.isFunction = function (fn) {\r\n  return typeof fn === 'function';\r\n  };\r\n\r\n  util.forEachObj = function (obj, fn) {\r\n  for (var key in obj) {\r\n  if (obj.hasOwnProperty(key)) {\r\n  fn.call(obj, obj[key], key);\r\n  }\r\n  }\r\n  };\r\n\r\n  util.forEachArr = function (arr, fn) {\r\n  var len = arr.length;\r\n  for (var i = 0; i < len; i++) {\r\n  fn.call(arr, arr[i], i, arr);\r\n  }\r\n  };\r\n\r\n  util.forEach = function (thing, fn) {\r\n  if (util.isArray(thing)) {\r\n  util.forEachArr(thing, fn);\r\n  } else {\r\n  util.forEachObj(thing, fn);\r\n  }\r\n  };\r\n\r\n  util.map = function (thing, fn) {\r\n  var res = [];\r\n  util.forEach(thing, function (item) {\r\n  res.push(fn(item));\r\n  });\r\n\r\n  return res;\r\n  };\r\n\r\n  util.filter = function (thing, fn) {\r\n  var isArr = util.isArray(thing);\r\n  var res = isArr ? [] : {};\r\n\r\n  if (isArr) {\r\n  util.forEachArr(thing, function (value, key) {\r\n  if (fn(value, key)) {\r\n  res.push(value);\r\n  }\r\n  });\r\n  } else {\r\n  util.forEachObj(thing, function (value, key) {\r\n  if (fn(value, key)) {\r\n  res[key] = value;\r\n  }\r\n  });\r\n  }\r\n\r\n  return res;\r\n  };\r\n\r\n  util.now = function () {\r\n  return (new Date()).getTime();\r\n  };\r\n\r\n  util.tabs = getStoredTabs();\r\n\r\n  util.eventTypes = {\r\n  becomeMaster: 'becomeMaster',\r\n  demoteFromMaster: 'demotedFromMaster',\r\n  tabUpdated: 'tabUpdated',\r\n  tabClosed: 'tabClosed',\r\n  tabPromoted: 'tabPromoted'\r\n  };\r\n\r\n  util.createEventHandler = function () {\r\n  var events = {};\r\n  var subscribeKeyToListener = {};\r\n\r\n  var findHandlerByKey = function(event, key) {\r\n  var handler;\r\n  if (subscribeKeyToListener[event]) {\r\n  handler = subscribeKeyToListener[event][key];\r\n  }\r\n  return handler;\r\n  };\r\n\r\n  var findHandlerIndex = function (event, listener) {\r\n  var listenerIndex = -1;\r\n  var eventList = events[event];\r\n  if (eventList && listener) {\r\n  var len = eventList.length || 0;\r\n  for(var i = 0; i < len; i++) {\r\n  if (eventList[i] === listener) {\r\n  listenerIndex = i;\r\n  break;\r\n  }\r\n  }\r\n  }\r\n  return listenerIndex;\r\n  };\r\n\r\n  var addListener = function (event, listener, key) {\r\n  var handlers = listeners(event);\r\n\r\n  var storedHandler = findHandlerByKey(event, key);\r\n  var listenerIndex;\r\n\r\n  if (storedHandler === undefined) {\r\n  listenerIndex = handlers.length;\r\n  handlers[listenerIndex] = listener;\r\n\r\n  if (!subscribeKeyToListener[event]) {\r\n  (subscribeKeyToListener[event] = {});\r\n  }\r\n\r\n  if (key) {\r\n  subscribeKeyToListener[event][key] = listener;\r\n  }\r\n  } else {\r\n  listenerIndex = findHandlerIndex(event, storedHandler);\r\n  handlers[listenerIndex] = listener;\r\n  }\r\n\r\n  return key || listener;\r\n  };\r\n\r\n  var removeListener = function (event, key) {\r\n  var handler = util.isFunction(key)\r\n  ? key\r\n  : findHandlerByKey(event, key);\r\n\r\n  var listenerIndex = findHandlerIndex(event, handler);\r\n  if (listenerIndex === -1) return false;\r\n\r\n  if (events[event] && events[event][listenerIndex]) {\r\n  events[event].splice(listenerIndex, 1);\r\n  delete subscribeKeyToListener[event][key];\r\n  return true;\r\n  }\r\n  return false;\r\n  };\r\n\r\n  var removeAllListeners = function (event) {\r\n  var successful = false;\r\n  if (event) {\r\n  if (events[event]) {\r\n  delete events[event];\r\n  successful = true;\r\n  }\r\n  if (subscribeKeyToListener[event]) {\r\n  delete subscribeKeyToListener[event];\r\n  successful = successful && true;\r\n  }\r\n  } else {\r\n  events = {};\r\n  subscribeKeyToListener = {};\r\n  successful = true;\r\n  }\r\n  return successful;\r\n  };\r\n\r\n  var emit = function (event) {\r\n  var args = Array.prototype.slice.call(arguments, 1);\r\n  var handlers = listeners(event);\r\n\r\n  util.forEach(handlers, function (listener) {\r\n  if (util.isFunction(listener)) {\r\n  listener.apply(this, args);\r\n  }\r\n  });\r\n  };\r\n\r\n  var once = function (event, listener, key) {\r\n  while (!key || (findHandlerByKey(event, key) !== undefined)) {\r\n  key = util.generateId();\r\n  }\r\n\r\n  addListener(event, function () {\r\n  removeListener(event, key);\r\n  var args = Array.prototype.slice.call(arguments);\r\n  listener.apply(this, args);\r\n  }, key);\r\n\r\n  return key;\r\n  };\r\n\r\n  var listeners = function (event) {\r\n  var handlers = events[event] = events[event] || [];\r\n  return handlers;\r\n  };\r\n\r\n  var destructor = function() {\r\n  removeAllListeners();\r\n  };\r\n\r\n  return {\r\n  addListener: addListener,\r\n  destructor: destructor,\r\n  on: addListener,\r\n  off: function(event, key) {\r\n  var argsLen = arguments.length;\r\n  if (!argsLen) {\r\n  return removeAllListeners();\r\n  } else if (argsLen === 1) {\r\n  return removeAllListeners(event);\r\n  } else {\r\n  return removeListener(event, key);\r\n  }\r\n  },\r\n  once: once,\r\n  emit: emit,\r\n  listeners: listeners,\r\n  removeListener: removeListener,\r\n  removeAllListeners: removeAllListeners\r\n  };\r\n  };\r\n\r\n  var eventHandler = util.createEventHandler();\r\n\r\n  util.events = {\r\n  addListener: eventHandler.addListener,\r\n  on: eventHandler.on,\r\n  off: eventHandler.off,\r\n  once: eventHandler.once,\r\n  emit: eventHandler.emit,\r\n  listeners: eventHandler.listeners,\r\n  removeListener: eventHandler.removeListener,\r\n  removeAllListeners: eventHandler.removeAllListeners,\r\n  destructor: eventHandler.destructor\r\n  };\r\n\r\n  var lastNewValue;\r\n  var lastOldValue;\r\n  function onStorageEvent(event) {\r\n  var eventValue;\r\n  var wasSupported = crosstab.supported;\r\n  try {\r\n  eventValue = event.newValue ? JSON.parse(event.newValue) : {};\r\n  } catch (e) {\r\n  eventValue = {};\r\n  }\r\n  if (!eventValue.id || eventValue.id === crosstab.id) {\r\n  return;\r\n  }\r\n  if (event.newValue === lastNewValue && event.oldValue === lastOldValue) {\r\n  return;\r\n  }\r\n  lastNewValue = event.newValue;\r\n  lastOldValue = event.oldValue;\r\n  if (event.key === util.keys.MESSAGE_KEY) {\r\n  var message = eventValue.data;\r\n  if (!message.destination || message.destination === crosstab.id) {\r\n  eventHandler.emit(message.event, message);\r\n  }\r\n  } else if (event.key === util.keys.FROZEN_TAB_ENVIRONMENT) {\r\n  frozenTabEnvironment = eventValue.data;\r\n  crosstab.supported = crosstab.supported && !eventValue.data;\r\n  } else if (event.key === util.keys.SUPPORTED_KEY) {\r\n  crosstab.supported = crosstab.supported && eventValue.data;\r\n  }\r\n  }\r\n\r\n  function setLocalStorageItem(key, data) {\r\n  var storageItem = {\r\n  id: crosstab.id,\r\n  data: data,\r\n  timestamp: util.now()\r\n  };\r\n\r\n  localStorage.setItem(key, JSON.stringify(storageItem));\r\n  }\r\n\r\n  function getLocalStorageItem(key) {\r\n  var item = getLocalStorageRaw(key);\r\n  return item.data;\r\n  }\r\n\r\n  function getLocalStorageRaw(key) {\r\n  var json = localStorage ? localStorage.getItem(key) : null;\r\n  var item = json ? JSON.parse(json) : {};\r\n  return item;\r\n  }\r\n\r\n  function unload() {\r\n  crosstab.stopKeepalive = true;\r\n  var numTabs = 0;\r\n  util.forEach(util.tabs, function (tab, key) {\r\n  if (key !== util.keys.MASTER_TAB) {\r\n  numTabs++;\r\n  }\r\n  });\r\n\r\n  if (numTabs === 1) {\r\n  util.tabs = {};\r\n  setStoredTabs();\r\n  } else {\r\n  broadcast(util.eventTypes.tabClosed, crosstab.id);\r\n  }\r\n\r\n  }\r\n\r\n  function restoreLoop() {\r\n  crosstab.stopKeepalive = false;\r\n  keepaliveLoop();\r\n  }\r\n\r\n  function swapUnloadEvents() {\r\n  window.removeEventListener('beforeunload', unload, false);\r\n  window.addEventListener('unload', unload, false);\r\n  restoreLoop();\r\n  }\r\n\r\n  function getMaster() {\r\n  return util.tabs[util.keys.MASTER_TAB];\r\n  }\r\n\r\n  function setMaster(newMaster) {\r\n  util.tabs[util.keys.MASTER_TAB] = newMaster;\r\n  }\r\n\r\n  function deleteMaster() {\r\n  delete util.tabs[util.keys.MASTER_TAB];\r\n  }\r\n\r\n  function getMasterId() {\r\n  var master = getMaster();\r\n\r\n  return master ? master.id : 0;\r\n  }\r\n\r\n  function isMaster() {\r\n  return getMasterId() === crosstab.id;\r\n  }\r\n\r\n  function masterTabElection() {\r\n  var maxId = null;\r\n  util.forEach(util.tabs, function (tab) {\r\n  if (!maxId || tab.id < maxId) {\r\n  maxId = tab.id;\r\n  }\r\n  });\r\n\r\n  if (maxId === crosstab.id) {\r\n  broadcast(util.eventTypes.tabPromoted, crosstab.id);\r\n  } else {\r\n  setMaster({\r\n  id: maxId,\r\n  lastUpdated: util.now()\r\n  });\r\n  }\r\n  }\r\n\r\n  eventHandler.addListener(util.eventTypes.tabClosed, function (message) {\r\n  var id = message.data;\r\n  if (util.tabs[id]) {\r\n  delete util.tabs[id];\r\n  }\r\n\r\n  if (!getMaster() || getMaster().id === id) {\r\n  if (getMaster()) {\r\n  deleteMaster();\r\n  }\r\n  masterTabElection();\r\n  } else if (getMaster().id === crosstab.id) {\r\n  setStoredTabs();\r\n  }\r\n  });\r\n\r\n  eventHandler.addListener(util.eventTypes.tabUpdated, function (message) {\r\n  var tab = message.data;\r\n  util.tabs[tab.id] = tab;\r\n\r\n  if (!getMaster()) {\r\n  masterTabElection();\r\n  }\r\n\r\n  if (getMasterId() === tab.id) {\r\n  setMaster(tab);\r\n  }\r\n  if (isMaster()) {\r\n  setStoredTabs();\r\n  }\r\n  });\r\n\r\n  eventHandler.addListener(util.eventTypes.tabPromoted, function (message) {\r\n  var id = message.data;\r\n  var lastUpdated = message.timestamp;\r\n  var previousMaster = getMasterId();\r\n  setMaster({\r\n  id: id,\r\n  lastUpdated: lastUpdated\r\n  });\r\n\r\n  if (isMaster()\r\n  && previousMaster !== crosstab.id) {\r\n  setStoredTabs();\r\n\r\n  util.events.emit(util.eventTypes.becomeMaster);\r\n  } else if (!isMaster()\r\n  && previousMaster === crosstab.id) {\r\n  util.events.emit(util.eventTypes.demoteFromMaster);\r\n  }\r\n  });\r\n\r\n  function pad(num, width, padChar) {\r\n  padChar = padChar || '0';\r\n  var numStr = (num.toString());\r\n\r\n  if (numStr.length >= width) {\r\n  return numStr;\r\n  }\r\n\r\n  return new Array(width - numStr.length + 1).join(padChar) + numStr;\r\n  }\r\n\r\n  util.generateId = function () {\r\n  \r\n  return util.now().toString() + pad((Math.random() * 0x7FFFFFFF) | 0, 10);\r\n  };\r\n\r\n  function broadcast(event, data, destination) {\r\n  if (!crosstab.supported) {\r\n  notSupported();\r\n  }\r\n\r\n  var message = {\r\n  id: util.generateId(),\r\n  event: event,\r\n  data: data,\r\n  destination: destination,\r\n  origin: crosstab.id,\r\n  timestamp: util.now()\r\n  };\r\n\r\n  if (message.destination !== message.origin) {\r\n  setLocalStorageItem(util.keys.MESSAGE_KEY, message);\r\n  }\r\n\r\n  if (!message.destination || message.destination === message.origin) {\r\n  eventHandler.emit(event, message);\r\n  }\r\n  }\r\n\r\n  function broadcastMaster(event, data) {\r\n  broadcast(event, data, getMaster().id);\r\n  }\r\n\r\n  var setupComplete = false;\r\n  util.events.once('setupComplete', function () {\r\n  setupComplete = true;\r\n  });\r\n\r\n  var crosstab = function (fn) {\r\n  if (setupComplete) {\r\n  fn();\r\n  } else {\r\n  util.events.once('setupComplete', fn);\r\n  }\r\n  };\r\n\r\n  crosstab.id = util.generateId();\r\n  crosstab.supported = !!localStorage && window.addEventListener && !isMobile && setItemAllowed;\r\n  crosstab.util = util;\r\n  crosstab.broadcast = broadcast;\r\n  crosstab.broadcastMaster = broadcastMaster;\r\n  crosstab.on = util.events.on;\r\n  crosstab.once = util.events.once;\r\n  crosstab.off = util.events.off;\r\n\r\n  if (!setupComplete && crosstab.supported) {\r\n  var frozenTabsRaw = getLocalStorageRaw(util.keys.FROZEN_TAB_ENVIRONMENT);\r\n  var frozenTabs = frozenTabsRaw.data;\r\n  if (frozenTabs === true) {\r\n  frozenTabEnvironmentDetected();\r\n  }\r\n\r\n  var supportedRaw = getLocalStorageRaw(util.keys.SUPPORTED_KEY);\r\n  var supported = supportedRaw.data;\r\n  if (supported === false || supported === true) {\r\n  crosstab.supported = supported;\r\n  util.events.emit('setupComplete');\r\n  }\r\n  }\r\n\r\n  function frozenTabEnvironmentDetected() {\r\n  crosstab.supported = false;\r\n  frozenTabEnvironment = true;\r\n  setLocalStorageItem(util.keys.FROZEN_TAB_ENVIRONMENT, true);\r\n  setLocalStorageItem(util.keys.SUPPORTED_KEY, false);\r\n  }\r\n\r\n  var TAB_KEEPALIVE = 3 * 1000;\r\n  var TAB_TIMEOUT = 5 * 1000;\r\n  var PING_TIMEOUT = 500;\r\n\r\n  function getStoredTabs() {\r\n  var storedTabs = getLocalStorageItem(util.keys.TABS_KEY);\r\n  util.tabs = storedTabs || util.tabs || {};\r\n  return util.tabs;\r\n  }\r\n\r\n  function setStoredTabs() {\r\n  setLocalStorageItem(util.keys.TABS_KEY, util.tabs);\r\n  }\r\n\r\n  function keepalive() {\r\n  var now = util.now();\r\n\r\n  var myTab = {\r\n  id: crosstab.id,\r\n  lastUpdated: now\r\n  };\r\n\r\n  broadcast(util.eventTypes.tabUpdated, myTab);\r\n\r\n  function stillAlive(tab) {\r\n  return now - tab.lastUpdated < TAB_TIMEOUT;\r\n  }\r\n\r\n  function notAlive(tab, key) {\r\n  return key !== util.keys.MASTER_TAB && !stillAlive(tab);\r\n  }\r\n\r\n  var deadTabs = util.filter(util.tabs, notAlive);\r\n  util.forEach(deadTabs, function (tab) {\r\n  broadcast(util.eventTypes.tabClosed, tab.id);\r\n  });\r\n\r\n  if (!setupComplete) {\r\n  var masterTab = crosstab.util.tabs[crosstab.util.keys.MASTER_TAB];\r\n  if (masterTab && masterTab.id !== myTab.id) {\r\n  var timeout;\r\n  var start;\r\n\r\n  crosstab.util.events.once('PONG', function () {\r\n  if (!setupComplete) {\r\n  clearTimeout(timeout);\r\n  setLocalStorageItem(\r\n  util.keys.SUPPORTED_KEY,\r\n  true);\r\n  setLocalStorageItem(\r\n  util.keys.FROZEN_TAB_ENVIRONMENT,\r\n  false);\r\n  util.events.emit('setupComplete');\r\n  }\r\n  });\r\n\r\n  start = util.now();\r\n\r\n  // timeout, with iters \"yields\" to the event loop. So at least\r\n  var recursiveTimeout = function (iters) {\r\n  var diff = util.now() - start;\r\n\r\n  if (!setupComplete) {\r\n  if (iters <= 0 && diff > PING_TIMEOUT) {\r\n  frozenTabEnvironmentDetected();\r\n  util.events.emit('setupComplete');\r\n  } else {\r\n  timeout = setTimeout(function () {\r\n  recursiveTimeout(iters - 1);\r\n  }, 5);\r\n  }\r\n  }\r\n  };\r\n\r\n  var iterations = 5;\r\n  timeout = setTimeout(function () {\r\n  recursiveTimeout(5);\r\n  }, PING_TIMEOUT - 5 * iterations);\r\n  crosstab.broadcastMaster('PING');\r\n  } else if (masterTab && masterTab.id === myTab.id) {\r\n  util.events.emit('setupComplete');\r\n  }\r\n  }\r\n  }\r\n\r\n  function keepaliveLoop() {\r\n  if (crosstab.supported && !crosstab.stopKeepalive) {\r\n  keepalive();\r\n  }\r\n  }\r\n\r\n  if (!crosstab.supported) {\r\n  crosstab.broadcast = notSupported;\r\n  } else {\r\n  window.addEventListener('storage', onStorageEvent, false);\r\n  window.addEventListener('beforeunload', unload, false);\r\n  window.addEventListener('DOMContentLoaded', swapUnloadEvents, false);\r\n\r\n  util.events.on('PING', function (message) {\r\n  if (!message.destination || message.destination !== crosstab.id) {\r\n  return;\r\n  }\r\n\r\n  if (util.now() - message.timestamp < PING_TIMEOUT) {\r\n  crosstab.broadcast('PONG', null, message.origin);\r\n  }\r\n  });\r\n\r\n  setInterval(keepaliveLoop, TAB_KEEPALIVE);\r\n  keepaliveLoop();\r\n  }\r\n\r\n  module.exports = crosstab;\r\n\r\n/*!\r\n * UMD/AMD/Global context Module Loader wrapper\r\n * based off https://gist.github.com/wilsonpage/8598603\r\n *\r\n * This wrapper will try to use a module loader with the\r\n * following priority:\r\n *\r\n *  1.) AMD\r\n *  2.) CommonJS\r\n *  3.) Context Variable (window in the browser)\r\n */\r\n});})(typeof define == 'function' && define.amd ? define\r\n  : (function (context) {\r\n  'use strict';\r\n  return typeof module == 'object' ? function (name, factory) {\r\n  factory(require, exports, module);\r\n  }\r\n  : function (name, factory) {\r\n  var module = {\r\n  exports: {}\r\n  };\r\n  var require = function (n) {\r\n  if (n === 'jquery') {\r\n  n = 'jQuery';\r\n  }\r\n  return context[n];\r\n  };\r\n\r\n  factory(require, module.exports, module);\r\n  context[name] = module.exports;\r\n  };\r\n  })(this));\r\n"},function(e,t,n){n(3)(n(64))},function(e,t,n){"use strict";n(65),n(63),n(61),n(59),n(57),n(55),n(53),window.async=n(51),n(48),n(46),n(44),n(42),n(40),n(29),n(37),n(36),n(35)},function(e,t,n){e.exports=n(66)}]);